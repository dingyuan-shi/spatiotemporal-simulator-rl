window.TILE_VERSION = { "ditu": { "normal": { "version": "088", "updateDate": "20231130" }, "satellite": { "version": "009", "updateDate": "20231130" }, "normalTraffic": { "version": "081", "updateDate": "20231130" }, "satelliteTraffic": { "version": "083", "updateDate": "20231130" }, "mapJS": { "version": "104", "updateDate": "20231130" }, "satelliteStreet": { "version": "083", "updateDate": "20231130" }, "earthVector": { "version": "001", "updateDate": "20231130" } }, "webapp": { "high_normal": { "version": "001", "updateDate": "20231130" }, "lower_normal": { "version": "002", "updateDate": "20231130" } }, "api_for_mobile": { "vector": { "version": "002", "updateDate": "20231130" }, "vectorIcon": { "version": "002", "updateDate": "20231130" } } }; window.BMAP_AUTHENTIC_KEY = "8XmigGlbbGNkKS7hdhKXR2gw4XUyImyE"; (function () { function aa(a) { throw a; } var k = void 0, o = !0, p = null, q = !1; function t() { return function () { } } function da(a) { return function (b) { this[a] = b } } function v(a) { return function () { return this[a] } } function ea(a) { return function () { return a } } var fa, ga = []; function ha(a) { return function () { return ga[a].apply(this, arguments) } } function ia(a, b) { return ga[a] = b } var ja, x = ja = x || { version: "1.3.4" }; x.ba = "$BAIDU$"; window[x.ba] = window[x.ba] || {}; x.object = x.object || {}; x.extend = x.object.extend = function (a, b) { for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c]); return a }; x.K = x.K || {}; x.K.$ = function (a) { return "string" == typeof a || a instanceof String ? document.getElementById(a) : a && a.nodeName && (1 == a.nodeType || 9 == a.nodeType) ? a : p }; x.$ = x.Ec = x.K.$; x.K.U = function (a) { a = x.K.$(a); if (a === p) return a; a.style.display = "none"; return a }; x.U = x.K.U; x.lang = x.lang || {}; x.lang.ug = function (a) { return "[object String]" == Object.prototype.toString.call(a) }; x.ug = x.lang.ug; x.K.Xj = function (a) { return x.lang.ug(a) ? document.getElementById(a) : a }; x.Xj = x.K.Xj; x.K.getElementsByClassName = function (a, b) { var c; if (a.getElementsByClassName) c = a.getElementsByClassName(b); else { var d = a; d == p && (d = document); c = []; var d = d.getElementsByTagName("*"), e = d.length, f = RegExp("(^|\\s)" + b + "(\\s|$)"), g, i; for (i = g = 0; g < e; g++)f.test(d[g].className) && (c[i] = d[g], i++) } return c }; x.getElementsByClassName = x.K.getElementsByClassName; x.K.contains = function (a, b) { var c = x.K.Xj, a = c(a), b = c(b); return a.contains ? a != b && a.contains(b) : !!(a.compareDocumentPosition(b) & 16) }; x.ca = x.ca || {}; /msie (\d+\.\d)/i.test(navigator.userAgent) && (x.ca.ma = x.ma = document.documentMode || +RegExp.$1); var ka = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", rowspan: "rowSpan", valign: "vAlign", usemap: "useMap", frameborder: "frameBorder" }; 8 > x.ca.ma ? (ka["for"] = "htmlFor", ka["class"] = "className") : (ka.htmlFor = "for", ka.className = "class"); x.K.jH = ka; x.K.WF = function (a, b, c) { a = x.K.$(a); if (a === p) return a; if ("style" == b) a.style.cssText = c; else { b = x.K.jH[b] || b; a.setAttribute(b, c) } return a }; x.WF = x.K.WF; x.K.XF = function (a, b) { a = x.K.$(a); if (a === p) return a; for (var c in b) x.K.WF(a, c, b[c]); return a }; x.XF = x.K.XF; x.al = x.al || {}; (function () { var a = RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)", "g"); x.al.trim = function (b) { return ("" + b).replace(a, "") } })(); x.trim = x.al.trim; x.al.lp = function (a, b) { var a = "" + a, c = Array.prototype.slice.call(arguments, 1), d = Object.prototype.toString; if (c.length) { c = c.length == 1 ? b !== p && /\[object Array\]|\[object Object\]/.test(d.call(b)) ? b : c : c; return a.replace(/#\{(.+?)\}/g, function (a, b) { var g = c[b]; "[object Function]" == d.call(g) && (g = g(b)); return "undefined" == typeof g ? "" : g }) } return a }; x.lp = x.al.lp; x.K.Tb = function (a, b) { a = x.K.$(a); if (a === p) return a; for (var c = a.className.split(/\s+/), d = b.split(/\s+/), e, f = d.length, g, i = 0; i < f; ++i) { g = 0; for (e = c.length; g < e; ++g)if (c[g] == d[i]) { c.splice(g, 1); break } } a.className = c.join(" "); return a }; x.Tb = x.K.Tb; x.K.my = function (a, b, c) { a = x.K.$(a); if (a === p) return a; var d; if (a.insertAdjacentHTML) a.insertAdjacentHTML(b, c); else { d = a.ownerDocument.createRange(); b = b.toUpperCase(); if (b == "AFTERBEGIN" || b == "BEFOREEND") { d.selectNodeContents(a); d.collapse(b == "AFTERBEGIN") } else { b = b == "BEFOREBEGIN"; d[b ? "setStartBefore" : "setEndAfter"](a); d.collapse(b) } d.insertNode(d.createContextualFragment(c)) } return a }; x.my = x.K.my; x.K.show = function (a) { a = x.K.$(a); if (a === p) return a; a.style.display = ""; return a }; x.show = x.K.show; x.K.lE = function (a) { a = x.K.$(a); return a === p ? a : a.nodeType == 9 ? a : a.ownerDocument || a.document }; x.K.Ta = function (a, b) { a = x.K.$(a); if (a === p) return a; for (var c = b.split(/\s+/), d = a.className, e = " " + d + " ", f = 0, g = c.length; f < g; f++)e.indexOf(" " + c[f] + " ") < 0 && (d = d + (" " + c[f])); a.className = d; return a }; x.Ta = x.K.Ta; x.K.iC = x.K.iC || {}; x.K.Yl = x.K.Yl || []; x.K.Yl.filter = function (a, b, c) { for (var d = 0, e = x.K.Yl, f; f = e[d]; d++)if (f = f[c]) b = f(a, b); return b }; x.al.eP = function (a) { return a.indexOf("-") < 0 && a.indexOf("_") < 0 ? a : a.replace(/[-_][^-_]/g, function (a) { return a.charAt(1).toUpperCase() }) }; x.K.r0 = function (a) { x.K.Et(a, "expand") ? x.K.Tb(a, "expand") : x.K.Ta(a, "expand") }; x.K.Et = function (a) { if (arguments.length <= 0 || typeof a === "function") return this; if (this.size() <= 0) return q; var a = a.replace(/^\s+/g, "").replace(/\s+$/g, "").replace(/\s+/g, " "), b = a.split(" "), c; x.forEach(this, function (a) { for (var a = a.className, e = 0; e < b.length; e++)if (!~(" " + a + " ").indexOf(" " + b[e] + " ")) { c = q; return } c !== q && (c = o) }); return c }; x.K.oh = function (a, b) { var c = x.K, a = c.$(a); if (a === p) return a; var b = x.al.eP(b), d = a.style[b]; if (!d) var e = c.iC[b], d = a.currentStyle || (x.ca.ma ? a.style : getComputedStyle(a, p)), d = e && e.get ? e.get(a, d) : d[e || b]; if (e = c.Yl) d = e.filter(b, d, "get"); return d }; x.oh = x.K.oh; /opera\/(\d+\.\d)/i.test(navigator.userAgent) && (x.ca.opera = +RegExp.$1); x.ca.UM = /webkit/i.test(navigator.userAgent); x.ca.$Y = /gecko/i.test(navigator.userAgent) && !/like gecko/i.test(navigator.userAgent); x.ca.ZE = "CSS1Compat" == document.compatMode; x.K.ia = function (a) { a = x.K.$(a); if (a === p) return a; var b = x.K.lE(a), c = x.ca, d = x.K.oh; c.$Y > 0 && b.getBoxObjectFor && d(a, "position"); var e = { left: 0, top: 0 }, f; if (a == (c.ma && !c.ZE ? b.body : b.documentElement)) return e; if (a.getBoundingClientRect) { a = a.getBoundingClientRect(); e.left = Math.floor(a.left) + Math.max(b.documentElement.scrollLeft, b.body.scrollLeft); e.top = Math.floor(a.top) + Math.max(b.documentElement.scrollTop, b.body.scrollTop); e.left = e.left - b.documentElement.clientLeft; e.top = e.top - b.documentElement.clientTop; a = b.body; b = parseInt(d(a, "borderLeftWidth")); d = parseInt(d(a, "borderTopWidth")); if (c.ma && !c.ZE) { e.left = e.left - (isNaN(b) ? 2 : b); e.top = e.top - (isNaN(d) ? 2 : d) } } else { f = a; do { e.left = e.left + f.offsetLeft; e.top = e.top + f.offsetTop; if (c.UM > 0 && d(f, "position") == "fixed") { e.left = e.left + b.body.scrollLeft; e.top = e.top + b.body.scrollTop; break } f = f.offsetParent } while (f && f != a); if (c.opera > 0 || c.UM > 0 && d(a, "position") == "absolute") e.top = e.top - b.body.offsetTop; for (f = a.offsetParent; f && f != b.body;) { e.left = e.left - f.scrollLeft; if (!c.opera || f.tagName != "TR") e.top = e.top - f.scrollTop; f = f.offsetParent } } return e }; /firefox\/(\d+\.\d)/i.test(navigator.userAgent) && (x.ca.Te = +RegExp.$1); /BIDUBrowser/i.test(navigator.userAgent) && (x.ca.s2 = o); var la = navigator.userAgent; /(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(la) && !/chrome/i.test(la) && (x.ca.QF = +(RegExp.$1 || RegExp.$2)); /chrome\/(\d+\.\d)/i.test(navigator.userAgent) && (x.ca.gx = +RegExp.$1); x.kc = x.kc || {}; x.kc.Fb = function (a, b) { var c, d, e = a.length; if ("function" == typeof b) for (d = 0; d < e; d++) { c = a[d]; c = b.call(a, c, d); if (c === q) break } return a }; x.Fb = x.kc.Fb; x.lang.ba = function () { return "TANGRAM__" + (window[x.ba]._counter++).toString(36) }; window[x.ba]._counter = window[x.ba]._counter || 1; window[x.ba]._instances = window[x.ba]._instances || {}; x.lang.Pt = function (a) { return "[object Function]" == Object.prototype.toString.call(a) }; x.lang.Da = function (a) { this.ba = a || x.lang.ba(); window[x.ba]._instances[this.ba] = this }; window[x.ba]._instances = window[x.ba]._instances || {}; x.lang.Da.prototype.ni = ha(0); x.lang.Da.prototype.toString = function () { return "[object " + (this.lR || "Object") + "]" }; x.lang.Iz = function (a, b) { this.type = a; this.returnValue = o; this.target = b || p; this.currentTarget = p }; x.lang.Da.prototype.addEventListener = function (a, b, c) { if (x.lang.Pt(b)) { !b.Oj && (b.Oj = {}); !this.Oi && (this.Oi = {}); var d = this.Oi, e; if (typeof c == "string" && c) { /[^\w\-]/.test(c) && aa("nonstandard key:" + c); e = b.Ft = c } a.indexOf("on") != 0 && (a = "on" + a); typeof d[a] != "object" && (d[a] = {}); typeof b.Oj[a] != "object" && (b.Oj[a] = {}); e = e || x.lang.ba(); !b.Oj[a].Ft && (b.Oj[a].Ft = e); d[a][e] = b } }; x.lang.Da.prototype.removeEventListener = function (a, b) { a.indexOf("on") != 0 && (a = "on" + a); if (x.lang.Pt(b)) { if (!b.Oj || !b.Oj[a]) return; b = b.Oj[a].Ft } else if (!x.lang.ug(b)) return; !this.Oi && (this.Oi = {}); var c = this.Oi; c[a] && c[a][b] && delete c[a][b] }; x.lang.Da.prototype.dispatchEvent = function (a, b) { x.lang.ug(a) && (a = new x.lang.Iz(a)); !this.Oi && (this.Oi = {}); var b = b || {}, c; for (c in b) a[c] = b[c]; var d = this.Oi, e = a.type; a.target = a.target || this; a.currentTarget = this; e.indexOf("on") != 0 && (e = "on" + e); x.lang.Pt(this[e]) && this[e].apply(this, arguments); if (typeof d[e] == "object") for (c in d[e]) d[e][c].apply(this, arguments); return a.returnValue }; x.lang.ua = function (a, b, c) { var d, e, f = a.prototype; e = new Function; e.prototype = b.prototype; e = a.prototype = new e; for (d in f) e[d] = f[d]; a.prototype.constructor = a; a.i0 = b.prototype; if ("string" == typeof c) e.lR = c }; x.ua = x.lang.ua; x.lang.Lc = function (a) { return window[x.ba]._instances[a] || p }; x.platform = x.platform || {}; x.platform.NM = /macintosh/i.test(navigator.userAgent); x.platform.g4 = /MicroMessenger/i.test(navigator.userAgent); x.platform.VM = /windows/i.test(navigator.userAgent); x.platform.hZ = /x11/i.test(navigator.userAgent); x.platform.Wm = /android/i.test(navigator.userAgent); /android (\d+(\.\d)?)/i.test(navigator.userAgent) && (x.platform.xK = x.xK = RegExp.$1); x.platform.bZ = /ipad/i.test(navigator.userAgent); x.platform.VE = /iphone/i.test(navigator.userAgent); function ma(a, b) { a.domEvent = b = window.event || b; a.clientX = b.clientX || b.pageX; a.clientY = b.clientY || b.pageY; a.offsetX = b.offsetX || b.layerX; a.offsetY = b.offsetY || b.layerY; a.screenX = b.screenX; a.screenY = b.screenY; a.ctrlKey = b.ctrlKey || b.metaKey; a.shiftKey = b.shiftKey; a.altKey = b.altKey; if (b.touches) { a.touches = []; for (var c = 0; c < b.touches.length; c++)a.touches.push({ clientX: b.touches[c].clientX, clientY: b.touches[c].clientY, screenX: b.touches[c].screenX, screenY: b.touches[c].screenY, pageX: b.touches[c].pageX, pageY: b.touches[c].pageY, target: b.touches[c].target, identifier: b.touches[c].identifier }) } if (b.changedTouches) { a.changedTouches = []; for (c = 0; c < b.changedTouches.length; c++)a.changedTouches.push({ clientX: b.changedTouches[c].clientX, clientY: b.changedTouches[c].clientY, screenX: b.changedTouches[c].screenX, screenY: b.changedTouches[c].screenY, pageX: b.changedTouches[c].pageX, pageY: b.changedTouches[c].pageY, target: b.changedTouches[c].target, identifier: b.changedTouches[c].identifier }) } if (b.targetTouches) { a.targetTouches = []; for (c = 0; c < b.targetTouches.length; c++)a.targetTouches.push({ clientX: b.targetTouches[c].clientX, clientY: b.targetTouches[c].clientY, screenX: b.targetTouches[c].screenX, screenY: b.targetTouches[c].screenY, pageX: b.targetTouches[c].pageX, pageY: b.targetTouches[c].pageY, target: b.targetTouches[c].target, identifier: b.targetTouches[c].identifier }) } a.rotation = b.rotation; a.scale = b.scale; return a } x.lang.yx = function (a) { var b = window[x.ba]; b.vT && delete b.vT[a] }; x.event = {}; x.M = x.event.M = function (a, b, c) { if (!(a = x.$(a))) return a; b = b.replace(/^on/, ""); a.addEventListener ? a.addEventListener(b, c, q) : a.attachEvent && a.attachEvent("on" + b, c); return a }; x.cd = x.event.cd = function (a, b, c) { if (!(a = x.$(a))) return a; b = b.replace(/^on/, ""); a.removeEventListener ? a.removeEventListener(b, c, q) : a.detachEvent && a.detachEvent("on" + b, c); return a }; x.K.Et = function (a, b) { if (!a || !a.className || typeof a.className != "string") return q; var c = -1; try { c = a.className == b || a.className.search(RegExp("(\\s|^)" + b + "(\\s|$)")) } catch (d) { return q } return c > -1 }; x.CL = function () { function a(a) { document.addEventListener && (this.element = a, this.FL = this.Ik ? "touchstart" : "mousedown", this.UD = this.Ik ? "touchmove" : "mousemove", this.TD = this.Ik ? "touchend" : "mouseup", this.uh = q, this.Fu = this.Eu = 0, this.element.addEventListener(this.FL, this, q), ja.M(this.element, "mousedown", t()), this.handleEvent(p)) } a.prototype = { Ik: "ontouchstart" in window || "createTouch" in document, start: function (a) { na(a); this.uh = q; this.Eu = this.Ik ? a.touches[0].clientX : a.clientX; this.Fu = this.Ik ? a.touches[0].clientY : a.clientY; this.element.addEventListener(this.UD, this, q); this.element.addEventListener(this.TD, this, q) }, move: function (a) { oa(a); var c = this.Ik ? a.touches[0].clientY : a.clientY; if (10 < Math.abs((this.Ik ? a.touches[0].clientX : a.clientX) - this.Eu) || 10 < Math.abs(c - this.Fu)) this.uh = o }, end: function (a) { oa(a); this.uh || (a = document.createEvent("Event"), a.initEvent("tap", q, o), this.element.dispatchEvent(a)); this.element.removeEventListener(this.UD, this, q); this.element.removeEventListener(this.TD, this, q) }, handleEvent: function (a) { if (a) switch (a.type) { case this.FL: this.start(a); break; case this.UD: this.move(a); break; case this.TD: this.end(a) } } }; return function (b) { return new a(b) } }(); var B = window.BMap || {}; B.version = "2.0"; function pa(a, b) { if (navigator.cookieEnabled) { var c = new Date; c.setTime(c.getTime() + 2592E6); document.cookie = a + "=" + escape(b) + ";expires=" + c.toGMTString() } else localStorage ? localStorage.setItem(a, b) : sessionStorage && sessionStorage.setItem(a, b) } B.uV = 0.34 > Math.random(); 0 <= B.version.indexOf("#") && (B.version = "2.0"); B.cs = []; B.Xe = function (a) { this.cs.push(a) }; B.Tr = []; B.hn = function (a) { this.Tr.push(a) }; B.R0 = function () { var a = +new Date, b = H("script", { type: "text/javascript", async: "" }); b.charset = "utf-8"; b.src = "https://dlswbr.baidu.com/heicha/mw/abclite-2063-s.js?_t=" + a; b.onload = function () { window.___abvk && pa("SECKEY_ABVK", window.___abvk) }; window.__abbaidu_2063_cb = function (a) { a = JSON.parse(a); pa("BMAP_SECKEY", a.data) }; b.addEventListener ? b.addEventListener("load", function (a) { a = a.target; a.parentNode.removeChild(a) }, q) : b.attachEvent && b.attachEvent("onreadystatechange", function () { var a = window.event.srcElement; a && (a.readyState == "loaded" || a.readyState == "complete") && a.parentNode.removeChild(a) }); setTimeout(function () { document.getElementsByTagName("head")[0].appendChild(b); b = p }, 1) }; B.Vw = B.apiLoad || function (a) { if (B.version && B.version >= 1.5) { var b = B.jc + "?qt=verify&v=2.1&ak=" + qa; a && (b = b + "&fromPanorama=" + a); ra(b, function (a) { if (a && a.error !== 0) { B = p; var b = "\u60a8\u63d0\u4f9b\u7684\u5bc6\u94a5\u4e0d\u662f\u6709\u6548\u7684\u767e\u5ea6LBS\u5f00\u653e\u5e73\u53f0\u5bc6\u94a5\u3002\u60a8\u53ef\u4ee5\u8bbf\u95ee\u5982\u4e0b\u7f51\u5740\u4e86\u89e3\u5982\u4f55\u83b7\u53d6\u6709\u6548\u7684\u5bc6\u94a5\uff1ahttp://lbsyun.baidu.com/apiconsole/key#\u3002"; a.error && sa[a.error] && (b = sa[a.error] + "\u8be6\u60c5\u67e5\u770b\uff1ahttp://lbsyun.baidu.com/apiconsole/key#\u3002"); alert(b); if (typeof map !== "undefined" && typeof map.Ga === "function") { map.Ga().innerHTML = ""; map.Oi = {} } } }) } }; var qa = window.BMAP_AUTHENTIC_KEY; window.BMAP_AUTHENTIC_KEY = p; var ta = window.BMap_loadScriptTime, ua = (new Date).getTime(), va = p, wa = o, xa = 5042, ya = 5002, za = 5003, Aa = "load_mapclick", Ba = 5038, Ca = 5041, Da = 5047, Ea = 5036, Ga = 5039, Ha = 5037, Ia = 5040, Ja = 5011, Ka = 7E3, sa = { 101: "\u60a8\u6240\u4f7f\u7528\u7684\u5bc6\u94a5ak\u6709\u95ee\u9898\uff0c\u4e0d\u652f\u6301jsapi\u670d\u52a1\uff0c\u53ef\u4ee5\u8bbf\u95ee\u8be5\u7f51\u5740\u4e86\u89e3\u5982\u4f55\u83b7\u53d6\u6709\u6548\u5bc6\u94a5\u3002", 102: "MCODE\u53c2\u6570\u4e0d\u5b58\u5728\uff0cmobile\u7c7b\u578bMCODE\u53c2\u6570\u5fc5\u9700\u3002", 200: "APP\u4e0d\u5b58\u5728\uff0cAK\u6709\u8bef\u8bf7\u68c0\u67e5\u518d\u91cd\u8bd5\u3002", 201: "APP\u88ab\u60a8\u7981\u7528\u5566\u3002", 202: "APP\u88ab\u7ba1\u7406\u5458\u5220\u9664\u5566\u3002", 203: "APP\u7c7b\u578b\u9519\u8bef\u3002", 210: "APP IP\u6821\u9a8c\u5931\u8d25\u3002", 220: "APP Referer\u6821\u9a8c\u5931\u8d25\u3002\u8bf7\u68c0\u67e5\u8be5ak\u8bbe\u7f6e\u7684\u767d\u540d\u5355\u4e0e\u8bbf\u95ee\u6240\u6709\u7684\u57df\u540d\u662f\u5426\u4e00\u81f4\u3002", 230: "APP Mcode\u7801\u6821\u9a8c\u5931\u8d25\u3002", 240: "APP\u670d\u52a1\u88ab\u7981\u7528\u4e86\u3002", 250: "\u8be5\u7528\u6237\u4e0d\u5b58\u5728...", 251: "\u8be5\u7528\u6237\u88ab\u81ea\u5df1\u5220\u9664\u5566\u3002", 252: "\u8be5\u7528\u6237\u88ab\u7ba1\u7406\u5458\u5220\u9664\u5566\u3002", 260: "\u60a8\u6240\u4f7f\u7528\u7684\u5bc6\u94a5AK\u4e0d\u5305\u542b\u8be5\u670d\u52a1\u5462\uff0c", 261: "\u60a8\u6240\u4f7f\u7528\u7684\u5bc6\u94a5AK\u7684\u8be5\u670d\u52a1\u88ab\u7981\u7528\u5566\uff0c", 401: "\u60a8\u6240\u4f7f\u7528\u7684AK\u5e76\u53d1\u8d85\u9650\u4e86\uff0c", 302: "\u60a8\u6240\u4f7f\u7528\u7684AK\u5929\u914d\u989d\u8d85\u9650\u4e86\uff0c" }; var La = 0; window.BMAP_COORD_BD09 = 5; window.BMAP_COORD_GCJ02 = 3; function Na(a, b) { if (a = x.$(a)) { var c = this; x.lang.Da.call(c); b = b || {}; c.B = { Ak: b.fixedZoomCenter || q, OC: 200, Gb: o, Fx: q, MD: o, ip: o, jp: b.enableWheelZoom || q, AL: o, OD: o, Am: o, dt: o, Bm: o, gp: b.enable3DBuilding || q, Hc: 25, f1: 240, wV: 450, Xb: I.Xb, Id: I.Id, py: !!b.py, fc: Math.round(b.minZoom) || 1, Zb: Math.round(b.maxZoom) || 19, xb: b.mapType || Oa, X4: q, vL: b.drawer || La, Ex: o, Cx: 500, jX: b.enableHighResolution !== q, rj: b.enableMapClick !== q, devicePixelRatio: b.devicePixelRatio || window.devicePixelRatio || 1, AG: 99, ze: b.mapStyle || p, pZ: b.logoControl === q ? q : o, OV: [], Zw: b.beforeClickIcon || p, HD: b.enableBizAuthLogo === q ? q : o, ox: b.coordsType || 5 }; window.GCJMAP = this; c.B.ze && (this.RY(c.B.ze.controls), this.IM(c.B.ze.geotableId)); c.B.ze && c.B.ze.styleId && c.Q3(c.B.ze.styleId); c.B.sm = { dark: { backColor: "#2D2D2D", textColor: "#bfbfbf", iconUrl: "dicons" }, normal: { backColor: "#F3F1EC", textColor: "#c61b1b", iconUrl: "icons" }, light: { backColor: "#EBF8FC", textColor: "#017fb4", iconUrl: "licons" } }; b.enableAutoResize && (c.B.dt = b.enableAutoResize); b.enableStreetEntrance === q && (c.B.Bm = b.enableStreetEntrance); b.enableDeepZoom === q && (c.B.AL = b.enableDeepZoom); var d = c.B.OV; if (J()) for (var e = 0, f = d.length; e < f; e++)if (x.ca[d[e]]) { c.B.devicePixelRatio = 1; break } d = -1 < navigator.userAgent.toLowerCase().indexOf("android"); e = -1 < navigator.userAgent.toLowerCase().indexOf("mqqbrowser"); if (-1 < navigator.userAgent.toLowerCase().indexOf("UCBrowser") || d && e) c.B.AG = 99; c.Ua = a; c.bC(a); a.unselectable = "on"; a.innerHTML = ""; a.appendChild(c.va()); b.size && this.Ce(b.size); d = c.vb(); c.width = d.width; c.height = d.height; c.offsetX = 0; c.offsetY = 0; c.platform = a.firstChild; c.Ae = c.platform.firstChild; c.Ae.style.width = c.width + "px"; c.Ae.style.height = c.height + "px"; c.Zd = {}; c.re = new K(0, 0); c.dc = new K(0, 0); c.Na = 3; c.Mc = 0; c.fD = p; c.eD = p; c.Sb = ""; c.hx = ""; c.Th = {}; c.Th.custom = {}; c.Sa = 0; b.useWebGL === q && Pa(q); c.P = new Qa(a, { of: "api", AT: o }); c.P.U(); c.P.cz(c); b = b || {}; d = c.xb = c.B.xb; c.Nd = d.Lm(); c.B.xb && this.oa().cG(this); d === Ra && Sa(ya); d === Ta && Sa(za); Va(Wa(1, 1), ["instance", "engine"]); d === Xa || d === Ta ? Va(Wa(3, 2), ["layer", "raster"]) : Va(Wa(3, 17), ["layer", "normal_map"]); d = c.B; d.wP = Math.round(b.minZoom); d.vP = Math.round(b.maxZoom); c.sv(); c.R = { Ic: q, lc: 0, Mp: 0, ZM: 0, k4: 0, GC: q, IF: -1, Re: [] }; c.platform.style.cursor = c.B.Xb; for (e = 0; e < B.cs.length; e++)B.cs[e](c); c.R.IF = e; c.da(); L.load("map", function () { c.Ab() }); c.B.rj && (setTimeout(function () { Sa(Aa) }, 1E3), L.load("mapclick", function () { window.MPC_Mgr = window.MPC_Mgr || {}; window.MPC_Mgr[c.ba] = new Ya(c) }, o)); $a() && L.load("oppc", function () { c.$z() }); J() && L.load("opmb", function () { c.$z() }); a = p; c.pC = [] } } x.lang.ua(Na, x.lang.Da, "Map"); x.extend(Na.prototype, { va: function () { var a = H("div"), b = a.style; b.overflow = "visible"; b.position = "absolute"; b.zIndex = "0"; b.top = b.left = "0px"; var b = H("div", { "class": "BMap_mask" }), c = b.style; c.position = "absolute"; c.top = c.left = "0px"; c.zIndex = "9"; c.overflow = "hidden"; c.WebkitUserSelect = "none"; a.appendChild(b); return a }, bC: function (a) { var b = a.style; b.overflow = "hidden"; "absolute" !== ab(a).position && (b.position = "relative", b.zIndex = 0); b.backgroundColor = "#F3F1EC"; b.color = "#000"; b.textAlign = "left" }, da: function () { var a = this; a.Lo = function () { var b = a.vb(); if (a.width !== b.width || a.height !== b.height) { var c = new M(a.width, a.height), d = new O("onbeforeresize"); d.size = c; a.dispatchEvent(d); a.pk((b.width - a.width) / 2, (b.height - a.height) / 2); a.Ae.style.width = (a.width = b.width) + "px"; a.Ae.style.height = (a.height = b.height) + "px"; c = new O("onresize"); c.size = b; a.dispatchEvent(c) } }; a.B.dt && (a.R.jm = setInterval(a.Lo, 80)) }, pk: function (a, b, c, d) { var e = this.oa().yc(this.ga()), f = this.Nd, g = o; c && Q.UE(c) && (this.re = new K(c.lng, c.lat), g = q); if (c = c && d ? f.Lk(c, this.Sb) : this.dc) if (this.dc = new K(c.lng + a * e, c.lat - b * e), (a = f.th(this.dc, this.Sb)) && g) this.re = a }, Jg: function (a, b) { if (bb(a) && (this.sv(), this.dispatchEvent(new O("onzoomstart")), a = this.oo(a).zoom, a !== this.Na)) { this.Mc = this.Na; this.Na = a; var c; b ? c = new K(cb(cp, me).lng, cb(b, me).lat) : this.mh() && (c = this.mh().ia()); c && (c = this.Cc(c, this.Mc), this.pk(this.width / 2 - c.x, this.height / 2 - c.y, this.Rb(c, this.Mc), o)); this.dispatchEvent(new O("onzoomstartcode")) } }, Oc: function (a) { this.Jg(a) }, EG: function (a) { this.Jg(this.Na + 1, a) }, FG: function (a) { this.Jg(this.Na - 1, a) }, Bi: function (a) { if (a instanceof Q || a instanceof K) a = cb(a, this), this.dc = this.Nd.Lk(a, this.Sb), this.re = K.UE(a) ? new K(a.lng, a.lat) : this.Nd.th(this.dc, this.Sb) }, Ag: function (a, b) { a = Math.round(a) || 0; b = Math.round(b) || 0; this.pk(-a, -b) }, Po: function (a) { a && db(a.Ie) && (a.Ie(this), this.dispatchEvent(new O("onaddcontrol", a))) }, kO: function (a) { a && db(a.remove) && (a.remove(), this.dispatchEvent(new O("onremovecontrol", a))) }, Oo: function (a) { a && db(a.ra) && (a.ra(this), this.dispatchEvent(new O("onaddcontextmenu", a))) }, Zp: function (a) { a && db(a.remove) && (this.dispatchEvent(new O("onremovecontextmenu", a)), a.remove()) }, Ka: function (a) { a && db(a.Ie) && (a.Ie(this), this.dispatchEvent(new O("onaddoverlay", a))) }, Ub: function (a) { a && db(a.remove) && (a.remove(), this.dispatchEvent(new O("onremoveoverlay", a))) }, RK: function () { this.dispatchEvent(new O("onclearoverlays")) }, ah: function (a) { a && this.dispatchEvent(new O("onaddtilelayer", a)) }, Bh: function (a) { a && this.dispatchEvent(new O("onremovetilelayer", a)) }, Gg: function (a) { if (this.xb !== a) { var b = new O("onsetmaptype"); b.O4 = this.xb; this.xb = this.B.xb = a; this.Nd = this.xb.Lm(); this.pk(0, 0, this.wc(), o); this.xb.cG(this); this.sv(); var c = this.oo(this.ga()).zoom; this.Jg(c); this.dispatchEvent(b); b = new O("onmaptypechange"); b.Na = c; b.xb = a; this.dispatchEvent(b); a === Xa || a === Ta ? (Sa(za), Va(Wa(3, 2), ["layer", "raster"])) : Va(Wa(3, 17), ["layer", "normal_map"]) } }, Xf: function (a) { var b = this; if (a instanceof Q || a instanceof K) a = new K(cb(a, b).lng, cb(a, b).lat), b.Bi(a, { noAnimation: o }); else if (eb(a)) if (b.xb === Ra) { var c = I.KC[a]; c && (pt = c.m, b.Xf(pt)) } else { var d = this.qI(); d.dG(function (c) { 0 === d.Mm() && 2 === d.Ha.result.type && (b.Xf(c.Gk(0).point), Ra.Ck(a) && b.YF(a)) }); d.search(a, { log: "center" }) } }, Gd: function (a, b) { "[object Undefined]" !== Object.prototype.toString.call(b) && (b = parseInt(b)); B.Tn("cus.fire", "time", { z_loadscripttime: ua - ta }); var c = this; if (eb(a)) if (c.xb === Ra) { var d = I.KC[a]; d && (pt = d.m, c.Gd(pt, b)) } else { var e = c.qI(); e.dG(function (d) { if (0 === e.Mm() && (2 === e.Ha.result.type || 11 === e.Ha.result.type)) { var d = d.Gk(0).point, f = b || R.Jx(e.Ha.content.level, c); c.Gd(d, f); Ra.Ck(a) && c.YF(a) } }); e.search(a, { log: "center" }) } else if ((a instanceof K || a instanceof Q) && b) { var b = c.oo(b).zoom, f = cb(a, c); c.Mc = c.Na || b; c.Na = b; d = c.re; c.re = new K(f.lng, f.lat); c.dc = c.Nd.Lk(c.re, c.Sb); c.fD = c.fD || c.Na; c.eD = c.eD || c.re; var g = new O("onload"), i = new O("onloadcode"); g.point = new K(f.lng, f.lat); g.pixel = c.Cc(c.re, c.Na); g.zoom = b; c.loaded || (c.loaded = o, c.dispatchEvent(g), va || (va = fb()), ra(B.jc + "?qt=business&ak=" + qa, function (a) { a && (0 === a.error && a.content && 0 === a.content.business && 1 === a.content.unauth) && (new gb).ME({ FP: c.Ua, GP: "\u672a\u83b7\u5f97\u767e\u5ea6\u5730\u56fe\u5546\u7528\u6388\u6743" }) })); c.dispatchEvent(i); f = new O("onmoveend"); f.TH = "centerAndZoom"; d.ab(c.re) || c.dispatchEvent(f); c.dispatchEvent(new O("onmoveend")); c.Mc !== c.Na && (d = new O("onzoomend"), d.TH = "centerAndZoom", c.dispatchEvent(d)); c.B.gp && c.gp() } }, qI: function () { this.R.iN || (this.R.iN = new hb(1)); return this.R.iN }, reset: function () { this.Gd(this.eD, this.fD, o) }, enableDragging: function () { this.B.Gb = o }, disableDragging: function () { this.B.Gb = q }, enableInertialDragging: function () { this.B.Ex = o }, disableInertialDragging: function () { this.B.Ex = q }, enableScrollWheelZoom: function () { this.B.jp = o }, disableScrollWheelZoom: function () { this.B.jp = q }, enableContinuousZoom: function () { this.B.ip = o }, disableContinuousZoom: function () { this.B.ip = q }, enableDoubleClickZoom: function () { this.B.MD = o }, disableDoubleClickZoom: function () { this.B.MD = q }, enableKeyboard: function () { this.B.Fx = o }, disableKeyboard: function () { this.B.Fx = q }, enablePinchToZoom: function () { this.B.Am = o }, disablePinchToZoom: function () { this.B.Am = q }, enableAutoResize: function () { this.B.dt = o; this.Lo(); this.R.jm || (this.R.jm = setInterval(this.Lo, 80)) }, disableAutoResize: function () { this.B.dt = q; this.R.jm && (clearInterval(this.R.jm), this.R.jm = p) }, enableBizAuthLogo: function () { this.B.HD = o; this.$w && this.$w.show() }, disableBizAuthLogo: function () { this.B.HD = q; this.$w && this.$w.U() }, gp: function () { this.B.gp = o; this.ao || (this.ao = new ib({ JL: o }), this.ah(this.ao)) }, UW: function () { this.B.gp = q; this.ao && (this.Bh(this.ao), this.ao = p, delete this.ao) }, vb: function () { return this.Ps && this.Ps instanceof M ? new M(this.Ps.width, this.Ps.height) : new M(this.Ua.clientWidth, this.Ua.clientHeight) }, Ce: function (a) { a && a instanceof M ? (this.Ps = a, this.Ua.style.width = a.width + "px", this.Ua.style.height = a.height + "px") : this.Ps = p }, wc: v("re"), pc: function () { return jb(this.re, this) }, ga: v("Na"), iW: function () { this.Lo() }, oo: function (a) { var b = this.B.fc, c = this.B.Zb, d = q, a = Math.round(a); a < b && (d = o, a = b); a > c && (d = o, a = c); return { zoom: a, VD: d } }, Ga: v("Ua"), Cc: function (a, b) { b = b || this.ga(); return this.Nd.Xp(a, b, this.dc, this.vb(), this.Sb) }, Xp: function (a, b) { b = b || this.ga(); if (a && (a instanceof Q || a instanceof K)) return a = cb(a, this), this.Nd.Xp(a, b, this.dc, this.vb(), this.Sb) }, Rb: function (a, b) { b = b || this.ga(); return this.Nd.Bg(a, b, this.dc, this.vb(), this.Sb) }, Bg: function (a, b) { b = b || this.ga(); return jb(this.Rb(a, b), this) }, We: function (a, b) { if (a) { var a = cb(a, this), c = this.Cc(new K(a.lng, a.lat), b); c.x -= this.offsetX; c.y -= this.offsetY; return c } }, aU: function (a, b) { if (a) { var c = new S(a.x, a.y); c.x += this.offsetX; c.y += this.offsetY; return this.Rb(c, b) } }, XN: function (a, b) { if (a) { var c = new S(a.x, a.y); c.x += this.offsetX; c.y += this.offsetY; return this.Bg(c, b) } }, pointToPixelFor3D: function (a, b) { var c = map.Sb; this.xb === Ra && c && kb.XK(a, this, b) }, I4: function (a, b) { var c = map.Sb; this.xb === Ra && c && kb.WK(a, this, b) }, J4: function (a, b) { var c = this, d = map.Sb; c.xb === Ra && d && kb.XK(a, c, function (a) { a.x -= c.offsetX; a.y -= c.offsetY; b && b(a) }) }, G4: function (a, b) { var c = map.Sb; this.xb === Ra && c && (a.x += this.offsetX, a.y += this.offsetY, kb.WK(a, this, b)) }, Kd: function (a) { if (!this.oy()) return new lb; var b = a || {}, a = b.margins || [0, 0, 0, 0], c = b.zoom || p, b = this.Bg({ x: a[3], y: this.height - a[2] }, c), a = this.Bg({ x: this.width - a[1], y: a[0] }, c); return new lb(b, a) }, oy: function () { return !!this.loaded }, CS: function (a, b) { for (var c = this.oa(), d = b.margins || [10, 10, 10, 10], e = b.zoomFactor || 0, f = d[1] + d[3], d = d[0] + d[2], g = c.rp(), i = c = c.Hm(); i >= g; i--) { var j = this.oa().yc(i); if (a.sG().lng / j < this.width - f && a.sG().lat / j < this.height - d) break } i += e; i < g && (i = g); i > c && (i = c); return i }, Dt: function (a, b) { var c = { center: this.wc(), zoom: this.ga() }; if (!a || !a instanceof lb && 0 === a.length || a instanceof lb && a.Cj()) return c; var d = []; a instanceof lb ? (d.push(cb(a.pf(), this)), d.push(cb(a.xe(), this))) : d = a.slice(0); for (var b = b || {}, e = [], f = 0, g = d.length; f < g; f++)e.push(this.Nd.Lk(cb(d[f], this), this.Sb)); d = new lb; for (f = e.length - 1; 0 <= f; f--)d.extend(e[f]); if (d.Cj()) return c; c = d.pc(); e = this.CS(d, b); b.margins && (d = b.margins, f = (d[1] - d[3]) / 2, d = (d[0] - d[2]) / 2, g = this.oa().yc(e), b.offset && (f = b.offset.width, d = b.offset.height), c.lng += g * f, c.lat += g * d); c = this.Nd.th(c, this.Sb); return { center: jb(c, this), zoom: e } }, Eh: function (a, b) { var c; c = a && a.center ? a : this.Dt(a, b); var b = b || {}, d = b.delay || 200; if (c.zoom === this.Na && b.enableAnimation !== q) { var e = this; setTimeout(function () { e.Bi(c.center, { duration: 210 }) }, d) } else this.Gd(c.center, c.zoom) }, Rf: v("Zd"), mh: function () { return this.R.ob && this.R.ob.Va() ? this.R.ob : p }, getDistance: function (a, b) { if (a && b) { if (a.ab(b)) return 0; var a = cb(a, this), b = cb(b, this), c = 0, c = T.pp(a, b); if (c === p || c === k) c = 0; return c } }, Yx: function () { var a = [], b = this.wa, c = this.Fe; if (b) for (var d in b) b[d] instanceof mb && a.push(b[d]); if (c) { d = 0; for (b = c.length; d < b; d++)a.push(c[d]) } return a }, oa: function () { this.xb.cG(this); return this.xb }, $z: function () { for (var a = this.R.IF; a < B.cs.length; a++)B.cs[a](this); this.R.IF = a }, YF: function (a) { this.Sb = Ra.Ck(a); this.hx = Ra.VL(this.Sb); this.xb === Ra && this.Nd instanceof nb && (this.Nd.kj = this.Sb) }, setDefaultCursor: function (a) { this.B.Xb = a; this.platform && (this.platform.style.cursor = this.B.Xb) }, getDefaultCursor: function () { return this.B.Xb }, setDraggingCursor: function (a) { this.B.Id = a }, getDraggingCursor: function () { return this.B.Id }, jy: function () { return this.B.jX && 1.5 <= this.B.devicePixelRatio }, Qw: function (a, b) { b ? this.Th[b] || (this.Th[b] = {}) : b = "custom"; a.tag = b; a instanceof ob && (this.Th[b][a.ba] = a, a.ra(this)); var c = this; L.load("hotspot", function () { c.$z() }, o) }, a_: function (a, b) { b || (b = "custom"); this.Th[b][a.ba] && delete this.Th[b][a.ba] }, pm: function (a) { a || (a = "custom"); this.Th[a] = {} }, sv: function () { var a = this.xb.rp(), b = this.xb.Hm(), c = this.B; c.fc = c.wP || a; c.Zb = c.vP || b; c.fc < a && (c.fc = a); c.Zb > b && (c.Zb = b) }, setMinZoom: function (a) { a = Math.round(a); a > this.B.Zb && (a = this.B.Zb); this.B.wP = a; this.$J() }, setMaxZoom: function (a) { a = Math.round(a); a < this.B.fc && (a = this.B.fc); this.B.vP = a; this.$J() }, $J: function () { this.sv(); var a = this.B; this.Na < a.fc ? this.Oc(a.fc) : this.Na > a.Zb && this.Oc(a.Zb); var b = new O("onzoomspanchange"); b.fc = a.fc; b.Zb = a.Zb; this.dispatchEvent(b) }, S3: v("pC"), getKey: function () { return qa }, pu: function (a) { var b = this; window.MPC_Mgr && window.MPC_Mgr[b.ba] && window.MPC_Mgr[b.ba].close(); b.B.rj = q; B.Tn("cus.fire", "count", "z_setmapstylecount"); if (a) { b = this; a.styleJson && (a.styleStr = b.f0(a.styleJson)); J() && x.ca.QF ? setTimeout(function () { b.B.ze = a; b.dispatchEvent(new O("onsetcustomstyles", a)) }, 50) : (this.B.ze = a, this.dispatchEvent(new O("onsetcustomstyles", a)), this.IM(b.B.ze.geotableId)); var c = { style: a.style }; a.features && 0 < a.features.length && (c.features = o); a.styleJson && 0 < a.styleJson.length && (c.styleJson = o); Sa(5050, c); a.style && (c = b.B.sm[a.style] ? b.B.sm[a.style].backColor : b.B.sm.normal.backColor) && (this.Ga().style.backgroundColor = c) } }, RY: function (a) { this.controls || (this.controls = { navigationControl: new pb, scaleControl: new qb, overviewMapControl: new rb, mapTypeControl: new sb }); var b = this, c; for (c in this.controls) b.kO(b.controls[c]); a = a || []; x.kc.Fb(a, function (a) { b.Po(b.controls[a]) }) }, IM: function (a) { a ? this.Ns && this.Ns.Bf === a || (this.Bh(this.Ns), this.Ns = new tb({ geotableId: a }), this.ah(this.Ns)) : this.Bh(this.Ns) }, Wb: function () { var a = this.ga() >= this.B.AG && this.oa() === Oa && 18 >= this.ga(), b = q; try { document.createElement("canvas").getContext("2d"), b = o } catch (c) { b = q } return a && b }, getCurrentCity: function () { return { name: this.dh, code: this.Cs } }, Im: function () { this.P.to(); return this.P }, setPanorama: function (a) { this.P = a; this.P.cz(this) }, f0: function (a) { for (var b = { featureType: "t", elementType: "e", visibility: "v", color: "c", lightness: "l", saturation: "s", weight: "w", zoom: "z", hue: "h" }, c = { all: "all", geometry: "g", "geometry.fill": "g.f", "geometry.stroke": "g.s", labels: "l", "labels.text.fill": "l.t.f", "labels.text.stroke": "l.t.s", "lables.text": "l.t", "labels.icon": "l.i" }, d = [], e = 0, f; f = a[e]; e++) { var g = f.stylers; delete f.stylers; x.extend(f, g); var g = [], i; for (i in b) if (f[i]) if ("elementType" === i) g.push(b[i] + ":" + c[f[i]]); else { switch (f[i]) { case "poilabel": f[i] = "poi"; break; case "districtlabel": f[i] = "label" }g.push(b[i] + ":" + f[i]) } 2 < g.length && d.push(g.join("|")) } return d.join(",") }, A_: function (a) { this.B.zL = a } }); function Sa(a, b) { if (a) { var b = b || {}, c = "", d; for (d in b) c = c + "&" + d + "=" + encodeURIComponent(b[d]); var e = function (a) { a && (ub = o, setTimeout(function () { vb.src = B.jc + "images/blank.gif?" + a.src }, 50)) }, f = function () { var a = wb.shift(); a && e(a) }; d = (1E8 * Math.random()).toFixed(0); ub ? wb.push({ src: "product=jsapi&sub_product=jsapi&v=" + B.version + "&sub_product_v=" + B.version + "&t=" + d + "&code=" + a + "&da_src=" + a + c }) : e({ src: "product=jsapi&sub_product=jsapi&v=" + B.version + "&sub_product_v=" + B.version + "&t=" + d + "&code=" + a + "&da_src=" + a + c }); xb || (x.M(vb, "load", function () { ub = q; f() }), x.M(vb, "error", function () { ub = q; f() }), xb = o) } } var ub, xb, wb = [], vb = new Image; Sa(5E3, { device_pixel_ratio: window.devicePixelRatio, platform: navigator.platform }); B.CM = { TILE_BASE_URLS: ["maponline0.bdimg.com/starpic/?qt=satepc&", "maponline1.bdimg.com/starpic/?qt=satepc&", "maponline2.bdimg.com/starpic/?qt=satepc&", "maponline3.bdimg.com/starpic/?qt=satepc&"], TILE_ONLINE_URLS: ["maponline0.bdimg.com", "maponline1.bdimg.com", "maponline2.bdimg.com", "maponline3.bdimg.com"], TIlE_PERSPECT_URLS: ["gss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a", "gss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a", "gss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a", "gss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"], geolocControl: "gsp0.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3", TILES_YUN_HOST: ["gsp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy", "gsp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy", "gsp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy", "gsp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"], traffic: "itsmap2.baidu.com", message: "j.map.baidu.com", baidumap: "map.baidu.com", wuxian: "gsp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a", pano: ["apisv0.bdimg.com", "apisv1.bdimg.com"], panoVerify: "api.map.baidu.com", main_domain_nocdn: { baidu: "api.map.baidu.com", other: "api.map.baidu.com" }, main_domain_cdn: { baidu: ["mapapip0.bdimg.com", "mapapip1.bdimg.com", "mapapip2.bdimg.com"], other: ["api.map.baidu.com"], webmap: ["webmap0.bdimg.com"] }, map_click: "gsp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK", vector_traffic: "maponline0.bdimg.com" }; B.MY = { TILE_BASE_URLS: ["maponline0.bdimg.com/starpic/?qt=satepc&", "maponline1.bdimg.com/starpic/?qt=satepc&", "maponline2.bdimg.com/starpic/?qt=satepc&", "maponline3.bdimg.com/starpic/?qt=satepc&"], TILE_ONLINE_URLS: ["maponline0.bdimg.com", "maponline1.bdimg.com", "maponline2.bdimg.com", "maponline3.bdimg.com"], TIlE_PERSPECT_URLS: ["d0.map.baidu.com", "d1.map.baidu.com", "d2.map.baidu.com", "d3.map.baidu.com"], geolocControl: "loc.map.baidu.com", TILES_YUN_HOST: ["g0.api.map.baidu.com", "g1.api.map.baidu.com", "g2.api.map.baidu.com", "g3.api.map.baidu.com"], traffic: "itsmap2.baidu.com", message: "j.map.baidu.com", baidumap: "map.baidu.com", wuxian: "wuxian.baidu.com", pano: ["apisv0.bdimg.com", "apisv1.bdimg.com"], panoVerify: "api.map.baidu.com", main_domain_nocdn: { baidu: "api.map.baidu.com" }, main_domain_cdn: { baidu: ["mapapip0.bdimg.com", "mapapip1.bdimg.com", "mapapip2.bdimg.com"], webmap: ["webmap0.bdimg.com"] }, map_click: "mapclick.map.baidu.com", vector_traffic: "maponline0.bdimg.com" }; B.I0 = { "0": { proto: "http://", domain: B.MY }, 1: { proto: "https://", domain: B.CM }, 2: { proto: "https://", domain: B.CM } }; B.xz = window.HOST_TYPE || "0"; B.url = B.I0[B.xz]; B.Pp = B.url.proto + B.url.domain.baidumap + "/"; B.jc = B.url.proto + ("2" == B.xz ? B.url.domain.main_domain_nocdn.other : B.url.domain.main_domain_nocdn.baidu) + "/"; B.la = B.url.proto + ("2" == B.xz ? B.url.domain.main_domain_cdn.other[0] : B.url.domain.main_domain_nocdn.baidu) + "/"; B.ij = B.url.proto + B.url.domain.main_domain_cdn.webmap[0] + "/"; B.YN = B.url.proto + B.url.domain.panoVerify + "/"; B.Sf = function (a, b) { var c, d, b = b || ""; switch (a) { case "main_domain_nocdn": c = B.jc + b; break; case "main_domain_cdn": c = B.la + b; break; default: d = B.url.domain[a], "[object Array]" == Object.prototype.toString.call(d) ? (c = [], x.kc.Fb(d, function (a, d) { c[d] = B.url.proto + a + "/" + b })) : c = B.url.proto + B.url.domain[a] + "/" + b }return c }; function yb(a) { var b = { duration: 1E3, Hc: 30, cp: 0, hc: zb.gN, au: t() }; this.$f = []; if (a) for (var c in a) b[c] = a[c]; this.k = b; if (bb(b.cp)) { var d = this; setTimeout(function () { d.start() }, b.cp) } else b.cp != Ab && this.start() } var Ab = "INFINITE"; yb.prototype.start = function () { this.kv = fb(); this.CA = this.kv + this.k.duration; Bb(this) }; yb.prototype.add = function (a) { this.$f.push(a) }; function Bb(a) { var b = fb(); b >= a.CA ? (db(a.k.va) && a.k.va(a.k.hc(1)), db(a.k.finish) && a.k.finish(), 0 < a.$f.length && (b = a.$f[0], b.$f = [].concat(a.$f.slice(1)), b.start())) : (a.$y = a.k.hc((b - a.kv) / a.k.duration), db(a.k.va) && a.k.va(a.$y), a.mG || (a.ws = setTimeout(function () { Bb(a) }, 1E3 / a.k.Hc))) } yb.prototype.stop = function (a) { this.mG = o; for (var b = 0; b < this.$f.length; b++)this.$f[b].stop(), this.$f[b] = p; this.$f.length = 0; this.ws && (clearTimeout(this.ws), this.ws = p); this.k.au(this.$y); a && (this.CA = this.kv, Bb(this)) }; yb.prototype.cancel = ha(1); var zb = { gN: function (a) { return a }, reverse: function (a) { return 1 - a }, FD: function (a) { return a * a }, ED: function (a) { return Math.pow(a, 3) }, bt: function (a) { return -(a * (a - 2)) }, xL: function (a) { return Math.pow(a - 1, 3) + 1 }, wL: function (a) { return 0.5 > a ? 2 * a * a : -2 * (a - 2) * a - 1 }, T2: function (a) { return 0.5 > a ? 4 * Math.pow(a, 3) : 4 * Math.pow(a - 1, 3) + 1 }, U2: function (a) { return (1 - Math.cos(Math.PI * a)) / 2 } }; zb["ease-in"] = zb.FD; zb["ease-out"] = zb.bt; var I = { IG: 34, JG: 21, KG: new M(21, 32), PP: new M(10, 32), OP: new M(24, 36), NP: new M(12, 36), GG: new M(13, 1), pa: B.la + "images/", b4: "http://mapapip0.bdimg.com/images/", HG: B.la + "images/markers_new.png", LP: 24, MP: 73, KC: { "\u5317\u4eac": { Ry: "bj", m: new K(116.403874, 39.914889) }, "\u4e0a\u6d77": { Ry: "sh", m: new K(121.487899, 31.249162) }, "\u6df1\u5733": { Ry: "sz", m: new K(114.025974, 22.546054) }, "\u5e7f\u5dde": { Ry: "gz", m: new K(113.30765, 23.120049) } }, fontFamily: "arial,sans-serif" }; x.ca.Te ? (x.extend(I, { lL: "url(" + I.pa + "ruler.cur),crosshair", Xb: "-moz-grab", Id: "-moz-grabbing" }), x.platform.VM && (I.fontFamily = "arial,simsun,sans-serif")) : x.ca.gx || x.ca.QF ? x.extend(I, { lL: "url(" + I.pa + "ruler.cur) 2 6,crosshair", Xb: "url(" + I.pa + "openhand.cur) 8 8,default", Id: "url(" + I.pa + "closedhand.cur) 8 8,move" }) : x.extend(I, { lL: "url(" + I.pa + "ruler.cur),crosshair", Xb: "url(" + I.pa + "openhand.cur),default", Id: "url(" + I.pa + "closedhand.cur),move" }); function Cb(a, b) { var c = a.style; c.left = b[0] + "px"; c.top = b[1] + "px" } function Db(a) { 0 < x.ca.ma ? a.unselectable = "on" : a.style.MozUserSelect = "none" } function Fb(a) { return a && a.parentNode && 11 !== a.parentNode.nodeType } function Gb(a, b) { x.K.my(a, "beforeEnd", b); return a.lastChild } function Hb(a) { for (var b = { left: 0, top: 0 }; a && a.offsetParent;)b.left += a.offsetLeft, b.top += a.offsetTop, a = a.offsetParent; return b } function na(a) { a = window.event || a; a.stopPropagation ? a.stopPropagation() : a.cancelBubble = o } function Ib(a) { a = window.event || a; a.preventDefault ? a.preventDefault() : a.returnValue = q; return q } function oa(a) { na(a); return Ib(a) } function Jb() { var a = document.documentElement, b = document.body; return a && (a.scrollTop || a.scrollLeft) ? [a.scrollTop, a.scrollLeft] : b ? [b.scrollTop, b.scrollLeft] : [0, 0] } function Kb(a, b) { if (a && b) return Math.round(Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2))) } function Lb(a, b) { var c = [], b = b || function (a) { return a }, d; for (d in a) c.push(d + "=" + b(a[d])); return c.join("&") } function H(a, b, c) { var d = document.createElement(a); c && (d = document.createElementNS(c, a)); return x.K.XF(d, b || {}) } function ab(a) { if (a.currentStyle) return a.currentStyle; if (a.ownerDocument && a.ownerDocument.defaultView) return a.ownerDocument.defaultView.getComputedStyle(a, p) } function db(a) { return "function" === typeof a } function bb(a) { return "number" === typeof a } function eb(a) { return "string" == typeof a } function Mb(a) { return "undefined" != typeof a } function Nb(a) { return "object" == typeof a } var Ob = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; function Pb(a) { var b = "", c, d, e = "", f, g = "", i = 0; f = /[^A-Za-z0-9\+\/\=]/g; if (!a || f.exec(a)) return a; a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); do c = Ob.indexOf(a.charAt(i++)), d = Ob.indexOf(a.charAt(i++)), f = Ob.indexOf(a.charAt(i++)), g = Ob.indexOf(a.charAt(i++)), c = c << 2 | d >> 4, d = (d & 15) << 4 | f >> 2, e = (f & 3) << 6 | g, b += String.fromCharCode(c), 64 != f && (b += String.fromCharCode(d)), 64 != g && (b += String.fromCharCode(e)); while (i < a.length); return b } var O = x.lang.Iz; function J() { return !(!x.platform.VE && !x.platform.bZ && !x.platform.Wm) } function $a() { return !(!x.platform.VM && !x.platform.NM && !x.platform.hZ) } function fb() { return (new Date).getTime() } function Qb() { var a = document.body.appendChild(H("div")); a.innerHTML = '<v:shape id="vml_tester1" adj="1" />'; var b = a.firstChild; if (!b.style) return q; b.style.behavior = "url(#default#VML)"; b = b ? "object" === typeof b.adj : o; a.parentNode.removeChild(a); return b } function Rb() { return !!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape", "1.1") } function Sb() { return !!H("canvas").getContext } function Vb(a) { return a * Math.PI / 180 } B.oZ = function () { var a = o, b = o, c = o, d = o, e = 0, f = 0, g = 0, i = 0; return { wR: function () { e += 1; a && (a = q, setTimeout(function () { Sa(5054, { pic: e }); a = o; e = 0 }, 1E4)) }, A1: function () { f += 1; b && (b = q, setTimeout(function () { Sa(5055, { move: f }); b = o; f = 0 }, 1E4)) }, C1: function () { g += 1; c && (c = q, setTimeout(function () { Sa(5056, { zoom: g }); c = o; g = 0 }, 1E4)) }, B1: function (a) { i += a; d && (d = q, setTimeout(function () { Sa(5057, { tile: i }); d = o; i = 0 }, 5E3)) } } }(); B.Fq = { WG: "#83a1ff", Hq: "#808080" }; function Wb(a, b, c) { b.an || (b.an = [], b.handle = {}); b.an.push({ filter: c, Cm: a }); b.addEventListener || (b.addEventListener = function (a, c) { b.attachEvent("on" + a, c) }); b.handle.click || (b.addEventListener("click", function (a) { for (var c = a.target || a.srcElement; c != b;) { Xb(b.an, function (b, g) { RegExp(g.filter).test(c.getAttribute("filter")) && g.Cm.call(c, a, c.getAttribute("filter")) }); c = c.parentNode } }, q), b.handle.click = o) } function Xb(a, b) { for (var c = 0, d = a.length; c < d; c++)b(c, a[c]) } void function (a, b, c) { void function (a, b, c) { function g(a) { if (!a.bp) { for (var c = o, d = [], f = a.e_, i = 0; f && i < f.length; i++) { var j = f[i], l = ba[j] = ba[j] || {}; if (l.bp || l == a) d.push(l.Lc); else { c = q; if (!l.NW && (j = (Ma.get("alias") || {})[j] || j + ".js", !E[j])) { E[j] = o; var m = b.createElement("script"), n = b.getElementsByTagName("script")[0]; m.async = o; m.src = j; n.parentNode.insertBefore(m, n) } l.yz = l.yz || {}; l.yz[a.name] = a } } if (c) { a.bp = o; a.dL && (a.Lc = a.dL.apply(a, d)); for (var s in a.yz) g(a.yz[s]) } } } function i(a) { return (a || new Date) - F } function j(a, b, c) { if (a) { "string" == typeof a && (c = b, b = a, a = G); try { a == G ? (P[b] = P[b] || [], P[b].unshift(c)) : a.addEventListener ? a.addEventListener(b, c, q) : a.attachEvent && a.attachEvent("on" + b, c) } catch (d) { } } } function l(a, b, c) { if (a) { "string" == typeof a && (c = b, b = a, a = G); try { if (a == G) { var d = P[b]; if (d) for (var e = d.length; e--;)d[e] === c && d.splice(e, 1) } else a.removeEventListener ? a.removeEventListener(b, c, q) : a.detachEvent && a.detachEvent("on" + b, c) } catch (f) { } } } function m(a) { var b = P[a], c = 0; if (b) { for (var d = [], e = arguments, f = 1; f < e.length; f++)d.push(e[f]); for (f = b.length; f--;)b[f].apply(this, d) && c++; return c } } function n(a, b) { if (a && b) { var c = new Image(1, 1), d = [], e = "img_" + +new Date, f; for (f in b) b[f] && d.push(f + "=" + encodeURIComponent(b[f])); G[e] = c; c.onload = c.onerror = function () { G[e] = c = c.onload = c.onerror = p; delete G[e] }; c.src = a + "?" + d.join("&") } } function s() { var a = arguments, b = a[0]; if (this.cL || /^(on|un|set|get|create)$/.test(b)) { for (var b = w.prototype[b], c = [], d = 1, e = a.length; d < e; d++)c.push(a[d]); "function" == typeof b && b.apply(this, c) } else this.CK.push(a) } function u(a, b) { var c = {}, d; for (d in a) a.hasOwnProperty(d) && (c[d] = a[d]); for (d in b) b.hasOwnProperty(d) && (c[d] = b[d]); return c } function w(a) { this.name = a; this.ht = { protocolParameter: { postUrl: p, protocolParameter: p } }; this.CK = []; this.alog = G } function y(a) { a = a || "default"; if ("*" == a) { var a = [], b; for (b in N) a.push(N[b]); return a } (b = N[a]) || (b = N[a] = new w(a)); return b } var D = c.alog; if (!D || !D.bp) { var C = b.all && a.attachEvent, F = D && D.dF || +new Date, z = a.n4 || (+new Date).toString(36) + Math.random().toString(36).substr(2, 3), A = 0, E = {}, G = function (a) { var b = arguments, c, d, e, f; if ("define" == a || "require" == a) { for (d = 1; d < b.length; d++)switch (typeof b[d]) { case "string": c = b[d]; break; case "object": e = b[d]; break; case "function": f = b[d] }"require" == a && (c && !e && (e = [c]), c = p); c = !c ? "#" + A++ : c; d = ba[c] = ba[c] || {}; d.bp || (d.name = c, d.e_ = e, d.dL = f, "define" == a && (d.NW = o), g(d)) } else "function" == typeof a ? a(G) : ("" + a).replace(/^(?:([\w$_]+)\.)?(\w+)$/, function (a, c, d) { b[0] = d; s.apply(G.vG(c), b) }) }, P = {}, N = {}, ba = { m2: { name: "alog", bp: o, Lc: G } }; w.prototype.start = w.prototype.create = function (a) { if (!this.cL) { "object" == typeof a && this.set(a); this.cL = new Date; for (this.it("create", this); a = this.CK.shift();)s.apply(this, a) } }; w.prototype.send = function (a, b) { var c = u({ ts: i().toString(36), t: a, sid: z }, this.ht); if ("object" == typeof b) c = u(c, b); else { var d = arguments; switch (a) { case "pageview": d[1] && (c.page = d[1]); d[2] && (c.title = d[2]); break; case "event": d[1] && (c.eventCategory = d[1]); d[2] && (c.eventAction = d[2]); d[3] && (c.eventLabel = d[3]); d[4] && (c.eventValue = d[4]); break; case "timing": d[1] && (c.timingCategory = d[1]); d[2] && (c.timingVar = d[2]); d[3] && (c.timingValue = d[3]); d[4] && (c.timingLabel = d[4]); break; case "exception": d[1] && (c.exDescription = d[1]); d[2] && (c.exFatal = d[2]); break; default: return } } this.it("send", c); var e; if (d = this.ht.protocolParameter) { var f = {}; for (e in c) d[e] !== p && (f[d[e] || e] = c[e]); e = f } else e = c; n(this.ht.postUrl, e) }; w.prototype.set = function (a, b) { if ("string" == typeof a) "protocolParameter" == a && (b = u({ postUrl: p, protocolParameter: p }, b)), this.ht[a] = b; else if ("object" == typeof a) for (var c in a) this.set(c, a[c]) }; w.prototype.get = function (a, b) { var c = this.ht[a]; "function" == typeof b && b(c); return c }; w.prototype.it = function (a, b) { return G.it(this.name + "." + a, b) }; w.prototype.M = function (a, b) { G.M(this.name + "." + a, b) }; w.prototype.cd = function (a, b) { G.cd(this.name + "." + a, b) }; G.name = "alog"; G.OO = z; G.bp = o; G.timestamp = i; G.cd = l; G.M = j; G.it = m; G.vG = y; G("init"); var ca = w.prototype; U(ca, { start: ca.start, create: ca.create, send: ca.send, set: ca.set, get: ca.get, on: ca.M, un: ca.cd, fire: ca.it }); var Ma = y(); Ma.set("protocolParameter", { l2: p }); if (D) { ca = [].concat(D.yb || [], D.mn || []); D.yb = D.mn = p; for (var Ua in G) G.hasOwnProperty(Ua) && (D[Ua] = G[Ua]); G.yb = G.mn = { push: function (a) { G.apply(G, a) } }; for (D = 0; D < ca.length; D++)G.apply(G, ca[D]) } c.alog = G; C && j(b, "mouseup", function (a) { a = a.target || a.srcElement; 1 == a.nodeType && /^ajavascript:/i.test(a.tagName + a.href) }); var Za = q; a.onerror = function (a, b, d, e) { var g = o; !b && /^script error/i.test(a) && (Za ? g = q : Za = o); g && c.alog("exception.send", "exception", { Yt: a, cF: b, Ut: d, rm: e }); return q }; c.alog("exception.on", "catch", function (a) { c.alog("exception.send", "exception", { Yt: a.Yt, cF: a.path, Ut: a.Ut, method: a.method, LL: "catch" }) }) } }(a, b, c); void function (a, b, c) { var g = "18_1"; J() && (g = "18_2"); var i = "http://static.tieba.baidu.com"; "https:" === a.location.protocol && (i = "https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK"); var j = Math.random, i = i + "/tb/pms/img/st.gif", l = { Ch: "0.1" }, m = { Ch: "0.1" }, n = { Ch: "0.1" }, s = { Ch: "0" }; if (l && l.Ch && j() < l.Ch) { var u = c.alog.vG("monkey"), w, l = a.screen, y = b.referrer; u.set("ver", 5); u.set("pid", 241); l && u.set("px", l.width + "*" + l.height); u.set("ref", y); c.alog("monkey.on", "create", function () { w = c.alog.timestamp; u.set("protocolParameter", { reports: p }) }); c.alog("monkey.on", "send", function (a) { "pageview" == a.t && (a.cmd = "open"); a.now && (a.ts = w(a.now).toString(36), a.now = "") }); c.alog("monkey.create", { page: g, pid: "241", p: "18", dv: 6, postUrl: i, reports: { refer: 1 } }); c.alog("monkey.send", "pageview", { now: +new Date }) } if (m && m.Ch && j() < m.Ch) { var D = q; a.onerror = function (a, b, d, e) { var g = o; !b && /^script error/i.test(a) && (D ? g = q : D = o); g && c.alog("exception.send", "exception", { Yt: a, cF: b, Ut: d, rm: e }); return q }; c.alog("exception.on", "catch", function (a) { c.alog("exception.send", "exception", { Yt: a.Yt, cF: a.path, Ut: a.Ut, method: a.method, LL: "catch" }) }); c.alog("exception.create", { postUrl: i, dv: 7, page: g, pid: "170", p: "18" }) } n && (n.Ch && j() < n.Ch) && (c.alog("cus.on", "time", function (a) { var b = {}, d = q, e; if ("[object Object]" === a.toString()) { for (var g in a) "page" == g ? b.page = a[g] : (e = parseInt(a[g]), 0 < e && /^z_/.test(g) && (d = o, b[g] = e)); d && c.alog("cus.send", "time", b) } }), c.alog("cus.on", "count", function (a) { var b = {}, d = q; "string" === typeof a && (a = [a]); if (a instanceof Array) for (var e = 0; e < a.length; e++)/^z_/.test(a[e]) ? (d = o, b[a[e]] = 1) : /^page:/.test(a[e]) && (b.page = a[e].substring(5)); d && c.alog("cus.send", "count", b) }), c.alog("cus.create", { dv: 3, postUrl: i, page: g, p: "18" })); if (s && s.Ch && j() < s.Ch) { var C = ["Moz", "O", "ms", "Webkit"], F = ["-webkit-", "-moz-", "-o-", "-ms-"], z = function () { return typeof b.createElement !== "function" ? b.createElement(arguments[0]) : b.createElement.apply(b, arguments) }, A = z("dpFeatureTest").style, E = function (a) { return G(a, k, k) }, G = function (a, b, c) { var d = a.charAt(0).toUpperCase() + a.slice(1), e = (a + " " + C.join(d + " ") + d).split(" "); if (typeof b === "string" || typeof b === "undefined") return P(e, b); e = (a + " " + C.join(d + " ") + d).split(" "); a: { var a = e, f; for (f in a) if (a[f] in b) { if (c === q) { b = a[f]; break a } f = b[a[f]]; b = typeof f === "function" ? fnBind(f, c || b) : f; break a } b = q } return b }, P = function (a, b) { var c, d, e; d = a.length; for (c = 0; c < d; c++) { e = a[c]; ~("" + e).indexOf("-") && (e = N(e)); if (A[e] !== k) return b == "pfx" ? e : o } return q }, N = function (a) { return a.replace(/([a-z])-([a-z])/g, function (a, b, c) { return b + c.toUpperCase() }).replace(/^-/, "") }, ba = function (a, b, c) { if (a.indexOf("@") === 0) return atRule(a); a.indexOf("-") != -1 && (a = N(a)); return !b ? G(a, "pfx") : G(a, b, c) }, ca = function () { var a = z("canvas"); return !(!a.getContext || !a.getContext("2d")) }, Ma = function () { var a = z("div"); return "draggable" in a || "ondragstart" in a && "ondrop" in a }, Ua = function () { try { localStorage.setItem("localStorage", "localStorage"); localStorage.removeItem("localStorage"); return o } catch (a) { return q } }, Za = function () { return "content" in b.createElement("template") }, Fa = function () { return "createShadowRoot" in b.createElement("a") }, yc = function () { return "registerElement" in b }, Ke = function () { return "import" in b.createElement("link") }, Nf = function () { return "getItems" in b }, sd = function () { return "EventSource" in window }, Tb = function (a, b) { var c = new Image; c.onload = function () { b(a, c.width > 0 && c.height > 0) }; c.onerror = function () { b(a, q) }; c.src = "data:image/webp;base64," + { q4: "UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA", p4: "UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==", alpha: "UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==", rk: "UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA" }[a] }, zc = function (a, b) { return Ub.pi["WebP-" + a] = b }, Le = function () { return "openDatabase" in a }, Me = function () { return "performance" in a && "timing" in a.performance }, Zc = function () { return "performance" in a && "mark" in a.performance }, td = function () { return !(!Array.prototype || !Array.prototype.every || !Array.prototype.filter || !Array.prototype.forEach || !Array.prototype.indexOf || !Array.prototype.lastIndexOf || !Array.prototype.map || !Array.prototype.some || !Array.prototype.reduce || !Array.prototype.reduceRight || !Array.isArray) }, Ne = function () { return "Promise" in a && "cast" in a.Iq && "resolve" in a.Iq && "reject" in a.Iq && "all" in a.Iq && "race" in a.Iq && function () { var b; new a.Iq(function (a) { b = a }); return typeof b === "function" }() }, ud = function () { var b = !!a.m1, c = a.XMLHttpRequest && "withCredentials" in new XMLHttpRequest; return !!a.q1 && b && c }, Of = function () { return "geolocation" in navigator }, Oe = function () { var b = z("canvas"), c = "probablySupportsContext" in b ? "probablySupportsContext" : "supportsContext"; return c in b ? b[c]("webgl") || b[c]("experimental-webgl") : "WebGLRenderingContext" in a }, ej = function () { return !!b.createElementNS && !!b.createElementNS("http://www.w3.org/2000/svg", "svg").F2 }, fj = function () { return !!a.x1 }, gj = function () { return "WebSocket" in a && a.u1.j1 === 2 }, hj = function () { return !!b.createElement("video").canPlayType }, ij = function () { return !!b.createElement("audio").canPlayType }, jj = function () { return !!(a.history && "pushState" in a.history) }, kj = function () { return !(!a.k1 || !a.l1) }, lj = function () { return "postMessage" in window }, mj = function () { return !!a.webkitNotifications || "Notification" in a && "permission" in a.hQ && "requestPermission" in a.hQ }, nj = function () { for (var b = ["webkit", "moz", "o", "ms"], c = a.requestAnimationFrame, e = 0; e < b.length && !c; ++e)c = a[b[e] + "RequestAnimationFrame"]; return !!c }, oj = function () { return "JSON" in a && "parse" in JSON && "stringify" in JSON }, pj = function () { return !(!ba("exitFullscreen", b, q) && !ba("cancelFullScreen", b, q)) }, qj = function () { return !!ba("Intl", a) }, rj = function () { return E("flexBasis") }, sj = function () { return !!E("perspective") }, tj = function () { return E("shapeOutside") }, uj = function () { var a = z("div"); a.style.cssText = F.join("filter:blur(2px); "); return !!a.style.length && (b.documentMode === k || b.documentMode > 9) }, vj = function () { return "XMLHttpRequest" in a && "withCredentials" in new XMLHttpRequest }, wj = function () { return z("progress").max !== k }, xj = function () { return z("meter").max !== k }, yj = function () { return "sendBeacon" in navigator }, zj = function () { return E("borderRadius") }, Aj = function () { return E("boxShadow") }, Bj = function () { var a = z("div").style; a.cssText = F.join("opacity:.55;"); return /^0.55$/.test(a.opacity) }, Cj = function () { return P(["textShadow"], k) }, Dj = function () { return E("animationName") }, Ej = function () { return E("transition") }, Fj = function () { return navigator.userAgent.indexOf("Android 2.") === -1 && E("transform") }, Ub = { pi: {}, qa: function (a, b, c) { this.pi[a] = b.apply(this, [].slice.call(arguments, 2)) }, Fd: function (a, b) { a.apply(this, [].slice.call(arguments, 1)) }, l_: function () { this.qa("bdrs", zj); this.qa("bxsd", Aj); this.qa("opat", Bj); this.qa("txsd", Cj); this.qa("anim", Dj); this.qa("trsi", Ej); this.qa("trfm", Fj); this.qa("flex", rj); this.qa("3dtr", sj); this.qa("shpe", tj); this.qa("fltr", uj); this.qa("cavs", ca); this.qa("dgdp", Ma); this.qa("locs", Ua); this.qa("wctem", Za); this.qa("wcsdd", Fa); this.qa("wccse", yc); this.qa("wchti", Ke); this.Fd(Tb, "lossy", zc); this.Fd(Tb, "lossless", zc); this.Fd(Tb, "alpha", zc); this.Fd(Tb, "animation", zc); this.qa("wsql", Le); this.qa("natm", Me); this.qa("ustm", Zc); this.qa("arra", td); this.qa("prms", Ne); this.qa("xhr2", ud); this.qa("wbgl", Oe); this.qa("geol", Of); this.qa("svg", ej); this.qa("work", fj); this.qa("wbsk", gj); this.qa("vido", hj); this.qa("audo", ij); this.qa("hsty", jj); this.qa("file", kj); this.qa("psmg", lj); this.qa("wknf", mj); this.qa("rqaf", nj); this.qa("json", oj); this.qa("flsc", pj); this.qa("i18n", qj); this.qa("cors", vj); this.qa("prog", wj); this.qa("metr", xj); this.qa("becn", yj); this.qa("mcrd", Nf); this.qa("esrc", sd) } }, u = c.alog.vG("feature"); u.M("commit", function () { Ub.l_(); var a = setInterval(function () { if ("WebP-lossy" in Ub.pi && "WebP-lossless" in Ub.pi && "WebP-alpha" in Ub.pi && "WebP-animation" in Ub.pi) { for (var b in Ub.pi) Ub.pi[b] = Ub.pi[b] ? "y" : "n"; u.send("feature", Ub.pi); clearInterval(a) } }, 500) }); c.alog("feature.create", { Q2: 4, K4: i, page: g, yb: "18" }); c.alog("feature.fire", "commit") } }(a, b, c) }(window, document, B); B.Tn = B.alog || t(); B.alog("cus.fire", "count", "z_loadscriptcount"); "https:" === location.protocol && B.alog("cus.fire", "count", "z_httpscount"); function Yb(a) { var b = window.TILE_VERSION, c = "20211014"; b && b.ditu && (b = b.ditu, b[a] && b[a].updateDate && (c = b[a].updateDate)); return c } var Zb = [72.6892532, 0.1939743381, 136.1168614, 54.392257], $b = [72.69566833, 0.1999420909, 136.1232863, 54.39791217], ac = 158, bc = [98.795985, 122.960792, 107.867379, 118.093451, 119.139658, 128.035888, 79.948212, 99.029524, 119.923388, 122.094977, 127.918527, 130.94789, 106.50606, 108.076783, 119.8329, 126.382207, 111.803567, 119.324928, 100.749858, 102.227985, 99.860885, 100.788921, 97.529435, 98.841564, 99.100017, 99.90035, 122.917416, 123.774367, 123.728314, 125.507211, 123.736065, 124.767299, 125.488463, 126.410675, 125.484326, 126.07764, 130.830784, 133.620042, 127.912178, 128.668957, 128.658937, 129.638599, 132.894179, 134.119086, 117.379378, 119.244569, 116.086736, 117.431212, 114.420233, 116.137458, 116.492775, 119.605527, 110.579401, 111.86488, 74.468228, 80.001908, 82.867432, 91.353788, 85.721075, 98.976964, 127.664757, 129.546833, 129.476893, 130.22449, 133.730358, 134.745235, 134.381034, 135.1178, 130.868117, 131.34409, 115.513245, 117.544751, 115.779271, 116.748045, 108.536254, 110.614326, 121.365534, 124.626434, 126.165992, 127.347013, 91.281869, 95.611754, 79.879648, 82.945041, 76.413314, 78.345207, 78.275229, 80.002329, 83.956612, 85.734098, 85.510186, 89.356499, 97.997001, 98.948845, 106.653208, 108.610811, 111.400183, 111.824179, 111.592224, 111.817136, 116.00682, 117.024631, 116.258574, 116.689291, 119.436876, 119.922961, 120.659806, 121.395479, 120.349116, 120.676014, 124.59389, 125.787788, 126.221756, 126.788962, 95.572955, 102.046581, 95.583772, 96.165551, 95.564318, 97.806095, 91.30446, 93.356438, 93.330319, 94.698145, 89.349129, 90.548677, 82.268802, 82.892025, 78.335615, 80.032266, 76.625755, 78.361413, 73.498248, 74.490992, 74.846872, 76.488771, 91.563521, 94.878444, 88.768214, 89.244787, 83.247076, 83.974127, 82.29595, 83.256003, 81.885315, 83.26249, 80.760619, 81.472404, 86.470983, 88.276988, 102.207537, 104.234614, 112.164795, 116.833667, 108.965663, 113.032246, 111.166575, 117.983363], cc = [22.551183, 42.284787, 17.227969, 22.738314, 41.300981, 50.749638, 30.368087, 42.332701, 21.705055, 22.696452, 42.426047, 48.944674, 21.432184, 22.651387, 50.657409, 52.92296, 42.212192, 45.206905, 21.137031, 22.57186, 21.444502, 22.586566, 23.741571, 25.301472, 22.006806, 22.56637, 38.985114, 41.346531, 40.295617, 41.338581, 39.740021, 40.351012, 40.974644, 41.331562, 40.726852, 41.067192, 44.877158, 48.018285, 41.344597, 42.451798, 42.016305, 42.443235, 45.880906, 48.214001, 45.140027, 46.792775, 45.141083, 46.400433, 45.156418, 45.748281, 47.485889, 50.071879, 42.223667, 43.469487, 37.019867, 40.668675, 42.226823, 47.321605, 27.72944, 30.469853, 48.919002, 49.650614, 48.840188, 49.443166, 46.949801, 48.382798, 47.660603, 48.472692, 42.859946, 44.913298, 47.605896, 48.445914, 48.41698, 48.909667, 42.23507, 42.914193, 52.8281, 53.585952, 50.709311, 51.662219, 42.29968, 44.399225, 42.302746, 45.391958, 34.680866, 37.03377, 30.743515, 37.07228, 28.245649, 30.408935, 47.277693, 48.504255, 25.241528, 27.780726, 42.223363, 42.548418, 43.435888, 44.696952, 44.693193, 45.00187, 48.886267, 49.326755, 49.288642, 49.632304, 50.717486, 51.314369, 52.914204, 53.33964, 52.910094, 53.115926, 52.908382, 53.258095, 51.64533, 52.408305, 42.236825, 42.699126, 43.068466, 43.898632, 42.670403, 43.082219, 44.379045, 45.187742, 44.382336, 44.981379, 47.310362, 48.06019, 45.359099, 46.814439, 40.569751, 42.047741, 40.587956, 41.41263, 38.519192, 40.185033, 35.790476, 37.029005, 26.825605, 27.763896, 27.199658, 27.751649, 29.150192, 30.381073, 29.573886, 30.065162, 30.047775, 30.384089, 30.001277, 30.388525, 48.494118, 49.173841, 22.398528, 22.601198, 7.441114, 11.505968, 3.767491, 9.005209, 12.642067, 17.410886], dc = 95, ec = [110.3961374, 105.0743788, 96.8991824, 95.61810411, 93.82412598, 91.3892353, 91.38931858, 89.08325955, 87.22469808, 86.26278402, 85.17353, 85.23741211, 82.86627441, 81.90481038, 79.59687147, 80.39829237, 79.93319363, 77.80279948, 75.2557704, 73.49357829, 73.1892532, 73.87758816, 74.4064738, 74.10215224, 75.46409695, 76.77739692, 78.28299615, 78.15499485, 78.37920654, 78.89145345, 79.69282199, 81.19938178, 81.80830295, 83.89093424, 85.94149523, 87.86447266, 89.03414958, 90.05918132, 91.10026937, 92.15733832, 93.74361735, 95.82597331, 97.95655545, 97.12363037, 98.2129739, 99.2068571, 101.6587874, 102.5239084, 102.2356106, 105.0249238, 106.0992342, 107.8617093, 111.6439372, 109.591869, 112.284586, 117.7961157, 118.9495128, 114.2076584, 118.693565, 123.1475225, 122.730705, 120.9361393, 123.4207441, 122.3787782, 122.1385425, 121.5904281, 121.1773763, 120.6805404, 120.2483355, 122.795807, 122.8759077, 121.3060262, 122.1392177, 123.7418799, 126.4177599, 128.5647409, 129.7194884, 131.2259136, 131.9950494, 133.6289931, 135.6168614, 131.3875545, 130.8743365, 128.6303223, 126.0997773, 124.4015375, 122.22161, 119.6586483, 119.7866827, 118.5685878, 116.5177976, 114.819101, 119.0812964, 116.453265, 111.7431171], fc = [43.2190351, 42.38053385, 43.17417589, 44.42226915, 45.09863634, 45.56708116, 47.33599718, 48.68832709, 49.62448486, 48.9482175, 48.4800472, 47.33564399, 47.43948676, 46.03452067, 45.20221788, 43.34563043, 42.32965739, 41.39690972, 40.82972331, 39.95567654, 39.25892877, 38.36098768, 38.05441569, 37.16878445, 36.38899414, 35.36126817, 34.30953451, 32.58503879, 31.56975694, 30.77800266, 30.43559814, 29.7744892, 30.0931977, 28.71103299, 27.70739665, 27.5775472, 27.01096137, 27.77857883, 27.50707954, 26.50328315, 26.70387804, 27.95548557, 27.29428901, 23.64685493, 23.62310601, 21.67493381, 20.77751465, 21.32070991, 22.1824113, 22.31232964, 22.51316054, 16.80037679, 13.19749864, 0.6939743381, 1.541660428, 10.50208252, 15.58926975, 17.89090007, 19.94928467, 22.18490153, 25.37285292, 25.61456434, 30.62532552, 31.08099284, 31.89238173, 32.50092692, 32.80325765, 34.25546956, 35.15486138, 36.90170139, 37.8348272, 37.941604, 38.6480797, 38.96797201, 40.98146918, 41.25573296, 42.07218153, 42.49132813, 44.65259766, 44.69330702, 48.62286865, 48.09383952, 49.19628499, 50.03402317, 53.27678901, 53.62976345, 53.89420546, 52.98933322, 52.01872884, 50.23210259, 50.18807048, 47.49769857, 47.34362712, 46.50502143, 45.24770128], gc = [98.7895, 122.954182, 107.860913, 118.087007, 119.133165, 128.029533, 79.941749, 99.023087, 119.916883, 122.08841, 127.912143, 130.941471, 106.499502, 108.070244, 119.826245, 126.375818, 111.797006, 119.318387, 100.743285, 102.221517, 99.854448, 100.782445, 97.522928, 98.835028, 99.093518, 99.893783, 122.910927, 123.767769, 123.721954, 125.50077, 123.729657, 124.760724, 125.481902, 126.404079, 125.477737, 126.071019, 130.824331, 133.613395, 127.905767, 128.662524, 128.652527, 129.6321, 132.887552, 134.11249, 117.37297, 119.237999, 116.080154, 117.424589, 114.413586, 116.130948, 116.486264, 119.598927, 110.5728, 111.858437, 74.465162, 79.995337, 82.860821, 91.347291, 85.716024, 98.970481, 127.658331, 129.540202, 129.470528, 130.21808, 133.723748, 134.738785, 134.374555, 135.111443, 130.861475, 131.337438, 115.506627, 117.538123, 115.772783, 116.741632, 108.529656, 110.60782, 121.358945, 124.619773, 126.159424, 127.340582, 91.275275, 95.605228, 79.874427, 82.938601, 76.413314, 78.338763, 78.275229, 79.995765, 83.956612, 85.727511, 85.503554, 89.349858, 97.990418, 98.942257, 106.646704, 108.604437, 111.393667, 111.817723, 111.585811, 111.810645, 116.000232, 117.018216, 116.252108, 116.682705, 119.430384, 119.916417, 120.653168, 121.38883, 120.342727, 120.669383, 124.587426, 125.781376, 126.215282, 126.782323, 95.566367, 102.040026, 95.577158, 96.159009, 95.557772, 97.799728, 91.298032, 93.350057, 93.323794, 94.691771, 89.342471, 90.542019, 82.264229, 82.885485, 78.335615, 80.025844, 76.623947, 78.355027, 73.495149, 74.484473, 74.846872, 76.482208, 91.560117, 94.871859, 88.761692, 89.23822, 83.240549, 83.967602, 82.292367, 83.2495, 81.878825, 83.256003, 80.75421, 81.465955, 86.465421, 88.270356, 102.201019, 104.228033, 112.158282, 116.827153, 108.965663, 113.025767, 111.166575, 117.97687], hc = [22.545421, 42.279053, 17.226272, 22.731982, 41.294917, 50.743316, 30.361986, 42.326603, 21.699185, 22.690751, 42.419757, 48.938435, 21.426505, 22.64567, 50.651745, 52.916705, 42.20641, 45.201064, 21.131326, 22.565685, 21.438288, 22.580379, 23.735785, 25.295582, 22.001087, 22.560315, 38.979333, 41.340757, 40.28938, 41.332289, 39.734164, 40.344718, 40.968803, 41.325813, 40.721073, 41.061503, 44.871533, 48.012179, 41.338366, 42.445601, 42.010343, 42.436934, 45.875217, 48.208327, 45.134237, 46.786509, 45.135376, 46.394665, 45.150734, 45.742257, 47.480099, 50.065931, 42.217982, 43.46329, 37.014057, 40.662848, 42.221079, 47.315558, 27.723432, 30.46385, 48.913298, 49.644555, 48.83396, 49.436824, 46.944059, 48.376613, 47.654503, 48.466331, 42.854333, 44.907682, 47.600253, 48.440245, 48.410926, 48.903468, 42.229292, 42.908294, 52.822466, 53.58012, 50.703491, 51.656037, 42.29378, 44.393379, 42.296912, 45.385809, 34.679282, 37.027699, 30.740622, 37.066377, 28.241967, 30.403134, 47.271949, 48.49848, 25.235818, 27.774976, 42.217425, 42.542102, 43.429763, 44.691016, 44.687044, 44.995758, 48.880431, 49.320551, 49.282865, 49.626267, 50.711607, 51.308382, 52.908547, 53.333963, 52.904419, 53.109706, 52.902338, 53.251938, 51.639701, 52.402205, 42.231045, 42.693581, 43.062756, 43.892771, 42.664519, 43.075927, 44.372942, 45.1815, 44.376327, 44.975476, 47.304623, 48.054453, 45.353174, 46.808493, 40.563653, 42.041556, 40.582164, 41.4064, 38.51618, 40.179105, 35.789745, 37.023144, 26.825402, 27.757641, 27.193806, 27.745766, 29.144229, 30.375186, 29.567889, 30.059102, 30.041938, 30.378006, 29.995047, 30.382338, 48.48834, 49.169021, 22.392816, 22.595333, 7.439914, 11.500161, 3.766676, 9.000793, 12.640512, 17.406563], ic = 3E3, jc = 2.0E-5, kc = 3.0E-6, lc = 0.0174532925194, mc = 0.0065, nc = 0.0060, oc = 4E4, pc = 0, qc = 3, rc = 1.0E-10, sc = 6370996.81, tc = 1E8; function uc(a, b, c) { for (var d = ac, e = 0; e < d; e += 2)if (a.lng >= b[e] && a.lng <= b[e + 1] && a.lat >= c[e] && a.lat <= c[e + 1]) return o; return q } function vc(a) { var b = a.lng, c = a.lat, a = Math.sqrt(b * b + c * c) + Math.sin(c * ic * lc) * jc, b = Math.atan2(c, b) + Math.cos(b * ic * lc) * kc; return { lng: a * Math.cos(b) + mc, lat: a * Math.sin(b) + nc } } function wc(a) { var b = xc, c = {}, d = a.lng, e = a.lat, f = 1, g = a.lng, i = a.lat, j = d - f, l = 0, m = e + f, n = 0, s = d - f, u = 0, w = e - f, y = 0, D = d + f, C = 0, F = e - f, z = 0, A = d + f, E = 0, G = e + f, P = 0, m = j = 0, m = Ac(b, d, e), j = m.lng, m = m.lat; if (1.0E-6 >= Bc(j, m, g, i)) return c.lng = d, c.lat = e, c; for (; ;) { j = d - f; m = e + f; s = d - f; w = e - f; D = d + f; F = e - f; A = d + f; G = e + f; d = Ac(b, j, m); l = d.lng; n = d.lat; d = Ac(b, s, w); u = d.lng; y = d.lat; d = Ac(b, D, F); C = d.lng; z = d.lat; d = Ac(b, A, G); E = d.lng; P = d.lat; d = Bc(l, n, g, i); l = Bc(u, y, g, i); u = Bc(C, z, g, i); E = Bc(E, P, g, i); if (1.0E-6 > d) return c.lng = j, c.lat = m, c; if (1.0E-6 > l) return c.lng = s, c.lat = w, c; if (1.0E-6 > u) return c.lng = D, c.lat = F, c; if (1.0E-6 > E) return c.lng = A, c.lat = G, c; C = 1 / d; l = 1 / l; u = 1 / u; E = 1 / E; d = (j * C + s * l + D * u + A * E) / (C + l + u + E); e = (m * C + w * l + F * u + G * E) / (C + l + u + E); m = Ac(b, d, e); j = m.lng; m = m.lat; if (1.0E-6 >= Bc(j, m, g, i)) return c.lng = d, c.lat = e, c; f *= 0.6; if (1.0E-6 > f) { a: { c = (a.lng + 0.03 - (a.lng - 0.03)) / 1.0E-4 + 0.5; f = (a.lat + 0.03 - (a.lat - 0.03)) / 1.0E-4 + 0.5; g = a.lng * tc; i = a.lat * tc; w = 1.0E-4 * tc; j = g - w; m = g + w; s = i - w; D = i + w; C = l = u = E = k; A = l = w = F = u = E = 0; b(a); C = k; for (G = 0; G <= c; G++) { for (d = 0; d <= f; d++)if (C = b(k), E = k.lng * tc, u = k.lat * tc, l = C.lng * tc, C = C.lat * tc, !(l < j || C < s || l > m || C > D)) { E -= l; u -= C; l = Math.sqrt((g - l) * (g - l) + (i - C) * (i - C)); if (1 > l) { c = {}; c.lng = k.lng; c.lat = k.lat; break a } F += 1 * E / l; w += 1 * u / l; A += 1 / l } F /= A * tc; w /= A * tc } b = F * tc / tc; f = w * tc / tc; c = {}; c.lng = a.lng + b; c.lat = a.lat + f } return c } } } function Ac(a, b, c) { a = a({ lng: b, lat: c }); b = {}; b.lng = a.lng; b.lat = a.lat; return b } function Cc(a, b, c, d) { var e = arguments.length; this.xg = {}; this.Fg = {}; 0 !== e && 4 === e && this.normalize(a, b, c, d) } Cc.prototype.contains = function (a) { return a.lng > this.xg.lng && a.lng < this.Fg.lng && a.lat > this.xg.lat && a.lat < this.Fg.lat ? qc : Math.abs(a.lng - this.xg.lng) < rc || Math.abs(a.lng - this.Fg.lng) < rc || Math.abs(a.lat - this.xg.lat) < rc || Math.abs(a.y - this.Fg.lat) > rc ? 2 : pc }; Cc.prototype.normalize = function (a, b, c, d) { a > c ? (this.xg.lng = c, this.Fg.lng = a) : (this.xg.lng = a, this.Fg.lng = c); b > d ? (this.xg.lat = d, this.Fg.lat = b) : (this.xg.lat = b, this.Fg.lat = d) }; function Dc(a, b, c, d) { this.Bu = { lng: a, lat: b }; this.Hx = { lng: c, lat: d }; this.Cy = new Cc(a, b, c, d) } function Ec(a, b) { var c = a.lat * lc, d = b.lat * lc, e = c - d, f = a.lng * lc - b.lng * lc; return 2 * Math.asin(Math.sqrt(Math.sin(e / 2) * Math.sin(e / 2) + Math.cos(c) * Math.cos(d) * Math.sin(f / 2) * Math.sin(f / 2))) * sc } function Bc(a, b, c, d) { return Math.sqrt((a - c) * (a - c) + (b - d) * (b - d)) } function Fc(a, b, c) { return (b.lng - a.lng) * (c.lat - a.lat) - (c.lng - a.lng) * (b.lat - a.lat) } function xc(a) { var b = {}; if (a.lng < Zb[0] - 0.4 || a.lat < Zb[1] - 0.4 || a.lng > Zb[2] + 0.4 || a.lat > Zb[3] + 0.4) return b.lng = a.lng, b.lat = a.lat, b; if (uc(a, gc, hc)) return b = vc(a); for (var b = 0, c = oc, d = 0, e = new Cc, f = 0, d = 0; d < dc; ++d)fc[d] <= a.lat ? fc[(d + 1) % dc] > a.lat && 0 < Fc({ lng: ec[d], lat: fc[d] }, { lng: ec[(d + 1) % dc], lat: fc[(d + 1) % dc] }, a) && ++f : fc[(d + 1) % dc] <= a.lat && 0 > Fc({ lng: ec[d], lat: fc[d] }, { lng: ec[(d + 1) % dc], lat: fc[(d + 1) % dc] }, a) && --f; if ((0 === f ? pc : qc) === pc) { for (f = 0; f < dc; ++f)if (d = new Dc(ec[f], fc[f], ec[(f + 1) % dc], fc[(f + 1) % dc]), e.xg.lng = d.Cy.xg.lng - 0.5, e.xg.lat = d.Cy.xg.lat - 0.5, e.Fg.lng = d.Cy.Fg.lng + 0.5, e.Fg.lat = d.Cy.Fg.lat + 0.5, e.contains(a) !== pc) { var g; var i = d.Bu.lng, j = d.Bu.lat, l = d.Hx.lng, m = d.Hx.lat; g = m - j; var n = i - l; !(Math.abs(g - 0) > rc) && !(Math.abs(n - 0) > rc) ? g = d.Bu : (i = l * j - i * m, j = n * a.lng - g * a.lat, l = g * g - n * n, g = { lng: (n * j - g * i) / l, lat: -(g * j + n * i) / l }); n = 180; i = 90; j = -180; l = -90; l = d.Bu; m = d.Hx; n = l.lng < m.lng ? l.lng : m.lng; i = l.lat < m.lat ? l.lat : m.lat; j = l.lng < m.lng ? l.lng : m.lng; l = l.lat < m.lat ? l.lat : m.lat; g.lng <= j && g.lng >= n && g.lng <= l && g.lat >= i ? (d = a.lat * lc, n = a.lng * lc, i = g.lat * lc, g = g.lng * lc, j = Math.cos(d) * Math.cos(i), d = j * Math.cos(n) * Math.cos(g) + j * Math.sin(n) * Math.sin(g) + Math.sin(d) * Math.sin(i), -1 > d ? d = -1 : 1 < d && (d = 1), d = Math.acos(d) * sc) : (g = Ec(a, d.Bu), d = Ec(a, d.Hx), d = g < d ? g : d); d < c && (c = d) } c < oc && (b = (oc - c) / oc) } else b = 1; c = vc(a); return b = { lng: a.lng + (c.lng - a.lng) * b, lat: a.lat + (c.lat - a.lat) * b } } function Gc(a) { var b = {}; if (a.lng < $b[0] - 0.4 || a.lat < $b[1] - 0.4 || a.lng > $b[2] + 0.4 || a.lat > $b[3] + 0.4) return b.lng = a.lng, b.lat = a.lat, b; if (uc(a, bc, cc)) { var b = a.lng - mc, c = a.lat - nc, a = Math.sqrt(b * b + c * c) - Math.sin(c * ic * lc) * jc, b = Math.atan2(c, b) - Math.cos(b * ic * lc) * kc; return b = { lng: a * Math.cos(b), lat: a * Math.sin(b) } } c = xc(a); return a.lng === c.lng && a.lat === c.lng ? (b.lng = a.lng, b.lat = a.lat, b) : wc(a) } function cb(a, b) { if (b && b.B && b.B.ox && 3 === b.B.ox && a instanceof Q) { var c = xc(a); return new K(c.lng, c.lat) } return a } function jb(a, b) { if (b && b.B && 3 === b.B.ox && a instanceof K) { var c = Gc(a); return new Q(c.lng, c.lat) } return b && b.B && 5 === b.B.ox && a instanceof K ? new Q(a.lng, a.lat) : a } function Hc(a) { a = a.split("//"); if (2 <= a.length) { var b = a[1].split("?"); if (1 <= b.length) { var c = b[0].split("/"), d; d = b.length - 1; var e = 1, f = "/", g = c.length; e || (e = 0); d || (d = g - 1); f || (f = ""); if (e > g - 1 || d > g - 1) d = ""; else { for (g = ""; e <= d; e++)g = e === d ? g + c[e] : g + (c[e] + f); d = g } return { host: b[0], origin: a[0] + "//" + c[0], path: "/" + d } } } return p } function Wa(a, b, c) { return 33554432 | (a || 0) << 16 | (b || 0) << 8 | (c || 0) }; function ra(a, b, c) { if (b) { var d = (1E5 * Math.random()).toFixed(0); B._rd["_cbk" + d] = function (a) { a.result && a.result.error && 403 === a.result.error ? B.Qp !== p && B.Qp.update("\u672a\u83b7\u5f97\u767e\u5ea6\u5730\u56fe\u5546\u7528\u6388\u6743\uff0c\u53ef\u80fd\u5bfc\u81f4\u90e8\u5206\u5730\u56fe\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\u3002") : (b && b(a), delete B._rd["_cbk" + d]) }; a += "&callback=BMap._rd._cbk" + d } c || (a = Ic(a)); var e = H("script", { type: "text/javascript" }); e.charset = "utf-8"; e.src = a; e.addEventListener ? e.addEventListener("load", function (a) { a = a.target; a.parentNode.removeChild(a) }, q) : e.attachEvent && e.attachEvent("onreadystatechange", function () { var a = window.event.srcElement; a && ("loaded" === a.readyState || "complete" === a.readyState) && a.parentNode.removeChild(a) }); setTimeout(function () { document.getElementsByTagName("head")[0].appendChild(e); e = p }, 1) } function Ic(a) { var b = decodeURIComponent(a.substring(a.indexOf("?") + 1)), c = (new Date).getTime(), d = window.___abvk ? window.___abvk : Jc("SECKEY_ABVK"), e = Jc("BMAP_SECKEY"), f = encodeURIComponent(d + "," + e); -1 === a.indexOf("v=") && (a += "&v=2.1", b += "&v=2.1"); return a = a + ("&seckey=" + f + "&timeStamp=" + c) + Kc()(b + ("&seckey=" + d + "," + e + "&timeStamp=" + c)) } function Jc(a) { if (navigator.cookieEnabled) return (a = document.cookie.match(RegExp("(^| )" + a + "=([^;]*)(;|$)"))) ? unescape(a[2]) : -1; if (localStorage) return localStorage.getItem(a) ? localStorage.getItem(a) : -1; if (sessionStorage) return sessionStorage.getItem(a) ? localStorage.getItem(a) : -1 }; var Lc = { map: "2fvcam", common: "jvrlfx", style: "xlsa4e", tile: "rflxf5", vectordrawlib: "tvpeq2", newvectordrawlib: "cdiwbw", groundoverlay: "reursz", pointcollection: "i3fjak", marker: "2sanm1", symbol: "eaecba", canvablepath: "jkhwch", vmlcontext: "c2sv4h", markeranimation: "op543j", poly: "3qdhkl", draw: "nf4qua", drawbysvg: "utjaxf", drawbyvml: "5iggxq", drawbycanvas: "1fqxtq", infowindow: "d1t2rq", oppc: "sdvu00", opmb: "asmuic", menu: "j13dnb", control: "sqkfwg", navictrl: "tw101g", geoctrl: "rlo5mj", copyrightctrl: "hieucg", citylistcontrol: "arprte", scommon: "5zeewy", local: "xt5oku", route: "cnzyhy", othersearch: "iysvaq", mapclick: "d01aim", buslinesearch: "p5ebzd", hotspot: "kyxvx0", autocomplete: "b2xj4g", coordtrans: "f041o2", coordtransutils: "qwgrrp", convertor: "qupxet", clayer: "hrsvip", pservice: "sv3cup", pcommon: "qmsitt", panorama: "c5i1os", panoramaflash: "kgdqg3", vector: "ygxtav" }; x.qz = function () { function a(a) { return d && !!c[b + a + "_" + Lc[a]] } var b = "BMap_", c = window.localStorage, d = "localStorage" in window && c !== p && c !== k; return { dZ: d, set: function (a, f) { if (d) { for (var g = b + a + "_", i = c.length, j; i--;)j = c.key(i), -1 < j.indexOf(g) && c.removeItem(j); try { c.setItem(b + a + "_" + Lc[a], f) } catch (l) { c.clear() } } }, get: function (e) { return d && a(e) ? c.getItem(b + e + "_" + Lc[e]) : q }, NK: a } }(); function L() { } x.object.extend(L, { Mj: { XG: -1, vQ: 0, Aq: 1 }, ZL: function () { var a = "canvablepath", b = B.uV ? "newvectordrawlib" : "vectordrawlib"; if (!J() || !Sb()) Rb() || (Qb() ? a = "vmlcontext" : Sb()); return { tile: [b, "style"], control: [], marker: ["symbol"], symbol: ["canvablepath", "common"], canvablepath: "canvablepath" === a ? [] : [a], vmlcontext: [], style: [], poly: ["marker", "drawbycanvas", "drawbysvg", "drawbyvml"], drawbysvg: ["draw"], drawbyvml: ["draw"], drawbycanvas: ["draw"], infowindow: ["common", "marker"], menu: [], oppc: [], opmb: [], scommon: [], local: ["scommon"], route: ["scommon"], othersearch: ["scommon"], autocomplete: ["scommon"], citylistcontrol: ["autocomplete"], mapclick: ["scommon"], buslinesearch: ["route"], hotspot: [], coordtransutils: ["coordtrans"], convertor: [], clayer: ["tile"], pservice: [], pcommon: ["style", "pservice"], panorama: ["pcommon"], panoramaflash: ["pcommon"] } }, N4: {}, QG: { MQ: B.la + "getmodules?v=2.0&t=20140707", lV: 5E3 }, gD: q, Sd: { Fl: {}, Vn: [], uw: [] }, load: function (a, b, c) { var d = this.jb(a); if (d.Dd == this.Mj.Aq) c && b(); else { if (d.Dd == this.Mj.XG) { this.TK(a); this.hO(a); var e = this; e.gD == q && (e.gD = o, setTimeout(function () { for (var a = [], b = 0, c = e.Sd.Vn.length; b < c; b++) { var d = e.Sd.Vn[b], l = ""; ja.qz.NK(d) ? l = ja.qz.get(d) : (l = "", a.push(d + "_" + Lc[d])); e.Sd.uw.push({ zN: d, qF: l }) } e.gD = q; e.Sd.Vn.length = 0; 0 == a.length ? e.EL() : ra(e.QG.MQ + "&mod=" + a.join(",")) }, 1)); d.Dd = this.Mj.vQ } d.ov.push(b) } }, TK: function (a) { if (a && this.ZL()[a]) for (var a = this.ZL()[a], b = 0; b < a.length; b++)this.TK(a[b]), this.Sd.Fl[a[b]] || this.hO(a[b]) }, hO: function (a) { for (var b = 0; b < this.Sd.Vn.length; b++)if (this.Sd.Vn[b] == a) return; this.Sd.Vn.push(a) }, k_: function (a, b) { var c = this.jb(a); try { eval(b) } catch (d) { return } c.Dd = this.Mj.Aq; for (var e = 0, f = c.ov.length; e < f; e++)c.ov[e](); c.ov.length = 0 }, NK: function (a, b) { var c = this; c.timeout = setTimeout(function () { c.Sd.Fl[a].Dd != c.Mj.Aq ? (c.remove(a), c.load(a, b)) : clearTimeout(c.timeout) }, c.QG.lV) }, jb: function (a) { this.Sd.Fl[a] || (this.Sd.Fl[a] = {}, this.Sd.Fl[a].Dd = this.Mj.XG, this.Sd.Fl[a].ov = []); return this.Sd.Fl[a] }, remove: function (a) { delete this.jb(a) }, fW: function (a, b) { for (var c = this.Sd.uw, d = o, e = 0, f = c.length; e < f; e++)"" == c[e].qF && (c[e].zN == a ? c[e].qF = b : d = q); d && this.EL() }, EL: function () { for (var a = this.Sd.uw, b = 0, c = a.length; b < c; b++)this.k_(a[b].zN, a[b].qF); this.Sd.uw.length = 0 } }); function S(a, b) { this.x = a || 0; this.y = b || 0; this.x = this.x; this.y = this.y } S.prototype.ab = function (a) { return a && a.x == this.x && a.y == this.y }; function M(a, b) { this.width = a || 0; this.height = b || 0 } M.prototype.ab = function (a) { return a && this.width == a.width && this.height == a.height }; (function (a) { function b(a, b) { var c = (a & 65535) + (b & 65535); return (a >> 16) + (b >> 16) + (c >> 16) << 16 | c & 65535 } function c(a, c, d, e, f, g) { return b(b(b(c, a), b(e, g)) << f | b(b(c, a), b(e, g)) >>> 32 - f, d) } function d(a, b, d, e, f, g, i) { return c(b & d | ~b & e, a, b, f, g, i) } function e(a, b, d, e, f, g, i) { return c(b & e | d & ~e, a, b, f, g, i) } function f(a, b, d, e, f, g, i) { return c(d ^ (b | ~e), a, b, f, g, i) } function g(a, g) { a[g >> 5] |= 128 << g % 32; a[(g + 64 >>> 9 << 4) + 14] = g; var i, j, l, m, n, z = 1732584193, A = -271733879, E = -1732584194, G = 271733878; for (i = 0; i < a.length; i += 16)j = z, l = A, m = E, n = G, z = d(z, A, E, G, a[i], 7, -680876936), G = d(G, z, A, E, a[i + 1], 12, -389564586), E = d(E, G, z, A, a[i + 2], 17, 606105819), A = d(A, E, G, z, a[i + 3], 22, -1044525330), z = d(z, A, E, G, a[i + 4], 7, -176418897), G = d(G, z, A, E, a[i + 5], 12, 1200080426), E = d(E, G, z, A, a[i + 6], 17, -1473231341), A = d(A, E, G, z, a[i + 7], 22, -45705983), z = d(z, A, E, G, a[i + 8], 7, 1770035416), G = d(G, z, A, E, a[i + 9], 12, -1958414417), E = d(E, G, z, A, a[i + 10], 17, -42063), A = d(A, E, G, z, a[i + 11], 22, -1990404162), z = d(z, A, E, G, a[i + 12], 7, 1804603682), G = d(G, z, A, E, a[i + 13], 12, -40341101), E = d(E, G, z, A, a[i + 14], 17, -1502002290), A = d(A, E, G, z, a[i + 15], 22, 1236535329), z = e(z, A, E, G, a[i + 1], 5, -165796510), G = e(G, z, A, E, a[i + 6], 9, -1069501632), E = e(E, G, z, A, a[i + 11], 14, 643717713), A = e(A, E, G, z, a[i], 20, -373897302), z = e(z, A, E, G, a[i + 5], 5, -701558691), G = e(G, z, A, E, a[i + 10], 9, 38016083), E = e(E, G, z, A, a[i + 15], 14, -660478335), A = e(A, E, G, z, a[i + 4], 20, -405537848), z = e(z, A, E, G, a[i + 9], 5, 568446438), G = e(G, z, A, E, a[i + 14], 9, -1019803690), E = e(E, G, z, A, a[i + 3], 14, -187363961), A = e(A, E, G, z, a[i + 8], 20, 1163531501), z = e(z, A, E, G, a[i + 13], 5, -1444681467), G = e(G, z, A, E, a[i + 2], 9, -51403784), E = e(E, G, z, A, a[i + 7], 14, 1735328473), A = e(A, E, G, z, a[i + 12], 20, -1926607734), z = c(A ^ E ^ G, z, A, a[i + 5], 4, -378558), G = c(z ^ A ^ E, G, z, a[i + 8], 11, -2022574463), E = c(G ^ z ^ A, E, G, a[i + 11], 16, 1839030562), A = c(E ^ G ^ z, A, E, a[i + 14], 23, -35309556), z = c(A ^ E ^ G, z, A, a[i + 1], 4, -1530992060), G = c(z ^ A ^ E, G, z, a[i + 4], 11, 1272893353), E = c(G ^ z ^ A, E, G, a[i + 7], 16, -155497632), A = c(E ^ G ^ z, A, E, a[i + 10], 23, -1094730640), z = c(A ^ E ^ G, z, A, a[i + 13], 4, 681279174), G = c(z ^ A ^ E, G, z, a[i], 11, -358537222), E = c(G ^ z ^ A, E, G, a[i + 3], 16, -722521979), A = c(E ^ G ^ z, A, E, a[i + 6], 23, 76029189), z = c(A ^ E ^ G, z, A, a[i + 9], 4, -640364487), G = c(z ^ A ^ E, G, z, a[i + 12], 11, -421815835), E = c(G ^ z ^ A, E, G, a[i + 15], 16, 530742520), A = c(E ^ G ^ z, A, E, a[i + 2], 23, -995338651), z = f(z, A, E, G, a[i], 6, -198630844), G = f(G, z, A, E, a[i + 7], 10, 1126891415), E = f(E, G, z, A, a[i + 14], 15, -1416354905), A = f(A, E, G, z, a[i + 5], 21, -57434055), z = f(z, A, E, G, a[i + 12], 6, 1700485571), G = f(G, z, A, E, a[i + 3], 10, -1894986606), E = f(E, G, z, A, a[i + 10], 15, -1051523), A = f(A, E, G, z, a[i + 1], 21, -2054922799), z = f(z, A, E, G, a[i + 8], 6, 1873313359), G = f(G, z, A, E, a[i + 15], 10, -30611744), E = f(E, G, z, A, a[i + 6], 15, -1560198380), A = f(A, E, G, z, a[i + 13], 21, 1309151649), z = f(z, A, E, G, a[i + 4], 6, -145523070), G = f(G, z, A, E, a[i + 11], 10, -1120210379), E = f(E, G, z, A, a[i + 2], 15, 718787259), A = f(A, E, G, z, a[i + 9], 21, -343485551), z = b(z, j), A = b(A, l), E = b(E, m), G = b(G, n); return [z, A, E, G] } function i(a) { var b, c = "", d = 32 * a.length; for (b = 0; b < d; b += 8)c += String.fromCharCode(a[b >> 5] >>> b % 32 & 255); return c } function j(a) { var b, c = []; c[(a.length >> 2) - 1] = k; for (b = 0; b < c.length; b += 1)c[b] = 0; var d = 8 * a.length; for (b = 0; b < d; b += 8)c[b >> 5] |= (a.charCodeAt(b / 8) & 255) << b % 32; return c } function l(a) { var b = "", c, d; for (d = 0; d < a.length; d += 1)c = a.charCodeAt(d), b += "0123456789abcdef".charAt(c >>> 4 & 15) + "0123456789abcdef".charAt(c & 15); return b } function m(a, b) { var c = unescape(encodeURIComponent(a)), d = unescape(encodeURIComponent(b)), e = j(c), f = [], l = []; f[15] = l[15] = k; 16 < e.length && (e = g(e, 8 * c.length)); for (c = 0; 16 > c; c += 1)f[c] = e[c] ^ 909522486, l[c] = e[c] ^ 1549556828; d = g(f.concat(j(d)), 512 + 8 * d.length); return i(g(l.concat(d), 640)) } function n(a, b, c) { return !b ? !c ? l(i(g(j(unescape(encodeURIComponent(a))), 8 * unescape(encodeURIComponent(a)).length))) : i(g(j(unescape(encodeURIComponent(a))), 8 * unescape(encodeURIComponent(a)).length)) : !c ? l(m(b, a)) : m(b, a) } "function" === typeof define && define.n2 ? define(function () { return n }) : "object" === typeof module && module.pX ? module.pX = n : a.md5 = n })(this); function gb() { function a() { if (1 === arguments.length && "object" === typeof arguments[0]) { var a = arguments[0] || {}; for (key in a) if (!a[key] || !(f[key] && a[key] === f[key])) if (a[key] || 0 === a[key]) f[key] = a[key] } a = document.getElementById(f.Ki); a.parentNode.removeChild(a); j.disconnect() } function b(a) { if (1 === arguments.length && "object" === typeof arguments[0]) { var b = arguments[0] || {}; for (key in b) if (!b[key] || !(f[key] && b[key] === f[key])) if (b[key] || 0 === b[key]) f[key] = b[key] } (b = document.getElementById(f.Ki)) && b.parentNode && b.parentNode.removeChild(b); var c = (b = f.FP) ? b : document.body; if (x.ca.ma) e = parseFloat(x.K.oh(c, "width")), d = parseFloat(x.K.oh(c, "height")); else var d = getComputedStyle(c, p), e = parseFloat(d.width), d = parseFloat(d.height); var g = document.getElementById(f.Ki), m = p; if (g) g.shadowRoot && (m = g.shadowRoot); else { g = document.createElement("div"); g.id = f.Ki; g.setAttribute("style", "pointer-events: none !important; opacity: 1 !important; display: block !important;position: absolute !important;left: 0 !important;top: 0 !important;transform:scale(1) !important;scale: 1 !important;z-index:99 !important;margin: 0px !important;visibility: visible !important;"); var m = "function" === typeof g.attachShadow ? g.attachShadow({ mode: "closed" }) : g, F = c.children, z = Math.floor(Math.random() * (F.length - 1)); F[z] ? c.insertBefore(g, F[z]) : c.appendChild(g) } f.dl = parseInt((e - f.vq) / (f.Kn + f.Ln)) || 1; g = parseInt((e - f.vq - f.Kn * f.dl) / f.dl); f.Ln = g ? f.Ln : g; f.el = parseInt((d - f.wq) / (f.Jn + f.Mn)) || 1; g = parseInt((d - f.wq - f.Jn * f.el) / f.el); f.Mn = g ? f.Mn : g; b ? (g = f.vq + f.Kn * f.dl + f.Ln * (f.dl - 1), F = f.wq + f.Jn * f.el + f.Mn * (f.el - 1)) : (g = 0 + f.vq + f.Kn * f.dl + f.Ln * (f.dl - 1), F = 0 + f.wq + f.Jn * f.el + f.Mn * (f.el - 1)); for (var A, E = document.createDocumentFragment(), G = 0; G < f.el; G++) { A = b ? 0 + f.wq + (f.Mn + f.Jn) * G : f.wq + (d - F) / 2 + (f.Mn + f.Jn) * G; for (var P = 0; P < f.dl; P++) { var z = b ? 0 + f.vq + (e - g) / 2 + (f.Kn + f.Ln) * P : f.vq + (e - g) / 2 + (f.Kn + f.Ln) * P, N = document.createElement("div"); N.appendChild(document.createTextNode(f.GP)); N.id = f.zz + G + P; N.style.webkitTransform = "rotate(-" + f.Su + "deg)"; N.style.MozTransform = "rotate(-" + f.Su + "deg)"; N.style.msTransform = "rotate(-" + f.Su + "deg)"; N.style.p1 = "rotate(-" + f.Su + "deg)"; N.style.transform = "rotate(-" + f.Su + "deg)"; N.style.visibility = ""; N.style.position = "absolute"; N.style.left = z + "px"; N.style.top = A + "px"; N.style.overflow = "hidden"; N.style.zIndex = "9999999"; N.style.opacity = f.S0; N.style.fontSize = f.V0; N.style.fontFamily = f.U0; N.style.color = f.T0; N.style.textAlign = "center"; N.style.width = f.Kn + "px"; N.style.height = f.Jn + "px"; N.style.display = "block"; N.style["-ms-user-select"] = "none"; E.appendChild(N) } } m.appendChild(E); if ((a.rF === k ? f.rF : a.rF) && i) j.observe(c, l), j.observe(document.getElementById(f.Ki), l) } function c(a) { if (e) e = q; else { for (var c = q, d = 0, g = 0, i = 0; i < a.length; i++) { if (m && a[i].target && a[i].target.getAttribute) { var j = a[i].target.getAttribute("id"); if (j && (j === f.Ki || 0 <= j.indexOf(f.zz))) { c = o; break } } for (var l = 0; l < a[i].addedNodes.length; l++)if (j = a[i].addedNodes[l], j = j.getAttribute("id"), m && j && (j === f.Ki || 0 <= j.indexOf(f.zz))) { d += 1; break } for (l = 0; l < a[i].removedNodes.length; l++)if (j = a[i].removedNodes[l], j = j.getAttribute("id"), m && j && (j === f.Ki || 0 <= j.indexOf(f.zz))) { g += 1; break } } (c || !d && 0 < g) && b(m) } } var d = {}, e = q, f = { Ki: Math.random().toString(36).slice(2, 12), zz: "baidu_jsapi_watermark_span", GP: "\u6d4b\u8bd5\u6c34\u5370", vq: 20, wq: 20, el: 0, dl: 0, Ln: 40, Mn: 40, U0: "\u5fae\u8f6f\u96c5\u9ed1", T0: "black", V0: "18px", S0: 0.15, Kn: 200, Jn: 50, Su: 15, K5: 0, J5: 0, FP: p, rF: o }, g = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver, i = g !== k, j = i ? new g(c) : p, l = { childList: o, attributes: o }, m; d.ME = function (a) { m = a; for (var c = f.Ki, d = document.getElementById(c); d;)c = Math.random().toString(36).slice(2, 12), d = document.getElementById(c); f.Ki = c; b(a); window.addEventListener("resize", function () { b(a) }) }; d.load = function (a) { m = a; b(a) }; d.remove = function () { e = o; a() }; return d }; var Mc = Date.now(), Nc = p, Oc = p, Pc = {}, Qc = {}; function Va(a, b) { Oc || (Oc = function () { Rc() }); if (!window.navigator || navigator.onLine) 18E5 < Date.now() - Mc && (Mc = Date.now(), Pc = {}, Qc = {}), Pc[a] || (Pc[a] = o, Qc[a] = b), !Nc && Oc && (Nc = setInterval(Oc, 1E3)) } function Rc() { if (0 === Object.keys(Qc).length) clearInterval(Nc), Nc = p; else { var a = Object.keys(Qc)[0], b = (new Date).getTime(), c = "logCbk" + Math.floor(1E10 * Math.random()); window.BMap[c] = function () { delete window.BMap[c] }; b = "//api.map.baidu.com?qt=jsapi_log&uid=" + qa + "&bmap2=1&device=" + (J() ? 1 : 0) + "&module=" + (Qc[a][0] || "") + "&func=" + (Qc[a][1] || "") + "&subfunc=" + (Qc[a][2] || "") + "&t=" + b + "&callback=BMap." + c; b += Kc()(b); try { ra(b, p, o), delete Qc[a] } catch (d) { } 0 === Object.keys(Qc).length && (clearInterval(Nc), Nc = p) } }; for (var Sc = function (a, b) { function c(a) { return f.iexdl(e, a, function (a) { return f.hhxah(d, a) }) } function d(a) { return f.adame(a, "")[f.dxeeh][f.adame(f.adame("from", "Char"), i)](a) } function e(a, b) { for (var c = "eem"; "meeh" !== c;)switch (c) { case f.eadea: var d = a.length, c = "cdl"; break; case "aei": for (c = 0; c < d; c++) { var e = b(a[c]); g.push(e) } c = "ehi"; break; case "cdl": var g = [], c = "aei"; break; case f.dcdea: return g } } var f = { eadea: "eem", dcdea: "ehi", adame: function (a, b) { return a + b }, dxeeh: "constructor", hhxah: function (a, b) { return a(b) }, iexdl: function (a, b, c) { return a(b, c) }, xxexa: function (a, b) { return a(b) }, dmahm: function (a, b) { return a(b) }, eiccl: "1.1.2", xaeim: function (a, b) { return a(b) }, eexch: function (a, b) { return a < b }, xcead: function (a, b, c) { return a(b, c) } }, g, i, j = decodeURIComponent; i = "Code"; var l = c.call(d, [39, 34, 37, 96, 60, 120, 97, 65, 98, 66, 99, 67, 100, 68, 101, 69, 102, 70, 103, 110, 109, 111, 112, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]); g = e([28782, 27702, 26416, 25167, 24183], function (a) { return f.xxexa(j, a) }); var m = c.call(g, [22354, 22749, 24415, 23346, 22257, 22688, 24306, 25174, 23595, 25547, 22984, 25690, 22212, 27547, 21594, 27210, 23090, 29193, 22394, 29368, 29532, 29459, 29530, 24146, 24500, 26352, 27441, 28788, 29370, 27673, 26925, 25249, 24430]), n = {}; g = f.xaeim(c, g); var s = RegExp(g.join("|")); for (g = 0; f.eexch(g, l.length); g++)n[m[g]] = l[g]; b = e(b.split(""), function (a) { return n[a] || a }).join(""); return f.xcead(e, b.split(s), function (a) { return f.dmahm(j, a) }) }(this, "SJv\u6a4aY\u72bah\u6b31\u692dZ\u6b9bh\u72ba\u735aHS\u706e\u56c4\u5ef2\u735c\u735ci\u706e\u56c4\u545al\u5e77\u56c4\u58a0\u56c4\u59c8l\u706e\u59c8\u59c8\u59c8\u735ch\u6730\u545a\u56c4\u735c\u5e77\u58a0\u59c8\u5ef2\u5ef2\u59c8\u706e\u735c\u545a\u735c\u58a0\u5ef2\u6c36\u5f5f\u6b31\u7209qt\u5f5f\u6b31\u6b9b\u735a\u5ef2\u72b8\u7313_\u545a\u72b8try\u5f5f\u66f0\u6c19v\u5f5f\u6b31\u6b9b\u706e\u5a32u\u72b8\u59c8ti\u7313\u72b8\u6730\u5f5f\u66f0\u6c19\u5f5f\u66f0\u5e52\u59c8\u5ef2ll\u5c2b\u5ef2\u59c8k\u5f5f\u6b31\u6b9b\u5e77ii\u545ai\u545a\u706e\u56c4\u59c8h\u56c4i\u624fh\u545a\u58a0i\u5ef2\u5e77\u545al\u59c8\u58a0l\u706e\u735c\u735c\u545a\u545a\u545a\u6c36P\u6256NOR\u6256M\u6256\u5e77\u5f5f\u6a4a\u5f6e\u5f5f\u5f6e\u645a\u5f5f\u62a1\u5e52\u5f5f\u6a4a\u62a1\u5f5f\u6256\u6c19\u5f5f\u62a1\u5fb4\u5f5f\u6a4a\u692d\u5f5f\u5f6e\u7074\u5f5f\u63cb\u6b31\u5f5f\u6a4a\u62a1\u5f5f\u6256\u7209\u5f5f\u63cb\u692d\u5f5f\u6a4a\u72ba\u5f5f\u62a1\u72ba\u5f5f\u6256\u62a1\u5f5f\u6a4a\u6c19\u5f5f\u5f6e\u5f6e\u5f5f\u6256\u7209\u5f5f\u6a4a\u72ba\u5f5f\u5f6e\u645a\u5f5f\u63cb\u5e52\u5f5f\u6a4a\u72ba\u5f5f\u5f6e\u63cb\u5f5f\u63cb\u6a4a\u5f5f\u6a4a\u7074\u5f5f\u63cb\u6b9b\u5f5f\u63cb\u7209\u5f5f\u6a4a\u692d\u5f5f\u5f6e\u7074\u5f5f\u6256\u62a1\u5f5f\u6a4a\u6c19\u5f5f\u5f6e\u6b9b\u5f5f\u62a1\u6b31\u5f5f\u6a4a\u5f6e\u5f5f\u5f6e\u5f6e\u5f5f\u5f6e\u5e52\u5e77\u545a\u545a\u545a\u56c4\u6c36\u735cil\u5e77\u5f5f\u6b31\u7209qt\u5f5f\u6b31\u6b9b\u735a\u5ef2\u72b8\u7313_\u59c8\u7313u\u72b8t\u5f5f\u66f0\u6c19v\u5f5f\u6b31\u6b9b\u6730\u5f5f\u66f0\u6c19\u5ef2k\u5f5f\u6b31\u6b9b\u706e\u545a\u5ef2\u545a\u6730hhl\u59c8\u6c36\u56c4h\u5ef2\u5e77\u735c\u5ef2\u59c8\u706e\u59c8\u5ef2i\u5e77\u56c4\u58a0\u56c4\u6730il\u545ah\u6730\u5ef2\u58a0\u5ef2\u5ef2\u545a\u624fi\u545al\u5ef2\u58a0\u5e77h\u58a0h\u59c8\u5ef2\u706e\u59c8i\u545a\u5ef2\u5ef2\u6730l\u735c\u5ef2hi\u6730\u56c4\u59c8\u545a\u6730\u59c8\u545a\u545a\u5ef2h\u6c36\u735cih\u5ef2\u735c\u706e\u5ef2\u735c\u545a\u545a\u58a0\u5e77\u58a0\u545al\u59c8\u545a\u706e\u5ef2i\u59c8\u5ef2\u545a\u6730\u5ef2\u56c4\u545a\u5e77i\u58a0\u5ef2\u6c36\u5ef2\u59c8\u545a\u706e\u545arr\u7313r\u624f\u59c8\u735c\u545a\u56c4\u735c\u6730\u5ef2\u58a0\u59c8\u545a\u545a\u6c36i\u58a0\u545ai\u59c8\u5e77i\u58a0h\u545ah\u624f\u5ef2\u58a0\u735c\u545a\u59c8\u5e77li\u56c4\u735c\u59c8\u706e\u545a\u59c8\u735clh\u624f\u5f5f\u66f0\u6c19\u59c8\u7313\u72b8su\u735c\u545a\u5f5f\u6b31\u6b9b\u706ehi\u58a0\u624f\u735cl\u56c4\u56c4\u735c\u5e77\u735ci\u56c4\u58a0\u5ef2\u5e77llih\u59c8\u624flh\u735c\u56c4\u735c\u706e\u5ef2\u58a0\u58a0\u5ef2\u58a0\u5e77\u58a0\u735c\u5ef2l\u58a0\u706e\u545a\u56c4\u56c4\u545a\u735c\u6730\u58a0\u58a0i\u6730\u5ef2\u56c4\u59c8\u706e\u56c4l\u545a\u6c36\u545ah\u5ef2\u624flh\u59c8\u706e\u5ef2\u5ef2\u59c8\u706e\u735c\u545al\u6730h\u735c\u5ef2\u624f\u56c4i\u545a\u706ei\u735c\u545a\u706ei\u545a\u59c8i\u5ef2\u6c36\u58a0\u735ci\u56c4\u6730l\u5ef2\u5ef2\u58a0i\u624f\u5ef2i\u58a0l\u5ef2\u6c36\u5ef2uth_k\u545ay\u5f5f\u6b31\u6b9b\u624fh\u58a0\u56c4\u56c4\u59c8\u6c36\u735a\u5ef2rs\u545a\u6c36\u545ai\u56c4\u706e\u545aih\u545a\u58a0\u6730\u735c\u58a0\u545a\u545ah\u6730i\u545ah"), Tc = 261, Uc = ++Tc; --Uc;)Sc.push(Sc.shift()); function V(a) { return Sc[a - 0] } var Xc = function (a) { for (var b = { lmahi: V("0x0"), ceeah: V("0x1"), miham: V("0x2"), ameex: V("0x3"), xelce: V("0x4"), aicae: function (a, b) { return a !== b }, eddem: V("0x5"), axaae: V("0x6"), ielax: V("0x7"), hxhca: V("0x8"), cieaa: V("0x9") }, c = V("0x9"); b.aicae(c, V("0xa"));)switch (c) { case b[V("0xb")]: var d = a ? a : 5E3, c = b[V("0xc")]; break; case b[V("0xd")]: var e = 0, c = b[V("0xb")]; break; case b[V("0xe")]: var f = p, c = b[V("0xd")]; break; case b[V("0xc")]: return function (a) { for (var c = { lhdce: b[V("0xf")], cmedm: V("0x10"), axcee: b[V("0x11")], ixeic: function (a, b) { return a + b }, ixheh: function (a, b) { return a + b }, axmec: function (a, b) { return a + b }, lidmc: b[V("0x12")], ecmlh: b[V("0x13")], xmalx: b[V("0x14")] }, j = "ade"; b[V("0x15")](j, b.eddem);)switch (j) { case V("0x16"): e += a; j = V("0x17"); break; case V("0x17"): if (!f) { j = V("0x18"); break } j = V("0x5"); break; case V("0x18"): f = setTimeout(function () { for (var a = { mlddm: function (a, b) { return a !== b }, midxa: "PANORAMA", llihc: V("0x19") }, b = V("0x1"); b !== c.lhdce;)switch (b) { case c[V("0x1a")]: f = p; b = V("0x0"); break; case V("0x4"): e = 0; b = V("0x10"); break; case c[V("0x1b")]: var d = c[V("0x1c")](c[V("0x1d")](c[V("0x1e")](B.YN, c[V("0x1f")]), B.version) + c[V("0x20")], qa) + V("0x21") + e, b = V("0x22"); break; case V("0x22"): ra(d, function (b) { var c = { lhmdm: function (b, c) { return a[V("0x23")](b, c) }, axxax: a[V("0x24")] }; (!b || b[a[V("0x25")]] === k || a[V("0x23")](b.error, 0)) && Vc(function (a) { (!a || a[V("0x19")] === k || c[V("0x26")](a[V("0x19")], 0)) && Wc(c[V("0x27")]) }) }), b = c[V("0x28")] } }, d), j = b[V("0x29")] } } } }(); function Yc(a, b) { for (var c = { iecia: V("0x2a"), hieed: function (a, b) { return a / b }, laaxi: V("0x2b"), axmad: function (a, b) { return a + b }, aixla: function (a, b) { return a + b }, hxddc: V("0x2c"), eihex: V("0x2d"), aclel: V("0x4"), mxeeh: V("0x2e"), dammi: "edm", dxdcl: V("0x2f"), aedxh: function (a, b) { return a === b }, immea: V("0x30"), cccmh: V("0x31"), xcaac: V("0x32"), memxa: V("0x33"), aiald: function (a, b) { return a + b }, iemlm: function (a, b) { return a + b } }, d = c[V("0x34")]; d !== V("0x35");)switch (d) { case "eid": var e = c.hieed(g, 1E3), d = V("0x33"); break; case c[V("0x36")]: var f = c.axmad(c[V("0x37")](V("0x38") + c[V("0x37")](e, i) + "-", g) + "-" + qa, "-") + l, d = c[V("0x39")]; break; case "eae": var g = Date[V("0x3a")](new Date), d = V("0x3b"); break; case c[V("0x3c")]: var i = 1800, d = c.aclel; break; case c[V("0x3d")]: return f; case V("0x3e"): var j = V("0x3f"), d = c[V("0x3c")]; break; case c[V("0x40")]: n = o; d = V("0x3e"); break; case V("0x32"): d = !b ? V("0x41") : V("0x30"); break; case c[V("0x42")]: n = c.aedxh(b.Ip, q) ? q : o; d = V("0x3e"); break; case c.immea: m = b.wW ? b.wW : 1; d = c[V("0x42")]; break; case "dle": n && Xc(m); d = c.mxeeh; break; case c[V("0x43")]: var l = md5(s), d = V("0x2b"); break; case V("0x41"): m = 1; d = V("0x44"); break; case c[V("0x34")]: var m, n, d = c[V("0x45")]; break; case c[V("0x46")]: var s = c[V("0x37")](c[V("0x37")](c.aiald(c.iemlm(a, "-"), e + i) + "-" + g, "-") + qa + "-", j), d = V("0x31") } } function Vc(a) { var b = { iieie: "PANORAMA", dchdi: function (a, b) { return a + b }, hexia: V("0x47"), elcxl: V("0x48"), mmeee: V("0x49") }; switch ("PANORAMA") { case b[V("0x4a")]: var c = b[V("0x4b")](B.YN, b[V("0x4c")]) + B.version + V("0x3") + qa; typeof a === b[V("0x4d")] ? ra(c, a) : ra(b[V("0x4b")](c, b[V("0x4e")]) + a) } } function Wc(a) { switch (a) { case V("0x4f"): alert(V("0x50")) } }; function Kc() { function a(a) { return b[a - 0] } var b = function (a, b) { function e(a) { var b = { icxax: function (a, b) { return i.ailxm(a, b) } }; return g(a, function (a) { return b.icxax(f, a) }) } function f(a) { return i.xhaxa(a, "")[i.aiaea][i.xhaxa(i.cdxai("from", "Char"), l)](a) } function g(a, b) { for (var c = "cxe"; "hxdh" !== c;)switch (c) { case "lxc": return f; case i.almmx: var d = a.length, c = i.laxhh; break; case i.aadee: for (c = 0; i.axehm(c, d); c++) { var e = b(a[c]); f.push(e) } c = "lxc"; break; case i.laxhh: var f = [], c = i.aadee } } var i = { almmx: "cxe", laxhh: "eda", aadee: "dah", axehm: function (a, b) { return a < b }, xhaxa: function (a, b) { return a + b }, aiaea: "constructor", cdxai: function (a, b) { return a + b }, ailxm: function (a, b) { return a(b) }, ilaxc: function (a, b) { return a(b) }, aedia: "1.1.2", ddmic: function (a, b, c) { return a(b, c) }, iadma: function (a, b) { return a(b) } }, j, l, m = decodeURIComponent; l = "Code"; var n = e.call(f, [39, 34, 37, 96, 60, 120, 97, 65, 98, 66, 99, 67, 100, 68, 101, 69, 102, 70, 103, 110, 109, 111, 112, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]); j = i.ddmic(g, [28782, 27702, 26416, 25167, 24183], function (a) { return m(a) }); var s = e.call(j, [22354, 22749, 24415, 23346, 22257, 22688, 24306, 25174, 23595, 25547, 22984, 25690, 22212, 27547, 21594, 27210, 23090, 29193, 22394, 29368, 29532, 29459, 29530, 24146, 24500, 26352, 27441, 28788, 29370, 27673, 26925, 25249, 24430]), u = {}; j = i.iadma(e, j); var w = RegExp(j.join("|")); for (j = 0; i.axehm(j, n.length); j++)u[s[j]] = n[j]; b = g(b.split(""), function (a) { return u[a] || a }).join(""); return g(b.split(w), function (a) { return i.ilaxc(m, a) }) }(this, "H\u5e52\u6256\u5f6eP\u62a1P\u692dY\u6c19\u6256\u63cbQO\u5e52\u706e\u58a0\u5ef2\u545a\u58a0\u56c4\u624fl\u5ef2\u545a\u6730\u545a\u545a\u5ef2\u58a0\u706ehh\u5ef2\u624f\u5ef2h\u5ef2\u5e77i\u545a\u545a\u58a0\u545a\u5e77il\u59c8\u5ef2\u5ef2\u6730\u7209\u72baL\u66f0O\u6c19R\u6c19\u6256\u6b9b\u62a1\u5f6e\u5f6e\u5e52O\u6c36\u545a\u545a\u735c\u5ef2\u545a\u5e77\u5ef2\u735cl\u6c36\u5ef2l\u59c8\u5ef2\u5ef2\u5e77l\u545a\u72b8\u577ath"); (function (a, b) { for (var e = ++b; --e;)a.push(a.shift()) })(b, 236); return function (b) { for (var d = { ieexe: a("0x0"), ilcaa: a("0x1"), eemae: a("0x2"), alcaa: function (a, b) { return a - b }, xaexd: a("0x3"), laeci: function (a, b) { return a + b } }, e = d[a("0x4")]; e !== d[a("0x5")];)switch (e) { case "lae": var f = a("0x6"), e = d[a("0x7")]; break; case a("0x8"): return "&sign=" + i.substring(d[a("0x9")](i[a("0xa")], 12)); case a("0x2"): var g = a("0xb"), e = d[a("0xc")]; break; case "aha": var i = md5(md5(d.laeci(b, f)) + g), e = a("0x8") } } }; function ob(a, b) { a && (this.Kb = a, this.ba = "spot" + ob.ba++, b = b || {}, this.Yg = b.text || "", this.Yv = b.offsets ? b.offsets.slice(0) : [5, 5, 5, 5], this.bK = b.userData || p, this.Vh = b.minZoom || p, this.Gf = b.maxZoom || p) } ob.ba = 0; x.extend(ob.prototype, { ra: function (a) { this.Vh == p && (this.Vh = a.B.fc); this.Gf == p && (this.Gf = a.B.Zb) }, ta: function (a) { if (a instanceof Q || a instanceof K) this.Kb = a }, ia: v("Kb"), tu: da("Yg"), AE: v("Yg"), setUserData: da("bK"), getUserData: v("bK") }); function $c() { this.D = p; this.Lb = "control"; this.Oa = this.GK = o } x.lang.ua($c, x.lang.Da, "Control"); x.extend($c.prototype, { initialize: function (a) { this.D = a; if (this.C) return a.Ua.appendChild(this.C), this.C }, Ie: function (a) { !this.C && (this.initialize && db(this.initialize)) && (this.C = this.initialize(a)); this.k = this.k || { Eg: q }; this.bC(); this.Co(); this.C && (this.C.Kr = this) }, bC: function () { var a = this.C; if (a) { var b = a.style; b.position = "absolute"; b.zIndex = this.Zq || "10"; b.MozUserSelect = "none"; b.WebkitTextSizeAdjust = "none"; this.k.Eg || x.K.Ta(a, "BMap_noprint"); J() || x.M(a, "contextmenu", oa) } }, remove: function () { this.D = p; this.C && (this.C.parentNode && this.C.parentNode.removeChild(this.C), this.C = this.C.Kr = p) }, Ba: function () { this.C = Gb(this.D.Ua, "<div unselectable='on'></div>"); this.Oa == q && x.K.U(this.C); return this.C }, Co: function () { this.qc(this.k.anchor) }, qc: function (a) { if (this.o2 || !bb(a) || isNaN(a) || a < ad || 3 < a) a = this.defaultAnchor; this.k = this.k || { Eg: q }; this.k.Aa = this.k.Aa || this.defaultOffset; var b = this.k.anchor; this.k.anchor = a; if (this.C) { var c = this.C, d = this.k.Aa.width, e = this.k.Aa.height; c.style.left = c.style.top = c.style.right = c.style.bottom = "auto"; switch (a) { case ad: c.style.top = e + "px"; c.style.left = d + "px"; break; case bd: c.style.top = e + "px"; c.style.right = d + "px"; break; case cd: c.style.bottom = e + "px"; c.style.left = d + "px"; break; case 3: c.style.bottom = e + "px", c.style.right = d + "px" }c = ["TL", "TR", "BL", "BR"]; x.K.Tb(this.C, "anchor" + c[b]); x.K.Ta(this.C, "anchor" + c[a]) } }, dE: function () { return this.k.anchor }, getContainer: v("C"), Ye: function (a) { a instanceof M && (this.k = this.k || { Eg: q }, this.k.Aa = new M(a.width, a.height), this.C && this.qc(this.k.anchor)) }, Qf: function () { return this.k.Aa }, Ld: v("C"), show: function () { this.Oa != o && (this.Oa = o, this.C && x.K.show(this.C)) }, U: function () { this.Oa != q && (this.Oa = q, this.C && x.K.U(this.C)) }, isPrintable: function () { return !!this.k.Eg }, vg: function () { return !this.C && !this.D ? q : !!this.Oa } }); var ad = 0, bd = 1, cd = 2; function pb(a) { $c.call(this); a = a || {}; this.k = { Eg: q, iG: a.showZoomInfo || o, anchor: a.anchor, Aa: a.offset, type: a.type, iX: a.enableGeolocation || q }; this.defaultAnchor = J() ? 3 : ad; this.defaultOffset = new M(10, 10); this.qc(a.anchor); this.An(a.type); this.Ee() } x.lang.ua(pb, $c, "NavigationControl"); x.extend(pb.prototype, { initialize: function (a) { this.D = a; return this.C }, An: function (a) { this.k.type = bb(a) && 0 <= a && 3 >= a ? a : 0 }, Ap: function () { return this.k.type }, Ee: function () { var a = this; L.load("navictrl", function () { a.yf() }) } }); function dd(a) { $c.call(this); a = a || {}; this.k = { anchor: a.anchor || cd, Aa: a.offset || new M(10, 30), W_: a.showAddressBar !== q, W2: a.enableAutoLocation || q, nN: a.locationIcon || p }; var b = this; this.Zq = 1200; b.K0 = []; this.qe = []; L.load("geoctrl", function () { (function d() { if (0 !== b.qe.length) { var a = b.qe.shift(); b[a.method].apply(b, a.arguments); d() } })(); b.LQ() }); Sa(Ka) } x.lang.ua(dd, $c, "GeolocationControl"); x.extend(dd.prototype, { location: function () { this.qe.push({ method: "location", arguments: arguments }) }, getAddressComponent: ea(p) }); function ed(a) { $c.call(this); a = a || {}; this.k = { Eg: q, anchor: a.anchor, Aa: a.offset }; this.bc = []; this.defaultAnchor = cd; this.defaultOffset = new M(5, 2); this.qc(a.anchor); this.GK = q; this.Ee() } x.lang.ua(ed, $c, "CopyrightControl"); x.object.extend(ed.prototype, { initialize: function (a) { this.D = a; return this.C }, Pw: function (a) { if (a && bb(a.id) && !isNaN(a.id)) { var b = { bounds: p, content: "" }, c; for (c in a) b[c] = a[c]; if (a = this.Em(a.id)) for (var d in b) a[d] = b[d]; else this.bc.push(b) } }, Em: function (a) { for (var b = 0, c = this.bc.length; b < c; b++)if (this.bc[b].id == a) return this.bc[b] }, kE: v("bc"), JF: function (a) { for (var b = 0, c = this.bc.length; b < c; b++)this.bc[b].id == a && (r = this.bc.splice(b, 1), b--, c = this.bc.length) }, Ee: function () { var a = this; L.load("copyrightctrl", function () { a.yf() }) } }); function rb(a) { $c.call(this); a = a || {}; this.k = { Eg: q, size: a.size || new M(150, 150), padding: 5, Va: a.isOpen === o ? o : q, d1: 4, Aa: a.offset, anchor: a.anchor }; this.defaultAnchor = 3; this.defaultOffset = new M(0, 0); this.Xq = this.Yq = 13; this.qc(a.anchor); this.Ce(this.k.size); this.Ee() } x.lang.ua(rb, $c, "OverviewMapControl"); x.extend(rb.prototype, { initialize: function (a) { this.D = a; return this.C }, qc: function (a) { $c.prototype.qc.call(this, a) }, se: function () { this.se.Bo = o; this.k.Va = !this.k.Va; this.C || (this.se.Bo = q) }, Ce: function (a) { a instanceof M || (a = new M(150, 150)); a.width = 0 < a.width ? a.width : 150; a.height = 0 < a.height ? a.height : 150; this.k.size = a }, vb: function () { return this.k.size }, Va: function () { return this.k.Va }, Ee: function () { var a = this; L.load("control", function () { a.yf() }) } }); function fd(a) { $c.call(this); a = a || {}; this.defaultAnchor = ad; this.cW = a.canCheckSize === q ? q : o; this.kj = ""; this.defaultOffset = new M(10, 10); this.onChangeBefore = []; this.onChangeAfter = []; this.onChangeSuccess = []; this.k = { Eg: q, Aa: a.offset || this.defaultOffset, anchor: a.anchor || this.defaultAnchor, expand: !!a.expand }; a.onChangeBefore && db(a.onChangeBefore) && this.onChangeBefore.push(a.onChangeBefore); a.onChangeAfter && db(a.onChangeAfter) && this.onChangeAfter.push(a.onChangeAfter); a.onChangeSuccess && db(a.onChangeSuccess) && this.onChangeSuccess.push(a.onChangeSuccess); this.qc(a.anchor); this.Ee(); Va(Wa(5, 3), ["control", "city"]) } x.lang.ua(fd, $c, "CityListControl"); x.object.extend(fd.prototype, { initialize: function (a) { this.D = a; return this.C }, Ee: function () { var a = this; L.load("citylistcontrol", function () { a.yf() }, o) } }); function qb(a) { $c.call(this); a = a || {}; this.k = { Eg: q, color: "black", dd: "metric", Aa: a.offset }; this.defaultAnchor = cd; this.defaultOffset = new M(81, 18); this.qc(a.anchor); this.fi = { metric: { name: "metric", VK: 1, HM: 1E3, pP: "\u7c73", qP: "\u516c\u91cc" }, us: { name: "us", VK: 3.2808, HM: 5280, pP: "\u82f1\u5c3a", qP: "\u82f1\u91cc" } }; this.fi[this.k.dd] || (this.k.dd = "metric"); this.AJ = p; this.aJ = {}; this.Ee() } x.lang.ua(qb, $c, "ScaleControl"); x.object.extend(qb.prototype, { initialize: function (a) { this.D = a; return this.C }, Uk: function (a) { this.k.color = a + "" }, o3: function () { return this.k.color }, fG: function (a) { this.k.dd = this.fi[a] && this.fi[a].name || this.k.dd }, BY: function () { return this.k.dd }, Ee: function () { var a = this; L.load("control", function () { a.yf() }) } }); var gd = 0; function sb(a) { $c.call(this); a = a || {}; this.defaultAnchor = bd; this.defaultOffset = new M(10, 10); this.k = { Eg: q, rh: [Oa, Xa, Ta, Ra], MW: ["B_DIMENSIONAL_MAP", "B_SATELLITE_MAP", "B_NORMAL_MAP"], type: a.type || gd, Aa: a.offset || this.defaultOffset, mX: o }; this.qc(a.anchor); "[object Array]" == Object.prototype.toString.call(a.mapTypes) && (this.k.rh = a.mapTypes.slice(0)); this.Ee() } x.lang.ua(sb, $c, "MapTypeControl"); x.object.extend(sb.prototype, { initialize: function (a) { this.D = a; return this.C }, rz: function (a) { this.D.ro = a }, Ee: function () { var a = this; L.load("control", function () { a.yf() }, o) } }); function hd(a) { $c.call(this); a = a || {}; this.k = { Eg: q, Aa: a.offset, anchor: a.anchor }; this.Yi = q; this.yw = p; this.jJ = new id({ of: "api" }); this.kJ = new jd(p, { of: "api" }); this.defaultAnchor = bd; this.defaultOffset = new M(10, 10); this.qc(a.anchor); this.Ee(); Sa(xa) } x.lang.ua(hd, $c, "PanoramaControl"); x.extend(hd.prototype, { initialize: function (a) { this.D = a; return this.C }, Ee: function () { var a = this; L.load("control", function () { a.yf() }) } }); function kd(a) { x.lang.Da.call(this); this.k = { Ua: p, cursor: "default" }; this.k = x.extend(this.k, a); this.Lb = "contextmenu"; this.D = p; this.ya = []; this.Jf = []; this.Ge = []; this.wx = this.Ks = p; this.Uh = q; Va(Wa(5, 2), ["control", "menu"]); var b = this; L.load("menu", function () { b.Ab() }) } x.lang.ua(kd, x.lang.Da, "ContextMenu"); x.object.extend(kd.prototype, { ra: function (a, b) { this.D = a; this.Kl = b || p }, remove: function () { this.D = this.Kl = p }, Rw: function (a) { if (a && !("menuitem" != a.Lb || "" == a.Yg || 0 >= a.fj)) { for (var b = 0, c = this.ya.length; b < c; b++)if (this.ya[b] === a) return; this.ya.push(a); this.Jf.push(a) } }, removeItem: function (a) { if (a && "menuitem" == a.Lb) { for (var b = 0, c = this.ya.length; b < c; b++)this.ya[b] === a && (this.ya[b].remove(), this.ya.splice(b, 1), c--); b = 0; for (c = this.Jf.length; b < c; b++)this.Jf[b] === a && (this.Jf[b].remove(), this.Jf.splice(b, 1), c--) } }, vC: function () { this.ya.push({ Lb: "divider", Vj: this.Ge.length }); this.Ge.push({ K: p }) }, LF: function (a) { if (this.Ge[a]) { for (var b = 0, c = this.ya.length; b < c; b++)this.ya[b] && ("divider" == this.ya[b].Lb && this.ya[b].Vj == a) && (this.ya.splice(b, 1), c--), this.ya[b] && ("divider" == this.ya[b].Lb && this.ya[b].Vj > a) && this.ya[b].Vj--; this.Ge.splice(a, 1) } }, Ld: v("C"), show: function () { this.Uh != o && (this.Uh = o) }, U: function () { this.Uh != q && (this.Uh = q) }, C_: function (a) { a && (this.k.cursor = a) }, getItem: function (a) { return this.Jf[a] } }); var ld = I.pa + "menu_zoom_in.png", md = I.pa + "menu_zoom_out.png"; function nd(a, b, c) { if (a && db(b)) { x.lang.Da.call(this); this.k = { width: 100, id: "", Tm: "" }; c = c || {}; this.k.width = 1 * c.width ? c.width : 100; this.k.id = c.id ? c.id : ""; this.k.Tm = c.iconUrl ? c.iconUrl : ""; this.Yg = a + ""; this.fA = b; this.D = p; this.Lb = "menuitem"; this.ss = this.Mv = this.C = this.Mh = p; this.Qh = o; var d = this; L.load("menu", function () { d.Ab() }) } } x.lang.ua(nd, x.lang.Da, "MenuItem"); x.object.extend(nd.prototype, { ra: function (a, b) { this.D = a; this.Mh = b }, remove: function () { this.D = this.Mh = p }, tu: function (a) { a && (this.Yg = a + "") }, Vb: function (a) { a && (this.k.Tm = a) }, Ld: v("C"), enable: function () { this.Qh = o }, disable: function () { this.Qh = q } }); function lb(a, b) { a && !b && (b = a); this.Je = this.Yd = this.Ne = this.$d = this.Zl = this.Il = p; a && (this.Zl = new Q(a.lng, a.lat), this.Il = new Q(b.lng, b.lat), this.Ne = a.lng, this.$d = a.lat, this.Je = b.lng, this.Yd = b.lat) } x.object.extend(lb.prototype, { Cj: function () { return !this.Zl || !this.Il }, ab: function (a) { return !(a instanceof lb) || this.Cj() ? q : this.xe().ab(a.xe()) && this.pf().ab(a.pf()) }, xe: v("Zl"), pf: v("Il"), tW: function (a) { return !(a instanceof lb) || this.Cj() || a.Cj() ? q : a.Ne > this.Ne && a.Je < this.Je && a.$d > this.$d && a.Yd < this.Yd }, pc: function () { return this.Cj() ? p : new Q((this.Ne + this.Je) / 2, (this.$d + this.Yd) / 2) }, Mt: function (a) { if (!(a instanceof lb) || Math.max(a.Ne, a.Je) < Math.min(this.Ne, this.Je) || Math.min(a.Ne, a.Je) > Math.max(this.Ne, this.Je) || Math.max(a.$d, a.Yd) < Math.min(this.$d, this.Yd) || Math.min(a.$d, a.Yd) > Math.max(this.$d, this.Yd)) return p; var b = Math.max(this.Ne, a.Ne), c = Math.min(this.Je, a.Je), d = Math.max(this.$d, a.$d), a = Math.min(this.Yd, a.Yd); return new lb(new Q(b, d), new Q(c, a)) }, mx: function (a) { return !(a instanceof Q || a instanceof K) || this.Cj() ? q : a.lng >= this.Ne && a.lng <= this.Je && a.lat >= this.$d && a.lat <= this.Yd }, extend: function (a) { if (a instanceof Q || a instanceof K) { var b = a.lng, a = a.lat; this.Zl || (this.Zl = new Q(0, 0)); this.Il || (this.Il = new Q(0, 0)); if (!this.Ne || this.Ne > b) this.Zl.lng = this.Ne = b; if (!this.Je || this.Je < b) this.Il.lng = this.Je = b; if (!this.$d || this.$d > a) this.Zl.lat = this.$d = a; if (!this.Yd || this.Yd < a) this.Il.lat = this.Yd = a } }, sG: function () { return this.Cj() ? new Q(0, 0) : new Q(Math.abs(this.Je - this.Ne), Math.abs(this.Yd - this.$d)) } }); function Q(a, b) { isNaN(a) && (a = Pb(a), a = isNaN(a) ? 0 : a); eb(a) && (a = parseFloat(a)); isNaN(b) && (b = Pb(b), b = isNaN(b) ? 0 : b); eb(b) && (b = parseFloat(b)); this.lng = a; this.lat = b } Q.UE = function (a) { return a && 180 >= a.lng && -180 <= a.lng && 74 >= a.lat && -74 <= a.lat }; Q.prototype.ab = function (a) { return a && this.lat == a.lat && this.lng == a.lng }; function K(a, b) { isNaN(a) && (a = Pb(a), a = isNaN(a) ? 0 : a); eb(a) && (a = parseFloat(a)); isNaN(b) && (b = Pb(b), b = isNaN(b) ? 0 : b); eb(b) && (b = parseFloat(b)); this.lng = a; this.lat = b; this.of = "inner" } K.UE = function (a) { return a && 180 >= a.lng && -180 <= a.lng && 74 >= a.lat && -74 <= a.lat }; K.prototype.ab = function (a) { return a && this.lat == a.lat && this.lng == a.lng }; function od() { } od.prototype.xy = function () { aa("lngLatToPoint\u65b9\u6cd5\u672a\u5b9e\u73b0") }; od.prototype.Fj = function () { aa("pointToLngLat\u65b9\u6cd5\u672a\u5b9e\u73b0") }; function pd() { }; var kb = { XK: function (a, b, c) { L.load("coordtransutils", function () { kb.MV(a, b, c) }, o) }, WK: function (a, b, c) { L.load("coordtransutils", function () { kb.LV(a, b, c) }, o) } }; function qd() { this.Pa = []; var a = this; L.load("convertor", function () { a.JQ() }) } x.ua(qd, x.lang.Da, "Convertor"); x.extend(qd.prototype, { translate: function (a, b, c, d) { this.Pa.push({ method: "translate", arguments: [a, b, c, d] }) } }); U(qd.prototype, { translate: qd.prototype.translate }); function T() { } T.prototype = new od; x.extend(T, { ZP: 6370996.81, aH: [1.289059486E7, 8362377.87, 5591021, 3481989.83, 1678043.12, 0], av: [75, 60, 45, 30, 15, 0], eQ: [[1.410526172116255E-8, 8.98305509648872E-6, -1.9939833816331, 200.9824383106796, -187.2403703815547, 91.6087516669843, -23.38765649603339, 2.57121317296198, -0.03801003308653, 1.73379812E7], [-7.435856389565537E-9, 8.983055097726239E-6, -0.78625201886289, 96.32687599759846, -1.85204757529826, -59.36935905485877, 47.40033549296737, -16.50741931063887, 2.28786674699375, 1.026014486E7], [-3.030883460898826E-8, 8.98305509983578E-6, 0.30071316287616, 59.74293618442277, 7.357984074871, -25.38371002664745, 13.45380521110908, -3.29883767235584, 0.32710905363475, 6856817.37], [-1.981981304930552E-8, 8.983055099779535E-6, 0.03278182852591, 40.31678527705744, 0.65659298677277, -4.44255534477492, 0.85341911805263, 0.12923347998204, -0.04625736007561, 4482777.06], [3.09191371068437E-9, 8.983055096812155E-6, 6.995724062E-5, 23.10934304144901, -2.3663490511E-4, -0.6321817810242, -0.00663494467273, 0.03430082397953, -0.00466043876332, 2555164.4], [2.890871144776878E-9, 8.983055095805407E-6, -3.068298E-8, 7.47137025468032, -3.53937994E-6, -0.02145144861037, -1.234426596E-5, 1.0322952773E-4, -3.23890364E-6, 826088.5]], YG: [[-0.0015702102444, 111320.7020616939, 1704480524535203, -10338987376042340, 26112667856603880, -35149669176653700, 26595700718403920, -10725012454188240, 1800819912950474, 82.5], [8.277824516172526E-4, 111320.7020463578, 6.477955746671607E8, -4.082003173641316E9, 1.077490566351142E10, -1.517187553151559E10, 1.205306533862167E10, -5.124939663577472E9, 9.133119359512032E8, 67.5], [0.00337398766765, 111320.7020202162, 4481351.045890365, -2.339375119931662E7, 7.968221547186455E7, -1.159649932797253E8, 9.723671115602145E7, -4.366194633752821E7, 8477230.501135234, 52.5], [0.00220636496208, 111320.7020209128, 51751.86112841131, 3796837.749470245, 992013.7397791013, -1221952.21711287, 1340652.697009075, -620943.6990984312, 144416.9293806241, 37.5], [-3.441963504368392E-4, 111320.7020576856, 278.2353980772752, 2485758.690035394, 6070.750963243378, 54821.18345352118, 9540.606633304236, -2710.55326746645, 1405.483844121726, 22.5], [-3.218135878613132E-4, 111320.7020701615, 0.00369383431289, 823725.6402795718, 0.46104986909093, 2351.343141331292, 1.58060784298199, 8.77738589078284, 0.37238884252424, 7.45]], t3: function (a, b) { if (!a || !b) return 0; var c, d, a = this.ub(a); if (!a) return 0; c = this.bl(a.lng); d = this.bl(a.lat); b = this.ub(b); return !b ? 0 : this.Ue(c, this.bl(b.lng), d, this.bl(b.lat)) }, pp: function (a, b) { if (!a || !b) return 0; a.lng = this.sE(a.lng, -180, 180); a.lat = this.wE(a.lat, -74, 74); b.lng = this.sE(b.lng, -180, 180); b.lat = this.wE(b.lat, -74, 74); return this.Ue(this.bl(a.lng), this.bl(b.lng), this.bl(a.lat), this.bl(b.lat)) }, ub: function (a) { if (a === p || a === k) return new K(0, 0); var b, c; b = new K(Math.abs(a.lng), Math.abs(a.lat)); for (var d = 0; d < this.aH.length; d++)if (b.lat >= this.aH[d]) { c = this.eQ[d]; break } a = this.YK(a, c); return a = new K(a.lng.toFixed(6), a.lat.toFixed(6)) }, tb: function (a) { if (a === p || a === k || 180 < a.lng || -180 > a.lng || 90 < a.lat || -90 > a.lat) return new K(0, 0); var b, c; a.lng = this.sE(a.lng, -180, 180); a.lat = this.wE(a.lat, -74, 74); b = new K(a.lng, a.lat); for (var d = 0; d < this.av.length; d++)if (b.lat >= this.av[d]) { c = this.YG[d]; break } if (!c) for (d = 0; d < this.av.length; d++)if (b.lat <= -this.av[d]) { c = this.YG[d]; break } a = this.YK(a, c); return a = new K(a.lng.toFixed(2), a.lat.toFixed(2)) }, YK: function (a, b) { if (a && b) { var c = b[0] + b[1] * Math.abs(a.lng), d = Math.abs(a.lat) / b[9], d = b[2] + b[3] * d + b[4] * d * d + b[5] * d * d * d + b[6] * d * d * d * d + b[7] * d * d * d * d * d + b[8] * d * d * d * d * d * d, c = c * (0 > a.lng ? -1 : 1), d = d * (0 > a.lat ? -1 : 1); return new K(c, d) } }, Ue: function (a, b, c, d) { return this.ZP * Math.acos(Math.sin(c) * Math.sin(d) + Math.cos(c) * Math.cos(d) * Math.cos(b - a)) }, bl: function (a) { return Math.PI * a / 180 }, s5: function (a) { return 180 * a / Math.PI }, wE: function (a, b, c) { b != p && (a = Math.max(a, b)); c != p && (a = Math.min(a, c)); return a }, sE: function (a, b, c) { for (; a > c;)a -= c - b; for (; a < b;)a += c - b; return a } }); x.extend(T.prototype, { Lk: function (a) { return T.tb(a) }, xy: function (a) { a = cb(a, this.map); a = T.tb(a); return new S(a.lng, a.lat) }, Dl: function (a) { a = T.tb(a); return new S(a.lng, a.lat) }, th: function (a) { return T.ub(a) }, Fj: function (a) { a = new K(a.x, a.y); return jb(T.ub(a), this.map) }, W1: function (a) { a = new K(a.x, a.y); return T.ub(a) }, Xp: function (a, b, c, d, e) { if (a) return a = this.Lk(a, e), b = this.yc(b), new S(Math.round((a.lng - c.lng) / b + d.width / 2), Math.round((c.lat - a.lat) / b + d.height / 2)) }, Bg: function (a, b, c, d, e) { if (a) return b = this.yc(b), this.th(new K(c.lng + b * (a.x - d.width / 2), c.lat - b * (a.y - d.height / 2)), e) }, yc: function (a) { return Math.pow(2, 18 - a) }, B_: da("map") }); function nb() { this.kj = "bj" } nb.prototype = new T; x.extend(nb.prototype, { Lk: function (a, b) { return this.tR(b, T.tb(a)) }, th: function (a, b) { return T.ub(this.uR(b, a)) }, lngLatToPointFor3D: function (a, b) { var c = this, d = T.tb(a); L.load("coordtrans", function () { var a = pd.uE(c.kj || "bj", d), a = new S(a.x, a.y); b && b(a) }, o) }, pointToLngLatFor3D: function (a, b) { var c = this, d = new K(a.x, a.y); L.load("coordtrans", function () { var a = pd.tE(c.kj || "bj", d), a = new K(a.lng, a.lat), a = T.ub(a); b && b(a) }, o) }, tR: function (a, b) { if (L.jb("coordtrans").Dd == L.Mj.Aq) { var c = pd.uE(a || "bj", b); return new K(c.x, c.y) } L.load("coordtrans", t()); return new K(0, 0) }, uR: function (a, b) { if (L.jb("coordtrans").Dd == L.Mj.Aq) { var c = pd.tE(a || "bj", b); return new K(c.lng, c.lat) } L.load("coordtrans", t()); return new K(0, 0) }, yc: function (a) { return Math.pow(2, 20 - a) }, cz: da("map") }); function rd() { this.Lb = "overlay" } x.lang.ua(rd, x.lang.Da, "Overlay"); rd.Qm = function (a) { a *= 1; return !a ? 0 : 1E5 * (90 - a) << 1 }; x.extend(rd.prototype, { Ie: function (a) { if (!this.V && db(this.initialize) && (this.V = this.initialize(a))) this.V.style.WebkitUserSelect = "none"; this.draw() }, initialize: function () { aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0") }, draw: function () { aa("draw\u65b9\u6cd5\u672a\u5b9e\u73b0") }, remove: function () { this.V && this.V.parentNode && this.V.parentNode.removeChild(this.V); this.V = p; this.dispatchEvent(new O("onremove")) }, U: function () { this.V && x.K.U(this.V) }, show: function () { this.V && x.K.show(this.V) }, vg: function () { return !this.V || "none" == this.V.style.display || "hidden" == this.V.style.visibility ? q : o } }); B.Xe(function (a) { function b(a, b) { var c = H("div"), g = c.style; g.position = "absolute"; g.top = g.left = g.width = g.height = "0"; g.zIndex = b; a.appendChild(c); return c } var c = a.R; c.rd = a.rd = b(a.platform, 200); a.Zd.YD = b(c.rd, 800); a.Zd.mF = b(c.rd, 700); a.Zd.ML = b(c.rd, 600); a.Zd.eF = b(c.rd, 500); a.Zd.rN = b(c.rd, 400); a.Zd.sN = b(c.rd, 300); a.Zd.CP = b(c.rd, 201); a.Zd.Vt = b(c.rd, 200) }); function mb() { x.lang.Da.call(this); rd.call(this); this.map = p; this.Oa = o; this.Bb = p; this.OH = 0 } x.lang.ua(mb, rd, "OverlayInternal"); x.extend(mb.prototype, { initialize: function (a) { this.map = a; x.lang.Da.call(this, this.ba); return p }, Tx: v("map"), draw: t(), Pj: t(), remove: function () { this.map = p; x.lang.yx(this.ba); rd.prototype.remove.call(this) }, U: function () { this.Oa !== q && (this.Oa = q) }, show: function () { this.Oa !== o && (this.Oa = o) }, vg: function () { return !this.V ? q : !!this.Oa }, Ga: v("V"), zO: function (a) { var a = a || {}, b; for (b in a) this.z[b] = a[b] }, uu: da("zIndex"), sj: function () { this.z.sj = o }, WW: function () { this.z.sj = q }, Oo: da("ig"), Zp: function () { this.ig = p } }); function vd() { this.map = p; this.wa = {}; this.Fe = [] } B.Xe(function (a) { var b = new vd; b.map = a; a.wa = b.wa; a.Fe = b.Fe; a.addEventListener("load", function (a) { b.draw(a) }); a.addEventListener("moveend", function (a) { b.draw(a) }); x.ca.ma && 8 > x.ca.ma || "BackCompat" === document.compatMode ? a.addEventListener("zoomend", function (a) { setTimeout(function () { b.draw(a) }, 20) }) : a.addEventListener("zoomend", function (a) { b.draw(a) }); a.addEventListener("maptypechange", function (a) { b.draw(a) }); a.addEventListener("addoverlay", function (a) { a = a.target; if (a instanceof mb) b.wa[a.ba] || (b.wa[a.ba] = a); else { for (var d = q, e = 0, f = b.Fe.length; e < f; e++)if (b.Fe[e] === a) { d = o; break } d || b.Fe.push(a) } }); a.addEventListener("removeoverlay", function (a) { a = a.target; if (a instanceof mb) delete b.wa[a.ba]; else for (var d = 0, e = b.Fe.length; d < e; d++)if (b.Fe[d] === a) { b.Fe.splice(d, 1); break } }); a.addEventListener("clearoverlays", function () { this.Wc(); for (var a in b.wa) b.wa[a].z.sj && (b.wa[a].remove(), delete b.wa[a]); a = 0; for (var d = b.Fe.length; a < d; a++)b.Fe[a].enableMassClear !== q && (b.Fe[a].remove(), b.Fe[a] = p, b.Fe.splice(a, 1), a--, d--) }); a.addEventListener("infowindowopen", function () { var a = this.Bb; a && (x.K.U(a.zc), x.K.U(a.ac)) }); a.addEventListener("movestart", function () { this.mh() && this.mh().GJ() }); a.addEventListener("moveend", function () { this.mh() && this.mh().wJ() }) }); vd.prototype.draw = function (a) { if (B.Eq) { var b = B.Eq.ot(this.map); "canvas" === b.Lb && b.canvas && b.oR(b.canvas.getContext("2d")) } for (var c in this.wa) this.wa[c].draw(a); x.kc.Fb(this.Fe, function (a) { a.draw() }); this.map.R.ob && this.map.R.ob.ta(); B.Eq && b.bG() }; function wd(a) { mb.call(this); a = a || {}; this.z = { strokeColor: a.strokeColor || "#3a6bdb", mc: a.strokeWeight || 5, td: a.strokeOpacity || 0.65, strokeStyle: a.strokeStyle || "solid", sj: a.enableMassClear === q ? q : o, Fk: p, Jm: p, mf: a.enableEditing === o ? o : q, AN: 5, J0: q, jf: a.enableClicking === q ? q : o, ui: a.icons && 0 < a.icons.length ? a.icons : p }; 0 >= this.z.mc && (this.z.mc = 5); if (0 > this.z.td || 1 < this.z.td) this.z.td = 0.65; if (0 > this.z.sg || 1 < this.z.sg) this.z.sg = 0.65; "solid" != this.z.strokeStyle && "dashed" != this.z.strokeStyle && (this.z.strokeStyle = "solid"); this.V = p; this.lv = new lb(0, 0); this.gf = []; this.nc = []; this.Qa = {} } x.lang.ua(wd, mb, "Graph"); wd.Ox = function (a) { var b = []; if (!a) return b; eb(a) && x.kc.Fb(a.split(";"), function (a) { a = a.split(","); b.push(new Q(a[0], a[1])) }); "[object Array]" == Object.prototype.toString.apply(a) && 0 < a.length && (b = a); return b }; wd.xF = [0.09, 0.0050, 1.0E-4, 1.0E-5]; x.extend(wd.prototype, { initialize: function (a) { this.map = a; return p }, draw: t(), js: function (a) { this.gf.length = 0; this.ha = wd.Ox(a).slice(0); this.Jh() }, me: function (a) { this.js(a) }, Jh: function () { if (this.ha) { var a = this; a.lv = new lb; x.kc.Fb(this.ha, function (b) { a.lv.extend(b) }) } }, ve: v("ha"), zn: function (a, b) { b && this.ha[a] && (this.gf.length = 0, this.ha[a] = new K(b.lng, b.lat), this.Jh()) }, setStrokeColor: function (a) { this.z.strokeColor = a }, sY: function () { return this.z.strokeColor }, nq: function (a) { 0 < a && (this.z.mc = a) }, mM: function () { return this.z.mc }, lq: function (a) { a == k || (1 < a || 0 > a) || (this.z.td = a) }, tY: function () { return this.z.td }, nu: function (a) { 1 < a || 0 > a || (this.z.sg = a) }, QX: function () { return this.z.sg }, mq: function (a) { "solid" != a && "dashed" != a || (this.z.strokeStyle = a) }, lM: function () { return this.z.strokeStyle }, setFillColor: function (a) { this.z.fillColor = a || "" }, PX: function () { return this.z.fillColor }, Kd: v("lv"), remove: function () { this.map && this.map.removeEventListener("onmousemove", this.Jv); mb.prototype.remove.call(this); this.gf.length = 0 }, mf: function () { if (!(2 > this.ha.length)) { this.z.mf = o; var a = this; L.load("poly", function () { a.em() }, o) } }, VW: function () { this.z.mf = q; var a = this; L.load("poly", function () { a.uk() }, o) }, MX: function () { return this.z.mf } }); function xd(a) { mb.call(this); this.V = this.map = p; this.z = { width: 0, height: 0, Aa: new M(0, 0), opacity: 1, background: "transparent", wy: 1, eN: "#000", mZ: "solid", point: p }; this.zO(a); this.point = this.z.point } x.lang.ua(xd, mb, "Division"); x.extend(xd.prototype, { Pj: function () { var a = this.z, b = this.content, c = ['<div class="BMap_Division" style="position:absolute;']; c.push("width:" + a.width + "px;display:block;"); c.push("overflow:hidden;"); "none" != a.borderColor && c.push("border:" + a.wy + "px " + a.mZ + " " + a.eN + ";"); c.push("opacity:" + a.opacity + "; filter:(opacity=" + 100 * a.opacity + ")"); c.push("background:" + a.background + ";"); c.push('z-index:60;">'); c.push(b); c.push("</div>"); this.V = Gb(this.map.Rf().mF, c.join("")) }, initialize: function (a) { this.map = a; this.Pj(); this.V && x.M(this.V, J() ? "touchstart" : "mousedown", function (a) { na(a) }); return this.V }, draw: function () { var a = this.map.We(this.z.point); this.z.Aa = new M(-Math.round(this.z.width / 2) - Math.round(this.z.wy), -Math.round(this.z.height / 2) - Math.round(this.z.wy)); this.V.style.left = a.x + this.z.Aa.width + "px"; this.V.style.top = a.y + this.z.Aa.height + "px" }, ia: function () { return this.z.point }, P1: function () { return this.map.Cc(this.ia()) }, ta: function (a) { this.z.point = a; this.draw() }, D_: function (a, b) { this.z.width = Math.round(a); this.z.height = Math.round(b); this.V && (this.V.style.width = this.z.width + "px", this.V.style.height = this.z.height + "px", this.draw()) } }); function yd(a, b, c) { a && b && (this.imageUrl = a, this.size = b, a = new M(Math.floor(b.width / 2), Math.floor(b.height / 2)), c = c || {}, a = c.anchor || a, b = c.imageOffset || new M(0, 0), this.imageSize = c.imageSize, this.anchor = a, this.imageOffset = b, this.infoWindowAnchor = c.infoWindowAnchor || this.anchor, this.printImageUrl = c.printImageUrl || "") } x.extend(yd.prototype, { AO: function (a) { a && (this.imageUrl = a) }, T_: function (a) { a && (this.printImageUrl = a) }, Ce: function (a) { a && (this.size = new M(a.width, a.height)) }, qc: function (a) { a && (this.anchor = new M(a.width, a.height)) }, ou: function (a) { a && (this.imageOffset = new M(a.width, a.height)) }, J_: function (a) { a && (this.infoWindowAnchor = new M(a.width, a.height)) }, G_: function (a) { a && (this.imageSize = new M(a.width, a.height)) }, toString: ea("Icon") }); function zd(a, b) { if (a) { b = b || {}; this.style = { anchor: b.anchor || new M(0, 0), fillColor: b.fillColor || "#000", sg: b.fillOpacity || 0, scale: b.scale || 1, rotation: b.rotation || 0, strokeColor: b.strokeColor || "#000", td: b.strokeOpacity || 1, mc: b.strokeWeight }; this.Lb = "number" === typeof a ? a : "UserDefined"; this.Pi = this.style.anchor; this.Qr = new M(0, 0); this.anchor = p; this.PB = a; var c = this; L.load("symbol", function () { c.$n() }, o) } } x.extend(zd.prototype, { setPath: da("PB"), setAnchor: function (a) { this.Pi = this.style.anchor = a }, setRotation: function (a) { this.style.rotation = a }, setScale: function (a) { this.style.scale = a }, setStrokeWeight: function (a) { this.style.mc = a }, setStrokeColor: function (a) { a = x.Fs.VC(a, this.style.td); this.style.strokeColor = a }, setStrokeOpacity: function (a) { this.style.td = a }, setFillOpacity: function (a) { this.style.sg = a }, setFillColor: function (a) { this.style.fillColor = a } }); function Ad(a, b, c, d) { a && (this.cw = {}, this.KL = d ? !!d : q, this.jd = [], this.j0 = a instanceof zd ? a : p, this.pJ = b === k ? o : !!(b.indexOf("%") + 1), this.hk = isNaN(parseFloat(b)) ? 1 : this.pJ ? parseFloat(b) / 100 : parseFloat(b), this.qJ = !!(c.indexOf("%") + 1), this.repeat = c != k ? this.qJ ? parseFloat(c) / 100 : parseFloat(c) : 0) }; function Bd(a, b) { x.lang.Da.call(this); this.content = a; this.map = p; b = b || {}; this.z = { width: b.width || 0, height: b.height || 0, maxWidth: b.maxWidth || 730, Aa: b.offset || new M(0, 0), title: b.title || "", nF: b.maxContent || "", gh: b.enableMaximize || q, ct: b.enableAutoPan === q ? q : o, KD: b.enableCloseOnClick === q ? q : o, margin: b.margin || [10, 10, 40, 10], QC: b.collisions || [[10, 10], [10, 10], [10, 10], [10, 10]], NY: q, HZ: b.onClosing || ea(o), BL: q, PD: b.enableParano === o ? o : q, message: b.message, RD: b.enableSearchTool === o ? o : q, fy: b.headerContent || "", LD: b.enableContentScroll || q }; if (0 != this.z.width && (220 > this.z.width && (this.z.width = 220), 730 < this.z.width)) this.z.width = 730; if (0 != this.z.height && (60 > this.z.height && (this.z.height = 60), 650 < this.z.height)) this.z.height = 650; if (0 != this.z.maxWidth && (220 > this.z.maxWidth && (this.z.maxWidth = 220), 730 < this.z.maxWidth)) this.z.maxWidth = 730; this.ge = q; this.Li = I.pa; this.cb = p; Va(Wa(2, 10), ["overlay", "infowindow"]); var c = this; L.load("infowindow", function () { c.Ab() }) } x.lang.ua(Bd, x.lang.Da, "InfoWindow"); x.extend(Bd.prototype, { setWidth: function (a) { !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (220 > a && (a = 220), 730 < a && (a = 730)), this.z.width = a) }, setHeight: function (a) { !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (60 > a && (a = 60), 650 < a && (a = 650)), this.z.height = a) }, DO: function (a) { !a && 0 != a || (isNaN(a) || 0 > a) || (0 != a && (220 > a && (a = 220), 730 < a && (a = 730)), this.z.maxWidth = a) }, Dc: function (a) { this.z.title = a }, getTitle: function () { return this.z.title }, ad: da("content"), Dk: v("content"), qu: function (a) { this.z.nF = a + "" }, le: t(), ct: function () { this.z.ct = o }, disableAutoPan: function () { this.z.ct = q }, enableCloseOnClick: function () { this.z.KD = o }, disableCloseOnClick: function () { this.z.KD = q }, gh: function () { this.z.gh = o }, Bx: function () { this.z.gh = q }, show: function () { this.Oa = o }, U: function () { this.Oa = q }, close: function () { this.U() }, By: function () { this.ge = o }, restore: function () { this.ge = q }, vg: function () { return this.Va() }, Va: ea(q), ia: function () { if (this.cb && this.cb.ia) return this.cb.ia() }, Qf: function () { return this.z.Aa } }); Na.prototype.Mb = function (a, b) { if (a instanceof Bd && (b instanceof Q || b instanceof K)) { var c = this.R; c.$m ? c.$m.ta(b) : (c.$m = new W(b, { icon: new yd(I.pa + "blank.gif", { width: 1, height: 1 }), offset: new M(0, 0), clickable: q }), c.$m.qS = 1); this.Ka(c.$m); c.$m.Mb(a) } }; Na.prototype.Wc = function () { var a = this.R.ob || this.R.yl; a && a.cb && a.cb.Wc() }; mb.prototype.Mb = function (a) { this.map && (this.map.Wc(), a.Oa = o, this.map.R.yl = a, a.cb = this, x.lang.Da.call(a, a.ba)) }; mb.prototype.Wc = function () { this.map && this.map.R.yl && (this.map.R.yl.Oa = q, x.lang.yx(this.map.R.yl.ba), this.map.R.yl = p) }; function Cd(a, b) { mb.call(this); this.content = a; this.V = this.map = p; b = b || {}; this.z = { width: 0, Aa: b.offset || new M(0, 0), qq: { backgroundColor: "#fff", border: "1px solid #f00", padding: "1px", whiteSpace: "nowrap", font: "12px " + I.fontFamily, zIndex: "80", MozUserSelect: "none" }, position: b.position || p, sj: b.enableMassClear === q ? q : o, jf: o }; 0 > this.z.width && (this.z.width = 0); Mb(b.enableClicking) && (this.z.jf = b.enableClicking); this.point = this.z.position; Va(Wa(2, 6), ["overlay", "dom_lable"]); var c = this; L.load("marker", function () { c.Ab() }) } x.lang.ua(Cd, mb, "Label"); x.extend(Cd.prototype, { ia: function () { return this.Sv ? this.Sv.ia() : this.point }, ta: function (a) { if ((a instanceof Q || a instanceof K) && !this.Ux()) this.point = this.z.position = new K(a.lng, a.lat) }, ad: da("content"), aG: function (a) { 0 <= a && 1 >= a && (this.z.opacity = a) }, Ye: function (a) { a instanceof M && (this.z.Aa = new M(a.width, a.height)) }, Qf: function () { return this.z.Aa }, bd: function (a) { a = a || {}; this.z.qq = x.extend(this.z.qq, a) }, Ei: function (a) { return this.bd(a) }, Dc: function (a) { this.z.title = a || "" }, getTitle: function () { return this.z.title }, CO: function (a) { this.point = (this.Sv = a) ? this.z.position = a.ia() : this.z.position = p }, Ux: function () { return this.Sv || p }, Dk: v("content") }); function Dd(a, b) { if (0 !== arguments.length) { mb.apply(this, arguments); b = b || {}; this.z = { $a: a, opacity: b.opacity || 1, Fp: b.imageURL || "", Ts: b.displayOnMinLevel || 1, sj: b.enableMassClear === q ? q : o, Ss: b.displayOnMaxLevel || 19, d0: b.stretch || q }; 0 === b.opacity && (this.z.opacity = 0); Va(Wa(2, 8), ["overlay", "ground_box"]); var c = this; L.load("groundoverlay", function () { c.Ab() }) } } x.lang.ua(Dd, mb, "GroundOverlay"); x.extend(Dd.prototype, { setBounds: function (a) { this.z.$a = a }, getBounds: function () { return this.z.$a }, setOpacity: function (a) { this.z.opacity = a }, getOpacity: function () { return this.z.opacity }, setImageURL: function (a) { this.z.Fp = a }, getImageURL: function () { return this.z.Fp }, setDisplayOnMinLevel: function (a) { this.z.Ts = a }, getDisplayOnMinLevel: function () { return this.z.Ts }, setDisplayOnMaxLevel: function (a) { this.z.Ss = a }, getDisplayOnMaxLevel: function () { return this.z.Ss } }); var Ed = 3, Fd = 4; function Gd() { var a = document.createElement("canvas"); return !(!a.getContext || !a.getContext("2d")) } function Hd(a, b) { var c = this; Gd() && (a === k && aa(Error("\u6ca1\u6709\u4f20\u5165points\u6570\u636e")), "[object Array]" !== Object.prototype.toString.call(a) && aa(Error("points\u6570\u636e\u4e0d\u662f\u6570\u7ec4")), b = b || {}, mb.apply(c, arguments), c.ea = { ha: a }, c.z = { shape: b.shape || Ed, size: b.size || Fd, color: b.color || "#fa937e", sj: o }, this.MB = [], this.qe = [], L.load("pointcollection", function () { for (var a = 0, b; b = c.MB[a]; a++)c[b.method].apply(c, b.arguments); for (a = 0; b = c.qe[a]; a++)c[b.method].apply(c, b.arguments) })) } x.lang.ua(Hd, mb, "PointCollection"); x.extend(Hd.prototype, { initialize: function (a) { this.MB && this.MB.push({ method: "initialize", arguments: arguments }) }, setPoints: function (a) { this.qe && this.qe.push({ method: "setPoints", arguments: arguments }) }, setStyles: function (a) { this.qe && this.qe.push({ method: "setStyles", arguments: arguments }) }, clear: function () { this.qe && this.qe.push({ method: "clear", arguments: arguments }) }, remove: function () { this.qe && this.qe.push({ method: "remove", arguments: arguments }) } }); var Id = new yd(I.pa + "marker_red_sprite.png", new M(19, 25), { anchor: new M(10, 25), infoWindowAnchor: new M(10, 0) }), Jd = new yd(I.pa + "marker_red_sprite.png", new M(20, 11), { anchor: new M(6, 11), imageOffset: new M(-19, -13) }); function W(a, b) { mb.call(this); b = b || {}; this.point = a; this.Tq = this.map = p; this.z = { Aa: b.offset || new M(0, 0), zj: b.icon || Id, Wk: Jd, title: b.title || "", label: p, FK: b.baseZIndex || 0, jf: o, Q5: q, $E: q, sj: b.enableMassClear === q ? q : o, Gb: q, jO: b.raiseOnDrag === o ? o : q, qO: q, Id: b.draggingCursor || I.Id, rotation: b.rotation || 0 }; b.icon && !b.shadow && (this.z.Wk = p); b.enableDragging && (this.z.Gb = b.enableDragging); Mb(b.enableClicking) && (this.z.jf = b.enableClicking); Va(Wa(2, 1), ["overlay", "marker"]); var c = this; L.load("marker", function () { c.Ab() }) } W.gv = rd.Qm(-90) + 1E6; W.UG = W.gv + 1E6; x.lang.ua(W, mb, "Marker"); x.extend(W.prototype, { Vb: function (a) { if (a instanceof yd || a instanceof zd) this.z.zj = a }, qp: function () { return this.z.zj }, hz: function (a) { a instanceof yd && (this.z.Wk = a) }, getShadow: function () { return this.z.Wk }, xn: function (a) { this.z.label = a || p }, qE: function () { return this.z.label }, Gb: function () { this.z.Gb = o }, nD: function () { this.z.Gb = q }, no: v("point"), ia: function () { return this.point instanceof Q || this.point instanceof K ? this.map ? jb(this.point, this.map) : new Q(this.point.lng, this.point.lat) : this.point }, ta: function (a) { this.point = this.map ? cb(a, this.map) : a }, Fi: function (a, b) { this.z.$E = !!a; a && (this.pH = b || 0) }, Dc: function (a) { this.z.title = a + "" }, getTitle: function () { return this.z.title }, Ye: function (a) { a instanceof M && (this.z.Aa = a) }, Qf: function () { return this.z.Aa }, wn: da("Tq"), ez: function (a) { this.z.rotation = a }, jM: function () { return this.z.rotation } }); function Kd(a, b) { wd.call(this, b); b = b || {}; this.z.sg = b.fillOpacity ? b.fillOpacity : 0.65; this.z.fillColor = "" == b.fillColor ? "" : b.fillColor ? b.fillColor : "#fff"; this.me(a); Va(Wa(2, 4), ["overlay", "polygon"]); var c = this; L.load("poly", function () { c.Ab() }) } x.lang.ua(Kd, wd, "Polygon"); x.extend(Kd.prototype, { me: function (a, b) { this.Ko = wd.Ox(a).slice(0); var c = wd.Ox(a).slice(0); 1 < c.length && c.push(new Q(c[0].lng, c[0].lat)); wd.prototype.me.call(this, c, b) }, zn: function (a, b) { this.Ko[a] && (this.Ko[a] = new Q(b.lng, b.lat), this.ha[a] = new Q(b.lng, b.lat), 0 == a && !this.ha[0].ab(this.ha[this.ha.length - 1]) && (this.ha[this.ha.length - 1] = new Q(b.lng, b.lat)), this.Jh()) }, ve: function () { var a = this.Ko; 0 == a.length && (a = this.ha); return a } }); function Ld(a, b) { wd.call(this, b); this.js(a); Va(Wa(2, 3), ["overlay", "polyline"]); var c = this; L.load("poly", function () { c.Ab() }) } x.lang.ua(Ld, wd, "Polyline"); function Md(a, b, c) { this.point = a; this.xa = Math.abs(b); Kd.call(this, [], c) } Md.xF = [0.01, 1.0E-4, 1.0E-5, 4.0E-6]; x.lang.ua(Md, Kd, "Circle"); x.extend(Md.prototype, { initialize: function (a) { this.map = a; this.ha = this.Fv(this.point, this.xa); this.Jh(); return p }, pc: function () { return jb(this.point, this.map) }, wc: v("point"), Xf: function (a) { a && (this.point = a) }, hM: v("xa"), wf: function (a) { this.xa = Math.abs(a) }, Fv: function (a, b) { if (!a || !b || !this.map) return []; for (var c = [], d = b / 6378800, e = Math.PI / 180 * a.lat, f = Math.PI / 180 * a.lng, g = 0; 360 > g; g += 9) { var i = Math.PI / 180 * g, j = Math.asin(Math.sin(e) * Math.cos(d) + Math.cos(e) * Math.sin(d) * Math.cos(i)), i = new Q(((f - Math.atan2(Math.sin(i) * Math.sin(d) * Math.cos(e), Math.cos(d) - Math.sin(e) * Math.sin(j)) + Math.PI) % (2 * Math.PI) - Math.PI) * (180 / Math.PI), j * (180 / Math.PI)); c.push(i) } d = c[0]; c.push(new Q(d.lng, d.lat)); return c } }); var Nd = {}; function Od(a) { this.map = a; this.Zm = []; this.Yf = []; this.Ig = []; this.ZV = 300; this.HF = 0; this.yg = {}; this.jj = {}; this.vh = 0; this.TE = o; this.fL = {}; this.uo = this.co(1); this.nd = this.co(2); this.Jl = this.co(3); a.platform.appendChild(this.uo); a.platform.appendChild(this.nd); a.platform.appendChild(this.Jl); var b = 256 * Math.pow(2, 15), c = 3 * b, a = T.tb(new K(180, 0)).lng, c = c - a, b = -3 * b, d = T.tb(new K(-180, 0)).lng; this.uB = a; this.UI = d; this.rB = c + (d - b); this.VI = a - d } B.Xe(function (a) { var b = new Od(a); b.ra(); a.fb = b }); x.extend(Od.prototype, { ra: function () { var a = this, b = a.map; b.addEventListener("loadcode", function () { a.yy() }); b.addEventListener("addtilelayer", function (b) { a.ah(b) }); b.addEventListener("removetilelayer", function (b) { a.Bh(b) }); b.addEventListener("setmaptype", function (b) { a.Gg(b) }); b.addEventListener("zoomstartcode", function (b) { a.Kc(b) }); b.addEventListener("setcustomstyles", function (b) { a.pu(b.target); a.Vf(o) }) }, yy: function () { var a = this; if (x.ca.ma) try { document.execCommand("BackgroundImageCache", q, o) } catch (b) { } this.loaded || a.ly(); a.Vf(); this.loaded || (this.loaded = o, L.load("tile", function () { a.KQ() })) }, ly: function () { for (var a = this.map.oa().Lr, b = 0; b < a.length; b++) { var c = new Pd; x.extend(c, a[b]); this.Zm.push(c); c.ra(this.map, this.uo) } this.pu() }, co: function (a) { var b = H("div"); b.style.position = "absolute"; b.style.overflow = "visible"; b.style.left = b.style.top = "0"; b.style.zIndex = a; return b }, zf: function () { this.vh--; var a = this; this.TE && (this.map.dispatchEvent(new O("onfirsttileloaded")), this.TE = q); 0 == this.vh && (this.Ti && (clearTimeout(this.Ti), this.Ti = p), this.Ti = setTimeout(function () { if (a.vh == 0) { a.map.dispatchEvent(new O("ontilesloaded")); a.TE = o } a.Ti = p }, 80)) }, BE: function (a, b) { return "TILE-" + b.ba + "-" + a[0] + "-" + a[1] + "-" + a[2] }, iy: function (a) { var b = a.Hb; b && Fb(b) && b.parentNode.removeChild(b); delete this.yg[a.name]; a.loaded || (Qd(a), a.Hb = p, a.Dj = p) }, Pm: function (a, b, c) { var d = this.map, e = d.oa(), f = d.Na, g = d.dc, i = e.yc(f), j = this.XL(), l = j[0], m = j[1], n = j[2], s = j[3], u = j[4], c = "undefined" != typeof c ? c : 0, e = e.k.Ob, j = d.ba.replace(/^TANGRAM_/, ""); for (this.Rc ? this.Rc.length = 0 : this.Rc = []; l < n; l++)for (var w = m; w < s; w++) { var y = l, D = w; this.Rc.push([y, D]); y = j + "_" + b + "_" + y + "_" + D + "_" + f; this.fL[y] = y } this.Rc.sort(function (a) { return function (b, c) { return 0.4 * Math.abs(b[0] - a[0]) + 0.6 * Math.abs(b[1] - a[1]) - (0.4 * Math.abs(c[0] - a[0]) + 0.6 * Math.abs(c[1] - a[1])) } }([u[0] - 1, u[1] - 1])); g = [Math.round(-g.lng / i), Math.round(g.lat / i)]; l = -d.offsetY + d.height / 2; a.style.left = -d.offsetX + d.width / 2 + "px"; a.style.top = l + "px"; this.Oe ? this.Oe.length = 0 : this.Oe = []; l = 0; for (d = a.childNodes.length; l < d; l++)w = a.childNodes[l], w.Hr = q, this.Oe.push(w); if (l = this.fn) for (var C in l) delete l[C]; else this.fn = {}; this.Pe ? this.Pe.length = 0 : this.Pe = []; l = 0; for (d = this.Rc.length; l < d; l++) { C = this.Rc[l][0]; i = this.Rc[l][1]; w = 0; for (m = this.Oe.length; w < m; w++)if (n = this.Oe[w], n.id == j + "_" + b + "_" + C + "_" + i + "_" + f) { n.Hr = o; this.fn[n.id] = n; break } } l = 0; for (d = this.Oe.length; l < d; l++)n = this.Oe[l], n.Hr || this.Pe.push(n); this.En = []; w = (e + c) * this.map.B.devicePixelRatio; l = 0; for (d = this.Rc.length; l < d; l++)C = this.Rc[l][0], i = this.Rc[l][1], s = C * e + g[0] - c / 2, u = (-1 - i) * e + g[1] - c / 2, y = j + "_" + b + "_" + C + "_" + i + "_" + f, m = this.fn[y], n = p, m ? (n = m.style, n.left = s + "px", n.top = u + "px", m.af || this.En.push([C, i, m])) : (0 < this.Pe.length ? (m = this.Pe.shift(), m.getContext("2d").clearRect(-c / 2, -c / 2, w, w), n = m.style) : (m = document.createElement("canvas"), n = m.style, n.position = "absolute", n.width = e + c + "px", n.height = e + c + "px", this.qy() && (n.WebkitTransform = "scale(1.001)"), m.setAttribute("width", w), m.setAttribute("height", w), a.appendChild(m)), m.id = y, n.left = s + "px", n.top = u + "px", -1 < y.indexOf("bg") && (s = "#F3F1EC", this.map.B.Uo && (s = this.map.B.Uo), n.background = s ? s : ""), this.En.push([C, i, m])), m.style.visibility = ""; l = 0; for (d = this.Pe.length; l < d; l++)this.Pe[l].style.visibility = "hidden"; return this.En }, qy: function () { return /M040/i.test(navigator.userAgent) }, XL: function () { var a = this.map, b = a.oa(), c = b.GE(a.Na), d = a.dc, e = Math.ceil(d.lng / c), f = Math.ceil(d.lat / c), b = b.k.Ob, c = [e, f, (d.lng - e * c) / c * b, (d.lat - f * c) / c * b]; return [c[0] - Math.ceil((a.width / 2 - c[2]) / b), c[1] - Math.ceil((a.height / 2 - c[3]) / b), c[0] + Math.ceil((a.width / 2 + c[2]) / b), c[1] + Math.ceil((a.height / 2 + c[3]) / b), c] }, Z_: function (a, b, c, d) { var e = this; e.z2 = b; var f = this.map.oa(), g = e.BE(a, c), i = f.k.Ob, b = [a[0] * i + b[0], (-1 - a[1]) * i + b[1]], j = this.yg[g]; if (this.map.oa() !== Xa && this.map.oa() !== Ta) { var l = this.Ds(a[0], a[2]).offsetX; b[0] += l; b.T1 = l } j && j.Hb ? (Cb(j.Hb, b), d && (d = new S(a[0], a[1]), f = this.map.B.ze ? this.map.B.ze.style : "normal", d = c.getTilesUrl(d, a[2], f), j.loaded = q, Rd(j, d)), j.loaded ? this.zf() : Sd(j, function () { e.zf() })) : (j = this.jj[g]) && j.Hb ? (c.Pb.insertBefore(j.Hb, c.Pb.lastChild), this.yg[g] = j, Cb(j.Hb, b), d && (d = new S(a[0], a[1]), f = this.map.B.ze ? this.map.B.ze.style : "normal", d = c.getTilesUrl(d, a[2], f), j.loaded = q, Rd(j, d)), j.loaded ? this.zf() : Sd(j, function () { e.zf() })) : (j = i * Math.pow(2, f.Hm() - a[2]), new K(a[0] * j, a[1] * j), d = new S(a[0], a[1]), f = this.map.B.ze ? this.map.B.ze.style : "normal", d = c.getTilesUrl(d, a[2], f), j = new Td(this, d, b, a, c), Sd(j, function () { e.zf() }), j.to(), this.yg[g] = j) }, zf: function () { this.vh--; var a = this; 0 == this.vh && (this.Ti && (clearTimeout(this.Ti), this.Ti = p), this.Ti = setTimeout(function () { if (a.vh == 0) { a.map.dispatchEvent(new O("ontilesloaded")); if (wa) { if (ta && ua && va) { var b = fb(), c = a.map.vb(); setTimeout(function () { Sa(5030, { load_script_time: ua - ta, load_tiles_time: b - va, map_width: c.width, map_height: c.height, map_size: c.width * c.height }) }, 1E4); B.Tn("cus.fire", "time", { z_imgfirstloaded: b - va }) } wa = q } } a.Ti = p }, 80)) }, BE: function (a, b) { return this.map.oa() === Ra ? "TILE-" + b.ba + "-" + this.map.hx + "-" + a[0] + "-" + a[1] + "-" + a[2] : "TILE-" + b.ba + "-" + a[0] + "-" + a[1] + "-" + a[2] }, iy: function (a) { var b = a.Hb; b && (Ud(b), Fb(b) && b.parentNode.removeChild(b)); delete this.yg[a.name]; a.loaded || (Ud(b), Qd(a), a.Hb = p, a.Dj = p) }, Ds: function (a, b) { for (var c = 0, d = 6 * Math.pow(2, b - 3), e = d / 2 - 1, f = -d / 2; a > e;)a -= d, c -= this.rB; for (; a < f;)a += d, c += this.rB; c = Math.round(c / Math.pow(2, 18 - b)); return { offsetX: c, rm: a } }, aW: function (a) { for (var b = a.lng; b > this.uB;)b -= this.VI; for (; b < this.UI;)b += this.VI; a.lng = b; return a }, bW: function (a, b) { for (var c = 256 * Math.pow(2, 18 - b), d = Math.floor(this.uB / c), e = Math.floor(this.UI / c), c = Math.floor(this.rB / c), f = [], g = 0; g < a.length; g++) { var i = a[g], j = i[0], i = i[1]; if (j >= d) { var j = j + c, l = "id_" + j + "_" + i + "_" + b; a[l] || (a[l] = o, f.push([j, i])) } else j <= e && (j -= c, l = "id_" + j + "_" + i + "_" + b, a[l] || (a[l] = o, f.push([j, i]))) } for (g = 0; g < f.length; g++)a.push(f[g]); return a }, Vf: function (a) { var b = this; if (b.map.oa() == Ra) L.load("coordtrans", function () { b.map.Sb || (b.map.Sb = Ra.Ck(b.map.dh), b.map.hx = Ra.VL(b.map.Sb)); b.XI() }, o); else { if (a && a) for (var c in this.jj) delete this.jj[c]; b.XI(a) } }, XI: function (a) { var b = this.Zm.concat(this.Yf), c = b.length, d = this.map, e = d.oa(), f = d.dc; this.map.oa() !== Xa && this.map.oa() !== Ta && (f = this.aW(f)); for (var g = 0; g < c; g++) { var i = b[g]; if (i.fc && d.Na < i.fc) break; if (i.Yw) { var j = this.Pb = i.Pb; if (a) { var l = j; if (l && l.childNodes) for (var m = l.childNodes.length, n = m - 1; 0 <= n; n--)m = l.childNodes[n], l.removeChild(m), m = p } if (this.map.Wb()) { this.nd.style.display = "block"; j.style.display = "none"; this.map.dispatchEvent(new O("vectorchanged"), { isvector: o }); continue } else j.style.display = "block", this.nd.style.display = "none", this.map.dispatchEvent(new O("vectorchanged"), { isvector: q }) } if (!i.JI && !(i.Kp && !this.map.Wb() || i.TM && this.map.Wb())) { d = this.map; e = d.oa(); j = e.Lm(); m = d.Na; f = d.dc; e == Ra && f.ab(new K(0, 0)) && (f = d.dc = j.Lk(d.re, d.Sb)); var s = e.yc(m), j = e.GE(m), l = Math.ceil(f.lng / j), u = Math.ceil(f.lat / j), w = e.k.Ob, j = [l, u, (f.lng - l * j) / j * w, (f.lat - u * j) / j * w], u = 2 * d.width, n = j[0] - Math.ceil((u / 2 - j[2]) / w), l = j[1] - Math.ceil((d.height / 2 - j[3]) / w), u = j[0] + Math.ceil((u / 2 + j[2]) / w), y = 0; e === Ra && 15 == d.ga() && (y = 1); e = j[1] + Math.ceil((d.height / 2 + j[3]) / w) + y; this.AK = new K(f.lng, f.lat); var D = this.yg, w = -this.AK.lng / s, y = this.AK.lat / s, s = [Math.ceil(w), Math.ceil(y)], f = d.ga(), C; for (C in D) { var F = D[C], z = F.info; (z[2] != f || z[2] == f && (n > z[0] || u <= z[0] || l > z[1] || e <= z[1])) && this.iy(F) } D = -d.offsetX + d.width / 2; F = -d.offsetY + d.height / 2; i.Pb && (i.Pb.style.left = Math.ceil(w + D) - s[0] + "px", i.Pb.style.top = Math.ceil(y + F) - s[1] + "px", i.Pb.style.WebkitTransform = "translate3d(0,0,0)"); w = []; for (d.pC = []; n < u; n++)for (y = l; y < e; y++)w.push([n, y]), d.pC.push({ x: n, y: y }); this.map.oa() !== Xa && this.map.oa() !== Ta && (w = this.bW(w, m)); w.sort(function (a) { return function (b, c) { return 0.4 * Math.abs(b[0] - a[0]) + 0.6 * Math.abs(b[1] - a[1]) - (0.4 * Math.abs(c[0] - a[0]) + 0.6 * Math.abs(c[1] - a[1])) } }([j[0] - 1, j[1] - 1])); j = Math.ceil(this.uB / (256 * Math.pow(2, 18 - f))); m = w.length; this.vh += m; for (n = 0; n < m; n++) { if (i.MO === o && (l = this.Ds(w[n][0], f), l.rm > j - 1 || l.rm < -j)) continue; this.Z_([w[n][0], w[n][1], f], s, i, a) } } } }, ah: function (a) { var b = this, c = a.target, a = b.map.Wb(); if (c instanceof ib) a && !c.Vm && (c.ra(this.map, this.nd), c.Vm = o); else if (c.Hh && this.map.ah(c.Hh), c.Kp) { for (a = 0; a < b.Ig.length; a++)if (b.Ig[a] == c) return; L.load("vector", function () { c.ra(b.map, b.nd); b.Ig.push(c) }, o) } else { for (a = 0; a < b.Yf.length; a++)if (b.Yf[a] == c) return; c.ra(this.map, this.Jl); b.Yf.push(c) } }, Bh: function (a) { var a = a.target, b = this.map.Wb(); if (a instanceof ib) b && a.Vm && (a.remove(), a.Vm = q); else { a.Hh && this.map.Bh(a.Hh); if (a.Kp) for (var b = 0, c = this.Ig.length; b < c; b++)a == this.Ig[b] && this.Ig.splice(b, 1); else { b = 0; for (c = this.Yf.length; b < c; b++)a == this.Yf[b] && this.Yf.splice(b, 1) } a.remove() } }, Gg: function () { for (var a = this.Zm, b = 0, c = a.length; b < c; b++)a[b].remove(); delete this.Pb; this.Zm = []; this.jj = this.yg = {}; this.ly(); this.Vf() }, Kc: function () { var a = this; a.vd && x.K.U(a.vd); setTimeout(function () { a.Vf(); a.map.dispatchEvent(new O("onzoomend")) }, 10) }, C5: t(), pu: function (a) { var b = this.map.oa(); if (!this.map.Wb() && (a ? this.map.B.g0 = a : a = this.map.B.g0, a)) for (var c = p, c = "2" == B.xz ? [B.url.proto + B.url.domain.main_domain_cdn.other[0] + "/"] : [B.url.proto + B.url.domain.main_domain_cdn.baidu[0] + "/", B.url.proto + B.url.domain.main_domain_cdn.baidu[1] + "/", B.url.proto + B.url.domain.main_domain_cdn.baidu[2] + "/"], d = 0, e; e = this.Zm[d]; d++)if (e.MO == o) { b.k.Zb = 18; e.getTilesUrl = function (b, d) { var e = b.x, e = this.map.fb.Ds(e, d).rm, j = b.y, l = Yb("normal"), m = 1; this.map.jy() && (m = 2); l = "customimage/tile?qt=customimage&x=" + e + "&y=" + j + "&z=" + d + "&udt=" + l + "&scale=" + m + "&ak=" + qa; l = a.styleStr ? l + ("&styles=" + encodeURIComponent(a.styleStr)) : l + ("&customid=" + a.style); l = c[Math.abs(e + j) % c.length] + l; return l = Ic(l) }; break } } }); function Td(a, b, c, d, e) { this.Dj = a; this.position = c; this.qv = []; this.name = a.BE(d, e); this.info = d; this.bP = e; this.ZJ = e.St(); a = H("img"); Db(a); a.OL = q; this.bd(a); this.Hb = a; this.src = b; Vd && (this.Hb.style.opacity = 0); var f = this; document.createElement("canvas").getContext("2d"); this.Hb.onload = function () { B.oZ.wR(); Wd(f) }; this.Hb.onerror = function () { Qd(f); if (f.Dj) { var a = f.Dj.map.oa(); if (a.k.SD) { f.error = o; f.Hb.src = a.k.SD; f.Hb && !Fb(f.Hb) && e.Pb.appendChild(f.Hb) } } }; a = p } function Wd(a) { a.loaded = o; if (a.Dj) { var b = a.Dj, c = b.jj; c[a.name] || (b.HF++, c[a.name] = a); a.Hb && !Fb(a.Hb) && a.bP.Pb && (a.bP.Pb.appendChild(a.Hb), 6 >= x.ca.ma && (0 < x.ca.ma && a.ZJ) && (a.Hb.style.cssText += ';filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src="' + a.src + '",sizingMethod=scale);')); var d = b.HF - b.ZV, e; for (e in c) { if (0 >= d) break; if (!b.yg[e]) { c[e].Dj = p; var f = c[e].Hb; f && f.parentNode && (f.parentNode.removeChild(f), Ud(f)); f = p; c[e].Hb = p; delete c[e]; b.HF--; d-- } } Vd && new yb({ Hc: 20, duration: 200, va: function (b) { if (a.Hb && a.Hb.style) a.Hb.style.opacity = b * 1 }, finish: function () { a.Hb && a.Hb.style && delete a.Hb.style.opacity } }); Qd(a) } } Td.prototype.bd = function (a) { a = a.style; if (this.Dj) { var b = this.Dj.map.oa(); a.position = "absolute"; a.border = "none"; a.width = b.k.Ob + "px"; a.height = b.k.Ob + "px"; a.left = this.position[0] + "px"; a.top = this.position[1] + "px"; a.maxWidth = "none" } }; function Sd(a, b) { a.qv.push(b) } Td.prototype.to = function () { this.Hb.src = 0 < x.ca.ma && 6 >= x.ca.ma && this.ZJ ? I.pa + "blank.gif" : "" !== this.src && this.Hb.src == this.src ? this.src + "&t = " + Date.now() : this.src }; function Qd(a) { for (var b = 0; b < a.qv.length; b++)a.qv[b](); a.qv.length = 0 } function Ud(a) { if (a) { a.onload = a.onerror = p; var b = a.attributes, c, d, e; if (b) { d = b.length; for (c = 0; c < d; c += 1)e = b[c].name, "unknown" !== typeof a[e] && db(a[e]) && (a[e] = p) } if (b = a.children) { d = b.length; for (c = 0; c < d; c += 1)Ud(a.children[c]) } } } function Rd(a, b) { a.src = b; a.to() } var Vd = !x.ca.ma || 8 < x.ca.ma; function Pd(a) { this.wh = a || {}; this.vW = this.wh.copyright || p; this.F0 = this.wh.transparentPng || q; this.Yw = this.wh.baseLayer || q; this.zIndex = this.wh.zIndex || 0; this.ba = Pd.jT++ } Pd.jT = 0; x.lang.ua(Pd, x.lang.Da, "TileLayer"); x.extend(Pd.prototype, { ra: function (a, b) { this.Yw && (this.zIndex = -100); this.map = a; if (!this.Pb) { var c = H("div"), d = c.style; d.position = "absolute"; d.overflow = "visible"; d.zIndex = this.zIndex; d.left = Math.ceil(-a.offsetX + a.width / 2) + "px"; d.top = Math.ceil(-a.offsetY + a.height / 2) + "px"; b.appendChild(c); this.Pb = c } }, remove: function () { this.Pb && this.Pb.parentNode && (this.Pb.innerHTML = "", this.Pb.parentNode.removeChild(this.Pb)); delete this.Pb }, St: v("F0"), getTilesUrl: function (a, b) { if (this.map.oa() !== Xa && this.map.oa() !== Ta) var c = this.map.fb.Ds(a.x, b).rm; var d = ""; this.wh.tileUrlTemplate && (d = this.wh.tileUrlTemplate.replace(/\{X\}/, c), d = d.replace(/\{Y\}/, a.y), d = d.replace(/\{Z\}/, b)); return d }, Em: v("vW"), oa: function () { return this.xb || Oa } }); function Xd(a, b) { Nb(a) ? b = a || {} : (b = b || {}, b.databoxId = a); this.k = { gL: b.databoxId, ih: b.geotableId, mn: b.q || "", uz: b.tags || "", filter: b.filter || "", oz: b.sortby || "", e0: b.styleId || "", fm: b.ak || qa, Uw: b.age || 36E5, zIndex: 11, kZ: "VectorCloudLayer", Kk: b.hotspotName || "vector_md_" + (1E5 * Math.random()).toFixed(0), HV: "LBS\u4e91\u9ebb\u70b9\u5c42" }; this.Kp = o; Pd.call(this, this.k); this.QW = B.jc + "geosearch/detail/"; this.RW = B.jc + "geosearch/v2/detail/"; this.Dp = {} } x.ua(Xd, Pd, "VectorCloudLayer"); function Yd(a) { a = a || {}; this.k = x.extend(a, { zIndex: 1, kZ: "VectorTrafficLayer", HV: "\u77e2\u91cf\u8def\u51b5\u5c42" }); this.Kp = o; Pd.call(this, this.k); this.B0 = B.url.proto + B.url.domain.vector_traffic + "/gvd/?qt=lgvd&styles=pl&layers=tf"; this.Eb = { "0": [2, 1354709503, 2, 2, 0, [], 0, 0], 1: [2, 1354709503, 3, 2, 0, [], 0, 0], 10: [2, -231722753, 2, 2, 0, [], 0, 0], 11: [2, -231722753, 3, 2, 0, [], 0, 0], 12: [2, -231722753, 4, 2, 0, [], 0, 0], 13: [2, -231722753, 5, 2, 0, [], 0, 0], 14: [2, -231722753, 6, 2, 0, [], 0, 0], 15: [2, -1, 4, 0, 0, [], 0, 0], 16: [2, -1, 5.5, 0, 0, [], 0, 0], 17: [2, -1, 7, 0, 0, [], 0, 0], 18: [2, -1, 8.5, 0, 0, [], 0, 0], 19: [2, -1, 10, 0, 0, [], 0, 0], 2: [2, 1354709503, 4, 2, 0, [], 0, 0], 3: [2, 1354709503, 5, 2, 0, [], 0, 0], 4: [2, 1354709503, 6, 2, 0, [], 0, 0], 5: [2, -6350337, 2, 2, 0, [], 0, 0], 6: [2, -6350337, 3, 2, 0, [], 0, 0], 7: [2, -6350337, 4, 2, 0, [], 0, 0], 8: [2, -6350337, 5, 2, 0, [], 0, 0], 9: [2, -6350337, 6, 2, 0, [], 0, 0] } } x.ua(Yd, Pd, "VectorTrafficLayer"); function ib(a) { this.$V = [B.url.proto + B.url.domain.TILE_ONLINE_URLS[1] + "/gvd/?", B.url.proto + B.url.domain.TILE_ONLINE_URLS[2] + "/gvd/?", B.url.proto + B.url.domain.TILE_ONLINE_URLS[3] + "/gvd/?"]; this.k = { JL: q }; for (var b in a) this.k[b] = a[b]; this.ei = this.Nh = this.Xa = this.C = this.D = p; this.YM = 0; var c = this; L.load("vector", function () { c.Ee() }) } x.extend(ib.prototype, { ra: function (a, b) { this.D = a; this.C = b }, remove: function () { this.C = this.D = p } }); function Zd(a) { Pd.call(this, a); this.k = a || {}; this.TM = o; if (this.k.predictDate) { if (1 > this.k.predictDate.weekday || 7 < this.k.predictDate.weekday) this.k.predictDate = 1; if (0 > this.k.predictDate.hour || 23 < this.k.predictDate.hour) this.k.predictDate.hour = 0 } this.kV = B.url.proto + B.url.domain.traffic + "/traffic/" } Zd.prototype = new Pd; Zd.prototype.ra = function (a, b) { Pd.prototype.ra.call(this, a, b); this.D = a; Va(Wa(3, 3), ["layer", "traffic"]) }; Zd.prototype.St = ea(o); Zd.prototype.getTilesUrl = function (a, b) { var c = ""; this.k.predictDate ? c = "HistoryService?day=" + (this.k.predictDate.weekday - 1) + "&hour=" + this.k.predictDate.hour + "&t=" + (new Date).getTime() + "&" : (c = "TrafficTileService?time=" + (new Date).getTime() + "&", c += "label=web2D&v=016&"); var c = this.kV + c + "level=" + b + "&x=" + a.x + "&y=" + a.y, d = 1; this.D.jy() && (d = 2); return (c + "&scaler=" + d).replace(/-(\d+)/gi, "M$1") }; var $d = [B.url.proto + B.url.domain.TILES_YUN_HOST[0] + "/georender/gss", B.url.proto + B.url.domain.TILES_YUN_HOST[1] + "/georender/gss", B.url.proto + B.url.domain.TILES_YUN_HOST[2] + "/georender/gss", B.url.proto + B.url.domain.TILES_YUN_HOST[3] + "/georender/gss"], ae = B.url.proto + B.url.domain.main_domain_nocdn.baidu + "/style/poi/rangestyle", be = 100; function tb(a, b) { Pd.call(this); var c = this; this.TM = o; var d = q; try { document.createElement("canvas").getContext("2d"), d = o } catch (e) { d = q } d && (this.Hh = new Xd(a, b), this.Hh.pG = this); Nb(a) ? b = a || {} : (c.ho = a, b = b || {}); b.geotableId && (c.Bf = b.geotableId); b.databoxId && (c.ho = b.databoxId); d = B.jc + "geosearch"; c.oc = { eO: b.pointDensity || be, KY: d + "/detail/", LY: d + "/v2/detail/", Uw: b.age || 36E5, mn: b.q || "", o0: "png", Z3: [5, 5, 5, 5], jZ: { backgroundColor: "#FFFFD5", borderColor: "#808080" }, fm: b.ak || qa, uz: b.tags || "", filter: b.filter || "", oz: b.sortby || "", Kk: b.hotspotName || "tile_md_" + (1E5 * Math.random()).toFixed(0), yG: o }; L.load("clayer", function () { c.Td() }) } tb.prototype = new Pd; tb.prototype.ra = function (a, b) { Pd.prototype.ra.call(this, a, b); this.D = a }; tb.prototype.getTilesUrl = function (a, b) { var c = a.x, d = a.y, e = this.oc, c = $d[Math.abs(c + d) % $d.length] + "/image?grids=" + c + "_" + d + "_" + b + "&q=" + e.mn + "&tags=" + e.uz + "&filter=" + e.filter + "&sortby=" + e.oz + "&ak=" + this.oc.fm + "&age=" + e.Uw + "&page_size=" + e.eO + "&format=" + e.o0; e.yG || (e = (1E5 * Math.random()).toFixed(0), c += "&timeStamp=" + e); this.Bf ? c += "&geotable_id=" + this.Bf : this.ho && (c += "&databox_id=" + this.ho); return c }; tb.prototype.enableUseCache = function () { this.oc.yG = o }; tb.prototype.disableUseCache = function () { this.oc.yG = q }; tb.IU = /^point\(|\)$/ig; tb.JU = /\s+/; tb.LU = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; function ce(a, b, c) { this.ff = a; this.Lr = b instanceof Pd ? [b] : b.slice(0); c = c || {}; this.k = { p0: c.tips || "", fF: "", fc: c.minZoom || 4, Zb: c.maxZoom || 18, Y3: c.minZoom || 4, X3: c.maxZoom || 18, Ob: 256, nG: c.textColor || "black", SD: c.errorImageUrl || "", $a: new lb(new K(-21364736, -16023552), new K(23855104, 19431424)), Nd: c.projection || new T }; 1 <= this.Lr.length && (this.Lr[0].Yw = o); x.extend(this.k, c) } x.extend(ce.prototype, { getName: v("ff"), Ct: function () { return this.k.p0 }, D3: function () { return this.k.fF }, xY: function () { return this.Lr[0] }, R3: v("Lr"), yY: function () { return this.k.Ob }, rp: function () { return this.k.fc }, Hm: function () { return this.k.Zb }, setMaxZoom: function (a) { this.k.Zb = a }, Om: function () { return this.k.nG }, Lm: function () { return this.k.Nd }, u3: function () { return this.k.SD }, yY: function () { return this.k.Ob }, yc: function (a) { return Math.pow(2, 18 - a) }, GE: function (a) { return this.yc(a) * this.k.Ob }, cG: function (a) { this.Lm().B_(a) } }); var de = [B.url.proto + B.url.domain.TILE_BASE_URLS[0], B.url.proto + B.url.domain.TILE_BASE_URLS[1], B.url.proto + B.url.domain.TILE_BASE_URLS[2], B.url.proto + B.url.domain.TILE_BASE_URLS[3]], ee = [B.url.proto + B.url.domain.TILE_ONLINE_URLS[0] + "/tile/", B.url.proto + B.url.domain.TILE_ONLINE_URLS[1] + "/tile/", B.url.proto + B.url.domain.TILE_ONLINE_URLS[2] + "/tile/", B.url.proto + B.url.domain.TILE_ONLINE_URLS[3] + "/tile/"], fe = { dark: "dl", light: "ll", normal: "pl" }, ge = new Pd; ge.MO = o; ge.getTilesUrl = function (a, b, c) { var d = a.x, a = a.y, e = Yb("normal"), f = 1, c = fe[c]; this.map.jy() && (f = 2); d = this.map.fb.Ds(d, b).rm; return (ee[Math.abs(d + a) % ee.length] + "?qt=vtile&x=" + (d + "").replace(/-/gi, "M") + "&y=" + (a + "").replace(/-/gi, "M") + "&z=" + b + "&styles=" + c + "&scaler=" + f + (6 == x.ca.ma ? "&color_dep=32&colors=50" : "") + "&udt=" + e + "&from=jsapi2_0").replace(/-(\d+)/gi, "M$1") }; var Oa = new ce("\u5730\u56fe", ge, { tips: "\u663e\u793a\u666e\u901a\u5730\u56fe", maxZoom: 19 }), he = new Pd; he.aP = [B.url.proto + B.url.domain.TIlE_PERSPECT_URLS[0] + "/resource/mappic/", B.url.proto + B.url.domain.TIlE_PERSPECT_URLS[1] + "/resource/mappic/", B.url.proto + B.url.domain.TIlE_PERSPECT_URLS[2] + "/resource/mappic/", B.url.proto + B.url.domain.TIlE_PERSPECT_URLS[3] + "/resource/mappic/"]; he.getTilesUrl = function (a, b) { var c = a.x, d = a.y, e = 256 * Math.pow(2, 20 - b), d = Math.round((9998336 - e * d) / e) - 1; return url = this.aP[Math.abs(c + d) % this.aP.length] + this.map.Sb + "/" + this.map.hx + "/3/lv" + (21 - b) + "/" + c + "," + d + ".jpg" }; var Ra = new ce("\u4e09\u7ef4", he, { tips: "\u663e\u793a\u4e09\u7ef4\u5730\u56fe", minZoom: 15, maxZoom: 20, textColor: "white", projection: new nb }); Ra.yc = function (a) { return Math.pow(2, 20 - a) }; Ra.Ck = function (a) { if (!a) return ""; var b = I.KC, c; for (c in b) if (-1 < a.search(c)) return b[c].Ry; return "" }; Ra.VL = function (a) { return { bj: 2, gz: 1, sz: 14, sh: 4 }[a] }; var ie = new Pd({ Yw: o }); ie.getTilesUrl = function (a, b) { var c = a.x, d = a.y; return (de[Math.abs(c + d) % de.length] + "u=x=" + c + ";y=" + d + ";z=" + b + ";v=009;type=sate&fm=46&udt=" + Yb("satellite")).replace(/-(\d+)/gi, "M$1") }; var Xa = new ce("\u536b\u661f", ie, { tips: "\u663e\u793a\u536b\u661f\u5f71\u50cf", minZoom: 4, maxZoom: 19, textColor: "white" }), je = new Pd({ transparentPng: o }); je.getTilesUrl = function (a, b) { var c = a.x, d = a.y, e = Yb("satelliteStreet"); return (ee[Math.abs(c + d) % ee.length] + "?qt=vtile&x=" + (c + "").replace(/-/gi, "M") + "&y=" + (d + "").replace(/-/gi, "M") + "&z=" + b + "&styles=sl" + (6 == x.ca.ma ? "&color_dep=32&colors=50" : "") + "&udt=" + e).replace(/-(\d+)/gi, "M$1") }; var Ta = new ce("\u6df7\u5408", [ie, je], { tips: "\u663e\u793a\u5e26\u6709\u8857\u9053\u7684\u536b\u661f\u5f71\u50cf", labelText: "\u8def\u7f51", minZoom: 4, maxZoom: 19, textColor: "white" }); var ke = 1, X = {}; window.g1 = X; function Y(a, b) { x.lang.Da.call(this); this.Ad = {}; this.yn(a); b = b || {}; b.ja = b.renderOptions || {}; this.k = { ja: { Ia: b.ja.panel || p, map: b.ja.map || p, bh: b.ja.autoViewport || o, ku: b.ja.selectFirstResult, Ht: b.ja.highlightMode, Gb: b.ja.enableDragging || q }, Ky: b.onSearchComplete || t(), PN: b.onMarkersSet || t(), ON: b.onInfoHtmlSet || t(), RN: b.onResultsHtmlSet || t(), NN: b.onGetBusListComplete || t(), MN: b.onGetBusLineComplete || t(), KN: b.onBusListHtmlSet || t(), JN: b.onBusLineHtmlSet || t(), uF: b.onPolylinesSet || t(), $p: b.reqFrom || "" }; this.map = b.ja.map || window.GCJMAP; this.k.ja.bh = "undefined" != typeof b && "undefined" != typeof b.renderOptions && "undefined" != typeof b.renderOptions.autoViewport ? b.renderOptions.autoViewport : o; this.k.ja.Ia = x.Ec(this.k.ja.Ia) } x.ua(Y, x.lang.Da); x.extend(Y.prototype, { getResults: function () { return this.Gc ? this.Qi : this.ka }, enableAutoViewport: function () { this.k.ja.bh = o }, disableAutoViewport: function () { this.k.ja.bh = q }, yn: function (a) { a && (this.Ad.src = a) }, dG: function (a) { this.k.Ky = a || t() }, setMarkersSetCallback: function (a) { this.k.PN = a || t() }, setPolylinesSetCallback: function (a) { this.k.uF = a || t() }, setInfoHtmlSetCallback: function (a) { this.k.ON = a || t() }, setResultsHtmlSetCallback: function (a) { this.k.RN = a || t() }, Mm: v("Dd") }); var le = { cH: B.jc, eb: function (a, b, c, d, e) { this.YZ(b); var f = (1E5 * Math.random()).toFixed(0); B._rd["_cbk" + f] = function (b) { b.result && b.result.error && 202 === b.result.error ? alert("\u8be5AK\u56e0\u4e3a\u6076\u610f\u884c\u4e3a\u5df2\u7ecf\u88ab\u7ba1\u7406\u5458\u5c01\u7981\uff01") : b.result && b.result.error && 403 === b.result.error ? B.Qp !== p && B.Qp.update("\u672a\u83b7\u5f97\u767e\u5ea6\u5730\u56fe\u5546\u7528\u6388\u6743\uff0c\u53ef\u80fd\u5bfc\u81f4\u90e8\u5206\u5730\u56fe\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5\u3002") : (c = c || {}, a && a(b, c), delete B._rd["_cbk" + f]) }; d = d || ""; b = c && c.tP ? Lb(b, encodeURI) : Lb(b, encodeURIComponent); this.cH = c && c.ft ? c.pO ? c.pO : B.Pp : B.jc; d = this.cH + d + "?" + b + "&ie=utf-8&oue=1&fromproduct=jsapi&v=2.1"; e || (d += "&res=api"); d = d + ("&callback=BMap._rd._cbk" + f) + ("&ak=" + qa); ra(d) }, decrypt: function (a, b) { var c = CryptoJS.enc.Utf8.parse(b); return CryptoJS.AES.decrypt(a, c, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 }).toString(CryptoJS.enc.Utf8) }, enCrypt: function (a, b) { var c = CryptoJS.enc.Utf8.parse(b); return CryptoJS.AES.encrypt(a, c, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 }).toString() }, enKey: function (a) { a += md5(a); return md5(a.split("").reverse().join("")).substr(8, 16) }, enReqToken: function (a) { return md5(md5(a) + a).substr(5, 16) }, YZ: function (a) { if (a.qt) { var b = ""; switch (a.qt) { case "bt": b = "z_qt|bt"; break; case "nav": b = "z_qt|nav"; break; case "walk": b = "z_qt|walk"; break; case "bse": b = "z_qt|bse"; break; case "nse": b = "z_qt|nse"; break; case "drag": b = "z_qt|drag"; break; case "s": b = "z_qt|s"; break; case "ext": b = "z_qt|ext"; break; case "gc": b = "z_qt|gc"; break; case "rgc": b = "z_qt|rgc"; break; case "bl": b = "z_qt|bl"; break; case "bsl": b = "z_qt|bsl"; break; case "con": b = "z_qt|con"; break; case "bd": b = "z_qt|bd"; break; case "nb": b = "z_qt|nb"; break; case "bda": b = "z_qt|bda"; break; case "sa": b = "z_qt|sa"; break; case "nba": b = "z_qt|nba"; break; case "dec": b = "z_qt|dec" }"" !== b && B.alog("cus.fire", "count", b) } } }; window.t1 = le; B._rd = {}; var R = {}; window.s1 = R; R.lO = function (a) { a = a.replace(/<\/?[^>]*>/g, ""); return a = a.replace(/[ | ]* /g, " ") }; R.PZ = function (a) { return a.replace(/([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*),([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0|[1-9]\d*)(,)/g, "$1,$2;") }; R.QZ = function (a, b) { return a.replace(RegExp("(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);)(((-?\\d+)(\\.\\d+)?),((-?\\d+)(\\.\\d+)?);){" + b + "}", "ig"), "$1") }; var ne = 2, oe = 3, pe = 0, qe = "bt", re = "nav", se = "walk", te = "bl", ue = "bsl", ve = 14, we = 15, xe = 18, ye = 20, ze = 31; B.I = window.Instance = x.lang.Lc; function Ae(a, b, c) { x.lang.Da.call(this); if (a) { this.Ua = "object" == typeof a ? a : x.Ec(a); this.page = 1; this.Md = 100; this.BK = "pg"; this.Wf = 4; this.JK = b; this.update = o; a = { page: 1, Ze: 100, Md: 100, Wf: 4, BK: "pg", update: o }; c || (c = a); for (var d in c) "undefined" != typeof c[d] && (this[d] = c[d]); this.va() } } x.extend(Ae.prototype, { va: function () { this.ra() }, ra: function () { this.hW(); this.Ua.innerHTML = this.FW() }, hW: function () { isNaN(parseInt(this.page)) && (this.page = 1); isNaN(parseInt(this.Md)) && (this.Md = 1); 1 > this.page && (this.page = 1); 1 > this.Md && (this.Md = 1); this.page > this.Md && (this.page = this.Md); this.page = parseInt(this.page); this.Md = parseInt(this.Md) }, I3: function () { location.search.match(RegExp("[?&]?" + this.BK + "=([^&]*)[&$]?", "gi")); this.page = RegExp.$1 }, FW: function () { var a = [], b = this.page - 1, c = this.page + 1; a.push('<p style="margin:0;padding:0;white-space:nowrap">'); if (!(1 > b)) { if (this.page >= this.Wf) { var d; a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp1}">\u9996\u9875</a></span>'.replace("{temp1}", "BMap.I('" + this.ba + "').toPage(1);")) } a.push('<span style="margin-right:3px"><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp2}">\u4e0a\u4e00\u9875</a></span>'.replace("{temp2}", "BMap.I('" + this.ba + "').toPage(" + b + ");")) } if (this.page < this.Wf) d = 0 == this.page % this.Wf ? this.page - this.Wf - 1 : this.page - this.page % this.Wf + 1, b = d + this.Wf - 1; else { d = Math.floor(this.Wf / 2); var e = this.Wf % 2 - 1, b = this.Md > this.page + d ? this.page + d : this.Md; d = this.page - d - e } this.page > this.Md - this.Wf && this.page >= this.Wf && (d = this.Md - this.Wf + 1, b = this.Md); for (e = d; e <= b; e++)0 < e && (e == this.page ? a.push('<span style="margin-right:3px">' + e + "</span>") : 1 <= e && e <= this.Md && (d = '<span><a style="color:#7777cc;margin-right:3px" href="javascript:void(0)" onclick="{temp3}">[' + e + "]</a></span>", a.push(d.replace("{temp3}", "BMap.I('" + this.ba + "').toPage(" + e + ");")))); c > this.Md || a.push('<span><a style="color:#7777cc" href="javascript:void(0)" onclick="{temp4}">\u4e0b\u4e00\u9875</a></span>'.replace("{temp4}", "BMap.I('" + this.ba + "').toPage(" + c + ");")); a.push("</p>"); return a.join("") }, toPage: function (a) { a = a ? a : 1; "function" == typeof this.JK && (this.JK(a), this.page = a); this.update && this.va() } }); function hb(a, b) { Y.call(this, a, b); b = b || {}; b.renderOptions = b.renderOptions || {}; this.kq(b.pageCapacity); "undefined" != typeof b.renderOptions.selectFirstResult && !b.renderOptions.selectFirstResult ? this.oD() : this.ND(); this.wa = []; this.xf = []; this.lb = -1; this.Pa = []; var c = this; L.load("local", function () { c.iA() }, o) } x.ua(hb, Y, "LocalSearch"); hb.Cq = 10; hb.o1 = 1; hb.Sn = 100; hb.TG = 2E3; hb.$G = 1E5; x.extend(hb.prototype, { search: function (a, b) { this.Pa.push({ method: "search", arguments: [a, b] }) }, vn: function (a, b, c) { this.Pa.push({ method: "searchInBounds", arguments: [a, b, c] }) }, gq: function (a, b, c, d) { this.Pa.push({ method: "searchNearby", arguments: [a, b, c, d] }) }, Qe: function () { delete this.Ha; delete this.Dd; delete this.ka; delete this.fa; this.lb = -1; this.sb(); this.k.ja.Ia && (this.k.ja.Ia.innerHTML = "") }, Rm: t(), ND: function () { this.k.ja.ku = o }, oD: function () { this.k.ja.ku = q }, kq: function (a) { this.k.Pk = "number" == typeof a && !isNaN(a) ? 1 > a ? hb.Cq : a > hb.Sn ? hb.Cq : a : hb.Cq }, qf: function () { return this.k.Pk }, toString: ea("LocalSearch") }); var Be = hb.prototype; U(Be, { clearResults: Be.Qe, setPageCapacity: Be.kq, getPageCapacity: Be.qf, gotoPage: Be.Rm, searchNearby: Be.gq, searchInBounds: Be.vn, search: Be.search, enableFirstResultSelection: Be.ND, disableFirstResultSelection: Be.oD }); function Ce(a, b) { Y.call(this, a, b) } x.ua(Ce, Y, "BaseRoute"); x.extend(Ce.prototype, { Qe: t() }); function De(a, b) { Y.call(this, a, b); b = b || {}; this.su(b.policy); this.kq(b.pageCapacity); this.xd = qe; this.bv = ve; this.cv = ke; this.wa = []; this.lb = -1; this.k.fd = b.enableTraffic || q; this.Pa = []; var c = this; L.load("route", function () { c.Td() }) } De.Sn = 100; De.aQ = [0, 1, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 1, 1, 1]; x.ua(De, Ce, "TransitRoute"); x.extend(De.prototype, { su: function (a) { this.k.$c = 0 <= a && 4 >= a ? a : 0 }, gB: function (a, b) { this.Pa.push({ method: "_internalSearch", arguments: [a, b] }) }, search: function (a, b) { this.Pa.push({ method: "search", arguments: [a, b] }) }, kq: function (a) { if ("string" === typeof a && (a = parseInt(a, 10), isNaN(a))) { this.k.Pk = De.Sn; return } this.k.Pk = "number" !== typeof a ? De.Sn : 1 <= a && a <= De.Sn ? Math.round(a) : De.Sn }, toString: ea("TransitRoute"), XU: function (a) { return a.replace(/\(.*\)/, "") } }); var Ee = De.prototype; U(Ee, { _internalSearch: Ee.gB }); function Fe(a, b) { Y.call(this, a, b); this.wa = []; this.lb = -1; this.Pa = []; var c = this, d = this.k.ja; 1 !== d.Ht && 2 !== d.Ht && (d.Ht = 1); this.BA = this.k.ja.Gb ? o : q; L.load("route", function () { c.Td() }); this.QE && this.QE() } Fe.oQ = " \u73af\u5c9b \u65e0\u5c5e\u6027\u9053\u8def \u4e3b\u8def \u9ad8\u901f\u8fde\u63a5\u8def \u4ea4\u53c9\u70b9\u5185\u8def\u6bb5 \u8fde\u63a5\u9053\u8def \u505c\u8f66\u573a\u5185\u90e8\u9053\u8def \u670d\u52a1\u533a\u5185\u90e8\u9053\u8def \u6865 \u6b65\u884c\u8857 \u8f85\u8def \u531d\u9053 \u5168\u5c01\u95ed\u9053\u8def \u672a\u5b9a\u4e49\u4ea4\u901a\u533a\u57df POI\u8fde\u63a5\u8def \u96a7\u9053 \u6b65\u884c\u9053 \u516c\u4ea4\u4e13\u7528\u9053 \u63d0\u524d\u53f3\u8f6c\u9053".split(" "); x.ua(Fe, Ce, "DWRoute"); x.extend(Fe.prototype, { search: function (a, b, c) { this.Pa.push({ method: "search", arguments: [a, b, c] }) } }); function Ge(a, b) { Fe.call(this, a, b); b = b || {}; this.k.fd = b.enableTraffic || q; this.su(b.policy); this.xd = re; this.bv = ye; this.cv = oe; Va(Wa(4, 1), ["service", "drive"]) } x.ua(Ge, Fe, "DrivingRoute"); Ge.prototype.su = function (a) { this.k.$c = 0 <= a && 2 >= a ? a : 0 }; function He(a, b) { Fe.call(this, a, b); this.xd = se; this.bv = ze; this.cv = ne; this.BA = q; Va(Wa(4, 4), ["service", "walk"]) } x.ua(He, Fe, "WalkingRoute"); function Ie(a, b) { x.lang.Da.call(this); this.Uf = []; this.jn = []; this.k = b; this.cc = a; this.map = this.k.ja.map || p; this.Zy = this.k.Zy; this.Bb = p; this.lj = 0; this.pz = ""; this.fe = 1; this.Gx = ""; this.aq = [0, 0, 0, 0, 0, 0, 0]; this.iF = []; this.Js = [1, 1, 1, 1, 1, 1, 1]; this.jP = [1, 1, 1, 1, 1, 1, 1]; this.iu = [0, 0, 0, 0, 0, 0, 0]; this.bq = [0, 0, 0, 0, 0, 0, 0]; this.Ma = [{ o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }, { o: "", Fd: 0, Gn: 0, x: 0, y: 0, qa: -1 }]; this.mi = -1; this.Iu = []; this.Ju = []; L.load("route", t()) } x.lang.ua(Ie, x.lang.Da, "RouteAddr"); var Je = navigator.userAgent; /ipad|iphone|ipod|iph/i.test(Je); var Pe = /android/i.test(Je); function Qe(a) { this.wh = a || {} } x.extend(Qe.prototype, { vO: function (a, b, c) { var d = this; L.load("route", function () { d.Td(a, b, c) }) } }); function Re(a) { this.k = {}; x.extend(this.k, a); this.Pa = []; var b = this; L.load("othersearch", function () { b.Td() }) } x.ua(Re, x.lang.Da, "Geocoder"); x.extend(Re.prototype, { Km: function (a, b, c) { this.Pa.push({ method: "getPoint", arguments: [a, b, c] }) }, Gm: function (a, b, c) { this.Pa.push({ method: "getLocation", arguments: [a, b, c] }) }, toString: ea("Geocoder") }); var Se = Re.prototype; U(Se, { getPoint: Se.Km, getLocation: Se.Gm }); function Geolocation(a) { a = a || {}; this.B = { timeout: a.timeout || 1E4, maximumAge: a.maximumAge || 6E5, ml: q, wk: a.cryptky || "" }; this.qe = []; var b = this; L.load("othersearch", function () { for (var a = 0, d; d = b.qe[a]; a++)b[d.method].apply(b, d.arguments) }) } x.extend(Geolocation.prototype, { getCurrentPosition: function (a, b) { this.qe.push({ method: "getCurrentPosition", arguments: arguments }) }, getStatus: ea(2), enableSDKLocation: function () { J() && (this.B.ml = o) }, disableSDKLocation: function () { this.B.ml = q } }); function Te(a) { a = a || {}; a.ja = a.renderOptions || {}; this.k = { ja: { map: a.ja.map || p } }; this.Pa = []; var b = this; L.load("othersearch", function () { b.Td() }) } x.ua(Te, x.lang.Da, "LocalCity"); x.extend(Te.prototype, { get: function (a) { this.Pa.push({ method: "get", arguments: [a] }) }, toString: ea("LocalCity") }); function Ue() { this.Pa = []; var a = this; L.load("othersearch", function () { a.Td() }) } x.ua(Ue, x.lang.Da, "Boundary"); x.extend(Ue.prototype, { get: function (a, b) { this.Pa.push({ method: "get", arguments: [a, b] }) }, toString: ea("Boundary") }); function Ve(a, b) { Y.call(this, a, b); this.lQ = te; this.nQ = we; this.kQ = ue; this.mQ = xe; this.Pa = []; Va(Wa(4, 5), ["service", "bus"]); var c = this; L.load("buslinesearch", function () { c.Td() }) } Ve.Nv = I.pa + "iw_plus.gif"; Ve.pT = I.pa + "iw_minus.gif"; Ve.gV = I.pa + "stop_icon.png"; x.ua(Ve, Y); x.extend(Ve.prototype, { getBusList: function (a) { this.Pa.push({ method: "getBusList", arguments: [a] }) }, getBusLine: function (a) { this.Pa.push({ method: "getBusLine", arguments: [a] }) }, setGetBusListCompleteCallback: function (a) { this.k.NN = a || t() }, setGetBusLineCompleteCallback: function (a) { this.k.MN = a || t() }, setBusListHtmlSetCallback: function (a) { this.k.KN = a || t() }, setBusLineHtmlSetCallback: function (a) { this.k.JN = a || t() }, setPolylinesSetCallback: function (a) { this.k.uF = a || t() } }); function We(a) { Y.call(this, a); a = a || {}; this.oc = { input: a.input || p, AC: a.baseDom || p, types: a.types || [], Ky: a.onSearchComplete || t() }; this.Ad.src = a.location || "\u5168\u56fd"; this.gj = ""; this.og = p; this.FI = ""; this.Xi(); Sa(Ja); var b = this; L.load("autocomplete", function () { b.Td() }) } x.ua(We, Y, "Autocomplete"); x.extend(We.prototype, { Xi: t(), show: t(), U: t(), eG: function (a) { this.oc.types = a }, yn: function (a) { this.Ad.src = a }, search: da("gj"), bz: da("FI") }); var Ya; function Qa(a, b) { function c() { e.k.visible ? ("inter" === e.Le && $a() && e.k.haveBreakId && e.k.indoorExitControl === o ? x.K.show(e.Dr) : x.K.U(e.Dr), this.Ed && this.k.closeControl && this.Af && this.D && this.D.Ga() === this.C ? x.K.show(e.Af) : x.K.U(e.Af), this.k.forceCloseControl && x.K.show(e.Af), Va(Wa(3, 5), ["layer", "pano"])) : (x.K.U(e.Af), x.K.U(e.Dr)) } this.C = "string" == typeof a ? x.$(a) : a; this.ba = Xe++; this.k = { enableScrollWheelZoom: o, panoramaRenderer: Pa() ? "javascript" : "flash", swfSrc: B.Sf("main_domain_nocdn", "res/swf/") + "APILoader.swf", visible: o, indoorExitControl: o, indoorFloorControl: q, linksControl: o, clickOnRoad: o, navigationControl: o, closeControl: o, indoorSceneSwitchControl: o, albumsControl: q, albumsControlOptions: {}, copyrightControlOptions: {}, forceCloseControl: q, haveBreakId: q }; var b = b || {}, d; for (d in b) this.k[d] = b[d]; b.closeControl === o && (this.k.forceCloseControl = o); b.useWebGL === q && Pa(q); this.Ea = { heading: 0, pitch: 0 }; this.so = []; this.Kb = this.Ya = p; this.kk = this.Ar(); this.wa = []; this.Kc = 1; this.Le = this.MT = this.ql = ""; this.Ke = {}; this.Nf = p; this.Vg = []; this.Wr = []; "cvsRender" == this.kk || Pa() ? (this.dk = 90, this.fk = -90) : "cssRender" == this.kk && (this.dk = 45, this.fk = -45); this.$r = q; var e = this, f = (1E5 * Math.random()).toFixed(0); B._rd = B._rd || {}; B._rd["_cbk" + f] = function (a) { if (!a || a.error === k || a.error !== 0) Wc("PANORAMA"); else { this.kk === "flashRender" ? L.load("panoramaflash", function () { e.Xi() }, o) : L.load("panorama", function () { e.Ab() }, o); b.of == "api" ? Sa(Ea) : Sa(Ga) } delete B._rd["_cbk" + f] }; this.to = function () { Vc("BMap._rd._cbk" + f); this.to = t() }; this.k.AT !== o && (this.to(), B.Tn("cus.fire", "count", "z_loadpanoramacount")); this.qU(this.C); this.addEventListener("id_changed", function () { Sa(Da, { from: b.of }) }); this.FQ(); this.addEventListener("indoorexit_options_changed", c); this.addEventListener("scene_type_changed", c); this.addEventListener("onclose_options_changed", c); this.addEventListener("onvisible_changed", c) } var Ye = 4, Ze = 1, Xe = 0; x.lang.ua(Qa, x.lang.Da, "Panorama"); x.extend(Qa.prototype, { FQ: function () { var a = this, b = this.Af = H("div"); b.className = "pano_close"; b.style.cssText = "z-index: 1201;display: none"; b.title = "\u9000\u51fa\u5168\u666f"; b.onclick = function () { a.U() }; this.C.appendChild(b); var c = this.Dr = H("a"); c.className = "pano_pc_indoor_exit"; c.style.cssText = "z-index: 1201;display: none"; c.innerHTML = '<span style="float:right;margin-right:12px;">\u51fa\u53e3</span>'; c.title = "\u9000\u51fa\u5ba4\u5185\u666f"; c.onclick = function () { a.kp() }; this.C.appendChild(c); window.ActiveXObject && !document.addEventListener && (b.style.backgroundColor = "rgb(37,37,37)", c.style.backgroundColor = "rgb(37,37,37)") }, kp: t(), qU: function (a) { var b, c; b = a.style; c = ab(a).position; "absolute" != c && "relative" != c && (b.position = "relative", b.zIndex = 0); if ("absolute" === c || "relative" === c) if (a = ab(a).zIndex, !a || "auto" === a) b.zIndex = 0 }, YX: v("so"), Yb: v("Ya"), zY: v("zw"), KO: v("zw"), ia: v("Kb"), Fa: v("Ea"), ga: v("Kc"), kh: v("ql"), K3: function () { return this.Z1 || [] }, F3: v("MT"), Bt: v("Le"), fz: function (a) { a !== this.Le && (this.Le = a, this.dispatchEvent(new O("onscene_type_changed"))) }, rc: function (a, b, c) { "object" === typeof b && (c = b, b = k); a != this.Ya && (this.Bl = this.Ya, this.Cl = this.Kb, this.Ya = a, this.Le = b || "street", this.Kb = p, c && c.pov && this.Nc(c.pov)) }, ta: function (a) { a.ab(this.Kb) || (this.Bl = this.Ya, this.Cl = this.Kb, this.Kb = a, this.Ya = p) }, Nc: function (a) { a && (this.Ea = a, a = this.Ea.pitch, a > this.dk ? a = this.dk : a < this.fk && (a = this.fk), this.$r = o, this.Ea.pitch = a) }, Q_: function (a, b) { this.fk = 0 <= a ? 0 : a; this.dk = 0 >= b ? 0 : b }, Oc: function (a) { a != this.Kc && (a > Ye && (a = Ye), a < Ze && (a = Ze), a != this.Kc && (this.Kc = a), "cssRender" === this.kk && this.Nc(this.Ea)) }, $B: function () { if (this.D) for (var a = this.D.Yx(), b = 0; b < a.length; b++)(a[b] instanceof W || a[b] instanceof Cd) && a[b].point && this.wa.push(a[b]) }, cz: da("D"), ru: function (a) { this.Nf = a || "none" }, Gj: function (a) { for (var b in a) { if ("object" == typeof a[b]) for (var c in a[b]) this.k[b][c] = a[b][c]; else this.k[b] = a[b]; a.closeControl === o && (this.k.forceCloseControl = o); a.closeControl === q && (this.k.forceCloseControl = q); switch (b) { case "linksControl": this.dispatchEvent(new O("onlinks_visible_changed")); break; case "clickOnRoad": this.dispatchEvent(new O("onclickonroad_changed")); break; case "navigationControl": this.dispatchEvent(new O("onnavigation_visible_changed")); break; case "indoorSceneSwitchControl": this.dispatchEvent(new O("onindoor_default_switch_mode_changed")); break; case "albumsControl": this.dispatchEvent(new O("onalbums_visible_changed")); break; case "albumsControlOptions": this.dispatchEvent(new O("onalbums_options_changed")); break; case "copyrightControlOptions": this.dispatchEvent(new O("oncopyright_options_changed")); break; case "closeControl": this.dispatchEvent(new O("onclose_options_changed")); break; case "indoorExitControl": this.dispatchEvent(new O("onindoorexit_options_changed")); break; case "indoorFloorControl": this.dispatchEvent(new O("onindoorfloor_options_changed")) } } }, Jk: function () { this.Ll.style.visibility = "hidden" }, kz: function () { this.Ll.style.visibility = "visible" }, lX: function () { this.k.enableScrollWheelZoom = o }, XW: function () { this.k.enableScrollWheelZoom = q }, show: function () { this.k.visible = o }, U: function () { this.k.visible = q }, Ar: function () { return $a() && !J() && "javascript" !== this.k.panoramaRenderer ? "flashRender" : !J() && Sb() ? "cvsRender" : "cssRender" }, Ka: function (a) { this.Ke[a.kd] = a }, Ub: function (a) { delete this.Ke[a] }, EE: function () { return this.k.visible }, jh: function () { return new M(this.C.clientWidth, this.C.clientHeight) }, Ga: v("C"), RL: function () { var a = B.Sf("baidumap", "?"), b = this.Yb(); if (b) { var b = { panotype: this.Bt(), heading: this.Fa().heading, pitch: this.Fa().pitch, pid: b, panoid: b, from: "api" }, c; for (c in b) a += c + "=" + b[c] + "&" } return a.slice(0, -1) }, gy: function () { this.Gj({ copyrightControlOptions: { logoVisible: q } }) }, hG: function () { this.Gj({ copyrightControlOptions: { logoVisible: o } }) }, uC: function (a) { function b(a, b) { return function () { a.Wr.push({ wN: b, vN: arguments }) } } for (var c = a.getPanoMethodList(), d = "", e = 0, f = c.length; e < f; e++)d = c[e], this[d] = b(this, d); this.Vg.push(a) }, KF: function (a) { for (var b = this.Vg.length; b--;)this.Vg[b] === a && this.Vg.splice(b, 1) }, $F: t() }); var $e = Qa.prototype; U($e, { setId: $e.rc, setPosition: $e.ta, setPov: $e.Nc, setZoom: $e.Oc, setOptions: $e.Gj, getId: $e.Yb, getPosition: $e.ia, getPov: $e.Fa, getZoom: $e.ga, getLinks: $e.YX, getBaiduMapUrl: $e.RL, hideMapLogo: $e.gy, showMapLogo: $e.hG, enableDoubleClickZoom: $e.Y2, disableDoubleClickZoom: $e.M2, enableScrollWheelZoom: $e.lX, disableScrollWheelZoom: $e.XW, show: $e.show, hide: $e.U, addPlugin: $e.uC, removePlugin: $e.KF, getVisible: $e.EE, addOverlay: $e.Ka, removeOverlay: $e.Ub, getSceneType: $e.Bt, setPanoramaPOIType: $e.ru, exitInter: $e.kp, setInteractiveState: $e.$F }); U(window, { BMAP_PANORAMA_POI_HOTEL: "hotel", BMAP_PANORAMA_POI_CATERING: "catering", BMAP_PANORAMA_POI_MOVIE: "movie", BMAP_PANORAMA_POI_TRANSIT: "transit", BMAP_PANORAMA_POI_INDOOR_SCENE: "indoor_scene", BMAP_PANORAMA_POI_NONE: "none", BMAP_PANORAMA_INDOOR_SCENE: "inter", BMAP_PANORAMA_STREET_SCENE: "street" }); function af() { x.lang.Da.call(this); this.kd = "PanoramaOverlay_" + this.ba; this.P = p; this.Oa = o } x.lang.ua(af, x.lang.Da, "PanoramaOverlayBase"); x.extend(af.prototype, { G3: v("kd"), ra: function () { aa("initialize\u65b9\u6cd5\u672a\u5b9e\u73b0") }, remove: function () { aa("remove\u65b9\u6cd5\u672a\u5b9e\u73b0") }, Mf: function () { aa("_setOverlayProperty\u65b9\u6cd5\u672a\u5b9e\u73b0") } }); function bf(a, b) { af.call(this); var c = { position: p, altitude: 2, displayDistance: o }, b = b || {}, d; for (d in b) c[d] = b[d]; this.Kb = c.position; this.Tj = a; this.Sq = c.altitude; this.RR = c.displayDistance; this.nG = c.color; this.AM = c.hoverColor; this.backgroundColor = c.backgroundColor; this.DK = c.backgroundHoverColor; this.borderColor = c.borderColor; this.HK = c.borderHoverColor; this.fontSize = c.fontSize; this.padding = c.padding; this.KE = c.imageUrl; this.size = c.size; this.ye = c.image; this.width = c.width; this.height = c.height; this.OY = c.imageData; this.borderWidth = c.borderWidth } x.lang.ua(bf, af, "PanoramaLabel"); x.extend(bf.prototype, { l3: v("borderWidth"), getImageData: v("OY"), Om: v("nG"), z3: v("AM"), h3: v("backgroundColor"), i3: v("DK"), j3: v("borderColor"), k3: v("HK"), w3: v("fontSize"), H3: v("padding"), A3: v("KE"), vb: v("size"), Px: v("ye"), ta: function (a) { this.Kb = a; this.Mf("position", a) }, ia: v("Kb"), ad: function (a) { this.Tj = a; this.Mf("content", a) }, Dk: v("Tj"), VF: function (a) { this.Sq = a; this.Mf("altitude", a) }, np: v("Sq"), Fa: function () { var a = this.ia(), b = p, c = p; this.P && (c = this.P.ia()); if (a && c) if (a.ab(c)) b = this.P.Fa(); else { b = {}; b.heading = cf(a.lng - c.lng, a.lat - c.lat) || 0; var a = b, c = this.np(), d = this.mo(); a.pitch = Math.round(180 * (Math.atan(c / d) / Math.PI)) || 0 } return b }, mo: function () { var a = 0, b, c; this.P && (b = this.P.ia(), (c = this.ia()) && !c.ab(b) && (a = T.pp(b, c))); return a }, U: function () { aa("hide\u65b9\u6cd5\u672a\u5b9e\u73b0") }, show: function () { aa("show\u65b9\u6cd5\u672a\u5b9e\u73b0") }, Mf: t() }); var df = bf.prototype; U(df, { setPosition: df.ta, getPosition: df.ia, setContent: df.ad, getContent: df.Dk, setAltitude: df.VF, getAltitude: df.np, getPov: df.Fa, show: df.show, hide: df.U }); function ef(a, b) { af.call(this); var c = { icon: "", title: "", panoInfo: p, altitude: 2 }, b = b || {}, d; for (d in b) c[d] = b[d]; this.Kb = a; this.AI = c.icon; this.XJ = c.title; this.Sq = c.altitude; this.dU = c.panoInfo; this.Ea = { heading: 0, pitch: 0 } } x.lang.ua(ef, af, "PanoramaMarker"); x.extend(ef.prototype, { ta: function (a) { this.Kb = a; this.Mf("position", a) }, ia: v("Kb"), Dc: function (a) { this.XJ = a; this.Mf("title", a) }, yp: v("XJ"), Vb: function (a) { this.AI = icon; this.Mf("icon", a) }, qp: v("AI"), VF: function (a) { this.Sq = a; this.Mf("altitude", a) }, np: v("Sq"), vE: v("dU"), Fa: function () { var a = p; if (this.P) { var a = this.P.ia(), b = this.ia(), a = cf(b.lng - a.lng, b.lat - a.lat); isNaN(a) && (a = 0); a = { heading: a, pitch: 0 } } else a = this.Ea; return a }, Mf: t() }); var ff = ef.prototype; U(ff, { setPosition: ff.ta, getPosition: ff.ia, setTitle: ff.Dc, getTitle: ff.yp, setAltitude: ff.VF, getAltitude: ff.np, getPanoInfo: ff.vE, getIcon: ff.qp, setIcon: ff.Vb, getPov: ff.Fa }); function cf(a, b) { var c = 0; if (0 !== a && 0 !== b) { var c = 180 * (Math.atan(a / b) / Math.PI), d = 0; 0 < a && 0 > b && (d = 90); 0 > a && 0 > b && (d = 180); 0 > a && 0 < b && (d = 270); c = (c + 90) % 90 + d } else 0 === a ? c = 0 > b ? 180 : 0 : 0 === b && (c = 0 < a ? 90 : 270); return Math.round(c) } function Pa(a) { if ("boolean" === typeof gf) return gf; if (a === q || !window.WebGLRenderingContext) return gf = q; if (x.platform.Wm) { a = 0; try { a = navigator.userAgent.split("Android ")[1].charAt(0) } catch (b) { } if (5 > a) return gf = q } var a = document.createElement("canvas"), c = p; try { c = a.getContext("webgl") } catch (d) { gf = q } return gf = c === p ? q : o } var gf; function hf() { if ("boolean" === typeof jf) return jf; jf = o; if (x.platform.VE) return o; var a = navigator.userAgent; return -1 < a.indexOf("Chrome") || -1 < a.indexOf("SAMSUNG-GT-I9508") ? o : jf = q } var jf; function jd(a, b) { this.P = a || p; var c = this; c.P && c.da(); L.load("pservice", function () { c.jR() }); "api" == (b || {}).of ? Sa(Ha) : Sa(Ia); this.yd = { getPanoramaById: [], getPanoramaByLocation: [], getVisiblePOIs: [], getRecommendPanosById: [], getPanoramaVersions: [], checkPanoSupportByCityCode: [], getPanoramaByPOIId: [], getCopyrightProviders: [] } } B.hn(function (a) { "flashRender" !== a.Ar() && new jd(a, { of: "api" }) }); x.extend(jd.prototype, { da: function () { function a(a) { if (a) { if (a.id != b.zw) { b.KO(a.id); b.ea = a; hf() || b.dispatchEvent(new O("onthumbnail_complete")); b.Ya != p && (b.Cl = b._position); for (var c in a) if (a.hasOwnProperty(c)) switch (b["_" + c] = a[c], c) { case "position": b.Kb = a[c]; break; case "id": b.Ya = a[c]; break; case "links": b.so = a[c]; break; case "zoom": b.Kc = a[c] }if (b.Cl) { var f = b.Cl, g = b._position; c = f.lat; var i = g.lat, j = Vb(i - c), f = Vb(g.lng - f.lng); c = Math.sin(j / 2) * Math.sin(j / 2) + Math.cos(Vb(c)) * Math.cos(Vb(i)) * Math.sin(f / 2) * Math.sin(f / 2); b.PH = 6371E3 * 2 * Math.atan2(Math.sqrt(c), Math.sqrt(1 - c)) } c = new O("ondataload"); b.show(); c.data = a; b.dispatchEvent(c); b.dispatchEvent(new O("onposition_changed")); b.dispatchEvent(new O("onlinks_changed")); b.dispatchEvent(new O("oncopyright_changed"), { copyright: a.copyright }); a.nm ? (b.Gj({ haveBreakId: o }), $a() && b.k.closeControl && x.K.show(b.Dr)) : x.K.U(b.Dr) } } else b.Ya = b.Bl, b.Kb = b.Cl, b.dispatchEvent(new O("onnoresult")) } var b = this.P, c = this; b.addEventListener("id_changed", function () { B.Vw("y"); c.vp(b.Yb(), a) }); b.addEventListener("iid_changed", function () { B.Vw("y"); c.mg(jd.nl + "qt=idata&iid=" + b.XA + "&fn=", function (b) { if (b && b.result && 0 == b.result.error) { var b = b.content[0].interinfo, e = {}; e.nm = b.BreakID; for (var f = b.Defaultfloor, g = p, i = 0; i < b.Floors.length; i++)if (b.Floors[i].Floor == f) { g = b.Floors[i]; break } e.id = g.StartID || g.Points[0].PID; c.vp(e.id, a, e) } }) }); b.addEventListener("position_changed_inner", function () { B.Vw("y"); c.vj(b.ia(), a) }) }, vp: function (a, b) { this.yd.getPanoramaById.push(arguments) }, vj: function (a, b, c) { this.yd.getPanoramaByLocation.push(arguments) }, FE: function (a, b, c, d) { this.yd.getVisiblePOIs.push(arguments) }, ay: function (a, b) { this.yd.getRecommendPanosById.push(arguments) }, $x: function (a) { this.yd.getPanoramaVersions.push(arguments) }, IC: function (a, b) { this.yd.checkPanoSupportByCityCode.push(arguments) }, Zx: function (a, b) { this.yd.getPanoramaByPOIId.push(arguments) }, WL: function (a) { this.yd.getCopyrightProviders.push(arguments) } }); var kf = jd.prototype; U(kf, { getPanoramaById: kf.vp, getPanoramaByLocation: kf.vj, getPanoramaByPOIId: kf.Zx }); function id(a) { Pd.call(this); "api" == (a || {}).of ? Sa(Ba) : Sa(Ca) } id.gH = B.Sf("pano", ""); id.prototype = new Pd; id.prototype.getTilesUrl = function (a, b) { var c = id.gH[(a.x + a.y) % id.gH.length] + "?udt=20150114&qt=tile&styles=pl&x=" + a.x + "&y=" + a.y + "&z=" + b; x.ca.ma && 6 >= x.ca.ma && (c += "&color_dep=32"); var d = Hc(c); d ? (d = Yc(d.path, { Ip: q }), c += "&" + d) : c = p; return c }; id.prototype.St = ea(o); lf.Xd = new T; function lf() { } x.extend(lf, { YW: function (a, b, c) { c = x.lang.Lc(c); b = { data: b }; "position_changed" == a && (b.data = lf.Xd.Fj(new S(b.data.mercatorX, b.data.mercatorY))); c.dispatchEvent(new O("on" + a), b) } }); var mf = lf; U(mf, { dispatchFlashEvent: mf.YW }); var nf = { cQ: 50 }; nf.ev = B.Sf("pano")[0]; nf.$u = { width: 220, height: 60 }; x.extend(nf, { Gp: function (a, b, c, d) { if (!b || !c || !c.lngLat || !c.panoInstance) d(); else { this.yo === k && (this.yo = new jd(p, { of: "api" })); var e = this; this.yo.IC(b, function (b) { b ? e.yo.vj(c.lngLat, nf.cQ, function (b) { if (b && b.id) { var f = b.id, j = b.xh, b = b.yh, l = jd.Xd.Dl(c.lngLat), m = e.RS(l, { x: j, y: b }), j = e.fM(f, m, 0, nf.$u.width, nf.$u.height); a.content = e.SS(a.content, j, c.titleTip, c.beforeDomId); a.addEventListener("open", function () { ja.M(x.Ec("infoWndPano"), "click", function () { c.panoInstance.rc(f); c.panoInstance.show(); c.panoInstance.Nc({ heading: m, pitch: 0 }) }) }) } d() }) : d() }) } }, SS: function (a, b, c, d) { var c = c || "", e; !d || !a.split(d)[0] ? (d = a, a = "") : (d = a.split(d)[0], e = d.lastIndexOf("<"), d = a.substring(0, e), a = a.substring(e)); e = []; var f = nf.$u.width, g = nf.$u.height; e.push(d); e.push("<div id='infoWndPano' class='panoInfoBox' style='height:" + g + "px;width:" + f + "px; margin-top: -19px;'>"); e.push("<img class='pano_thumnail_img' width='" + f + "' height='" + g + "' border='0' alt='" + c + "\u5916\u666f' title='" + c + "\u5916\u666f' src='" + b + "' onerror='Pano.PanoEntranceUtil.thumbnailNotFound(this, " + f + ", " + g + ");' />"); e.push("<div class='panoInfoBoxTitleBg' style='width:" + f + "px;'></div><a href='javascript:void(0)' class='panoInfoBoxTitleContent' >\u8fdb\u5165\u5168\u666f&gt;&gt;</a>"); e.push("</div>"); e.push(a); return e.join("") }, RS: function (a, b) { var c = 90 - 180 * Math.atan2(a.y - b.y, a.x - b.x) / Math.PI; 0 > c && (c += 360); return c }, fM: function (a, b, c, d, e) { var f = nf.ev + "?qt=pr3d&fovy=75&quality=80&panoid={panoId}&heading={panoHeading}&pitch={panoPitch}&width={width}&height={height}", g = { panoId: a, panoHeading: b || 0, panoPitch: c || 0, width: d, height: e }, f = f.replace(/\{(.*?)\}/g, function (a, b) { return g[b] }); return (a = Hc(f)) ? (a = Yc(a.path, { Ip: q }), f + ("&" + a)) : p } }); var of = document, pf = Math, qf = of.createElement("div").style, rf; a: { for (var sf = ["t", "webkitT", "MozT", "msT", "OT"], tf, uf = 0, vf = sf.length; uf < vf; uf++)if (tf = sf[uf] + "ransform", tf in qf) { rf = sf[uf].substr(0, sf[uf].length - 1); break a } rf = q } var wf = rf ? "-" + rf.toLowerCase() + "-" : "", yf = xf("transform"), zf = xf("transitionProperty"), Af = xf("transitionDuration"), Bf = xf("transformOrigin"), Cf = xf("transitionTimingFunction"), Df = xf("transitionDelay"), Pe = /android/gi.test(navigator.appVersion), Ef = /iphone|ipad/gi.test(navigator.appVersion), Ff = /hp-tablet/gi.test(navigator.appVersion), Gf = xf("perspective") in qf, Hf = "ontouchstart" in window && !Ff, If = rf !== q, Jf = xf("transition") in qf, Kf = "onorientationchange" in window ? "orientationchange" : "resize", Lf = Hf ? "touchstart" : "mousedown", Mf = Hf ? "touchmove" : "mousemove", Pf = Hf ? "touchend" : "mouseup", Qf = Hf ? "touchcancel" : "mouseup", Rf = rf === q ? q : { "": "transitionend", webkit: "webkitTransitionEnd", Moz: "transitionend", O: "otransitionend", ms: "MSTransitionEnd" }[rf], Sf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) { return setTimeout(a, 1) }, Tf = window.cancelRequestAnimationFrame || window.M5 || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout, Uf = Gf ? " translateZ(0)" : ""; function Vf(a, b) { var c = this, d; c.Nn = "object" == typeof a ? a : of.getElementById(a); c.Nn.style.overflow = "hidden"; c.Nb = c.Nn.children[0]; c.options = { Cp: o, Hn: o, x: 0, y: 0, Wo: o, WV: q, Dy: o, jF: o, cl: o, Hi: q, s0: 0, fx: q, ey: o, ti: o, Ii: o, XD: Pe, hy: Ef, sX: Ef && Gf, SF: "", zoom: q, gl: 1, yq: 4, $W: 2, IP: "scroll", Au: q, nz: 1, QN: p, IN: function (a) { a.preventDefault() }, TN: p, HN: p, SN: p, GN: p, Jy: p, UN: p, LN: p, Up: p, VN: p, Tp: p }; for (d in b) c.options[d] = b[d]; c.x = c.options.x; c.y = c.options.y; c.options.cl = If && c.options.cl; c.options.ti = c.options.Cp && c.options.ti; c.options.Ii = c.options.Hn && c.options.Ii; c.options.zoom = c.options.cl && c.options.zoom; c.options.Hi = Jf && c.options.Hi; c.options.zoom && Pe && (Uf = ""); c.Nb.style[zf] = c.options.cl ? wf + "transform" : "top left"; c.Nb.style[Af] = "0"; c.Nb.style[Bf] = "0 0"; c.options.Hi && (c.Nb.style[Cf] = "cubic-bezier(0.33,0.66,0.66,1)"); c.options.cl ? c.Nb.style[yf] = "translate(" + c.x + "px," + c.y + "px)" + Uf : c.Nb.style.cssText += ";position:absolute;top:" + c.y + "px;left:" + c.x + "px"; c.options.Hi && (c.options.XD = o); c.refresh(); c.da(Kf, window); c.da(Lf); !Hf && "none" != c.options.IP && (c.da("DOMMouseScroll"), c.da("mousewheel")); c.options.fx && (c.gW = setInterval(function () { c.gR() }, 500)); this.options.ey && (Event.prototype.stopImmediatePropagation || (document.body.removeEventListener = function (a, b, c) { var d = Node.prototype.removeEventListener; a === "click" ? d.call(document.body, a, b.yM || b, c) : d.call(document.body, a, b, c) }, document.body.addEventListener = function (a, b, c) { var d = Node.prototype.addEventListener; a === "click" ? d.call(document.body, a, b.yM || (b.yM = function (a) { a.XZ || b(a) }), c) : d.call(document.body, a, b, c) }), c.da("click", document.body, o)) } Vf.prototype = { enabled: o, x: 0, y: 0, Hj: [], scale: 1, bD: 0, cD: 0, Ve: [], vf: [], zC: p, Az: 0, handleEvent: function (a) { switch (a.type) { case Lf: if (!Hf && 0 !== a.button) break; this.sw(a); break; case Mf: this.OT(a); break; case Pf: case Qf: this.Bv(a); break; case Kf: this.TB(); break; case "DOMMouseScroll": case "mousewheel": this.sV(a); break; case Rf: this.oV(a); break; case "click": this.rR(a) } }, gR: function () { !this.uh && (!this.hl && !(this.im || this.az == this.Nb.offsetWidth * this.scale && this.fq == this.Nb.offsetHeight * this.scale)) && this.refresh() }, hw: function (a) { var b; this[a + "Scrollbar"] ? (this[a + "ScrollbarWrapper"] || (b = of.createElement("div"), this.options.SF ? b.className = this.options.SF + a.toUpperCase() : b.style.cssText = "position:absolute;z-index:100;" + ("h" == a ? "height:7px;bottom:1px;left:2px;right:" + (this.Ii ? "7" : "2") + "px" : "width:7px;bottom:" + (this.ti ? "7" : "2") + "px;top:2px;right:1px"), b.style.cssText += ";pointer-events:none;" + wf + "transition-property:opacity;" + wf + "transition-duration:" + (this.options.sX ? "350ms" : "0") + ";overflow:hidden;opacity:" + (this.options.hy ? "0" : "1"), this.Nn.appendChild(b), this[a + "ScrollbarWrapper"] = b, b = of.createElement("div"), this.options.SF || (b.style.cssText = "position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);" + wf + "background-clip:padding-box;" + wf + "box-sizing:border-box;" + ("h" == a ? "height:100%" : "width:100%") + ";" + wf + "border-radius:3px;border-radius:3px"), b.style.cssText += ";pointer-events:none;" + wf + "transition-property:" + wf + "transform;" + wf + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);" + wf + "transition-duration:0;" + wf + "transform: translate(0,0)" + Uf, this.options.Hi && (b.style.cssText += ";" + wf + "transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"), this[a + "ScrollbarWrapper"].appendChild(b), this[a + "ScrollbarIndicator"] = b), "h" == a ? (this.vM = this.wM.clientWidth, this.HY = pf.max(pf.round(this.vM * this.vM / this.az), 8), this.GY.style.width = this.HY + "px") : (this.xP = this.yP.clientHeight, this.N0 = pf.max(pf.round(this.xP * this.xP / this.fq), 8), this.M0.style.height = this.N0 + "px"), this.UB(a, o)) : this[a + "ScrollbarWrapper"] && (If && (this[a + "ScrollbarIndicator"].style[yf] = ""), this[a + "ScrollbarWrapper"].parentNode.removeChild(this[a + "ScrollbarWrapper"]), this[a + "ScrollbarWrapper"] = p, this[a + "ScrollbarIndicator"] = p) }, TB: function () { var a = this; setTimeout(function () { a.refresh() }, Pe ? 200 : 0) }, Zr: function (a, b) { this.hl || (a = this.Cp ? a : 0, b = this.Hn ? b : 0, this.options.cl ? this.Nb.style[yf] = "translate(" + a + "px," + b + "px) scale(" + this.scale + ")" + Uf : (a = pf.round(a), b = pf.round(b), this.Nb.style.left = a + "px", this.Nb.style.top = b + "px"), this.x = a, this.y = b, this.UB("h"), this.UB("v")) }, UB: function (a, b) { var c = "h" == a ? this.x : this.y; this[a + "Scrollbar"] && (c *= this[a + "ScrollbarProp"], 0 > c ? (this.options.XD || (c = this[a + "ScrollbarIndicatorSize"] + pf.round(3 * c), 8 > c && (c = 8), this[a + "ScrollbarIndicator"].style["h" == a ? "width" : "height"] = c + "px"), c = 0) : c > this[a + "ScrollbarMaxScroll"] && (this.options.XD ? c = this[a + "ScrollbarMaxScroll"] : (c = this[a + "ScrollbarIndicatorSize"] - pf.round(3 * (c - this[a + "ScrollbarMaxScroll"])), 8 > c && (c = 8), this[a + "ScrollbarIndicator"].style["h" == a ? "width" : "height"] = c + "px", c = this[a + "ScrollbarMaxScroll"] + (this[a + "ScrollbarIndicatorSize"] - c))), this[a + "ScrollbarWrapper"].style[Df] = "0", this[a + "ScrollbarWrapper"].style.opacity = b && this.options.hy ? "0" : "1", this[a + "ScrollbarIndicator"].style[yf] = "translate(" + ("h" == a ? c + "px,0)" : "0," + c + "px)") + Uf) }, rR: function (a) { if (a.mS === o) return this.rC = a.target, this.Ix = Date.now(), o; if (this.rC && this.Ix) { if (600 < Date.now() - this.Ix) return this.Ix = this.rC = p, o } else { for (var b = a.target; b != this.Nb && b != document.body;)b = b.parentNode; if (b == document.body) return o } for (b = a.target; 1 != b.nodeType;)b = b.parentNode; b = b.tagName.toLowerCase(); if ("select" != b && "input" != b && "textarea" != b) return a.stopImmediatePropagation ? a.stopImmediatePropagation() : a.XZ = o, a.stopPropagation(), a.preventDefault(), this.Ix = this.rC = p, q }, sw: function (a) { var b = Hf ? a.touches[0] : a, c, d; if (this.enabled) { this.options.IN && this.options.IN.call(this, a); (this.options.Hi || this.options.zoom) && this.YJ(0); this.hl = this.im = this.uh = q; this.lD = this.kD = this.Kw = this.Jw = this.rD = this.qD = 0; this.options.zoom && (Hf && 1 < a.touches.length) && (d = pf.abs(a.touches[0].pageX - a.touches[1].pageX), c = pf.abs(a.touches[0].pageY - a.touches[1].pageY), this.u0 = pf.sqrt(d * d + c * c), this.Ly = pf.abs(a.touches[0].pageX + a.touches[1].pageX - 2 * this.CG) / 2 - this.x, this.My = pf.abs(a.touches[0].pageY + a.touches[1].pageY - 2 * this.DG) / 2 - this.y, this.options.Up && this.options.Up.call(this, a)); if (this.options.Dy && (this.options.cl ? (c = getComputedStyle(this.Nb, p)[yf].replace(/[^0-9\-.,]/g, "").split(","), d = +(c[12] || c[4]), c = +(c[13] || c[5])) : (d = +getComputedStyle(this.Nb, p).left.replace(/[^0-9-]/g, ""), c = +getComputedStyle(this.Nb, p).top.replace(/[^0-9-]/g, "")), d != this.x || c != this.y)) this.options.Hi ? this.ae(Rf) : Tf(this.zC), this.Hj = [], this.Zr(d, c), this.options.Jy && this.options.Jy.call(this); this.Lw = this.x; this.Mw = this.y; this.Eu = this.x; this.Fu = this.y; this.xh = b.pageX; this.yh = b.pageY; this.startTime = a.timeStamp || Date.now(); this.options.TN && this.options.TN.call(this, a); this.da(Mf, window); this.da(Pf, window); this.da(Qf, window) } }, OT: function (a) { var b = Hf ? a.touches[0] : a, c = b.pageX - this.xh, d = b.pageY - this.yh, e = this.x + c, f = this.y + d, g = a.timeStamp || Date.now(); this.options.HN && this.options.HN.call(this, a); if (this.options.zoom && Hf && 1 < a.touches.length) e = pf.abs(a.touches[0].pageX - a.touches[1].pageX), f = pf.abs(a.touches[0].pageY - a.touches[1].pageY), this.t0 = pf.sqrt(e * e + f * f), this.hl = o, b = 1 / this.u0 * this.t0 * this.scale, b < this.options.gl ? b = 0.5 * this.options.gl * Math.pow(2, b / this.options.gl) : b > this.options.yq && (b = 2 * this.options.yq * Math.pow(0.5, this.options.yq / b)), this.Np = b / this.scale, e = this.Ly - this.Ly * this.Np + this.x, f = this.My - this.My * this.Np + this.y, this.Nb.style[yf] = "translate(" + e + "px," + f + "px) scale(" + b + ")" + Uf, this.options.VN && this.options.VN.call(this, a); else { this.xh = b.pageX; this.yh = b.pageY; if (0 < e || e < this.ke) e = this.options.Wo ? this.x + c / 2 : 0 <= e || 0 <= this.ke ? 0 : this.ke; if (f > this.sf || f < this.qd) f = this.options.Wo ? this.y + d / 2 : f >= this.sf || 0 <= this.qd ? this.sf : this.qd; this.qD += c; this.rD += d; this.Jw = pf.abs(this.qD); this.Kw = pf.abs(this.rD); 6 > this.Jw && 6 > this.Kw || (this.options.jF && (this.Jw > this.Kw + 5 ? (f = this.y, d = 0) : this.Kw > this.Jw + 5 && (e = this.x, c = 0)), this.uh = o, this.Zr(e, f), this.kD = 0 < c ? -1 : 0 > c ? 1 : 0, this.lD = 0 < d ? -1 : 0 > d ? 1 : 0, 300 < g - this.startTime && (this.startTime = g, this.Eu = this.x, this.Fu = this.y), this.options.SN && this.options.SN.call(this, a)) } }, Bv: function (a) { if (!(Hf && 0 !== a.touches.length)) { var b = this, c = Hf ? a.changedTouches[0] : a, d, e, f = { Ca: 0, time: 0 }, g = { Ca: 0, time: 0 }, i = (a.timeStamp || Date.now()) - b.startTime; d = b.x; e = b.y; b.ae(Mf, window); b.ae(Pf, window); b.ae(Qf, window); b.options.GN && b.options.GN.call(b, a); if (b.hl) d = b.scale * b.Np, d = Math.max(b.options.gl, d), d = Math.min(b.options.yq, d), b.Np = d / b.scale, b.scale = d, b.x = b.Ly - b.Ly * b.Np + b.x, b.y = b.My - b.My * b.Np + b.y, b.Nb.style[Af] = "200ms", b.Nb.style[yf] = "translate(" + b.x + "px," + b.y + "px) scale(" + b.scale + ")" + Uf, b.hl = q, b.refresh(), b.options.Tp && b.options.Tp.call(b, a); else { if (b.uh) { if (300 > i && b.options.Dy) { f = d ? b.WI(d - b.Eu, i, -b.x, b.az - b.Tu + b.x, b.options.Wo ? b.Tu : 0) : f; g = e ? b.WI(e - b.Fu, i, -b.y, 0 > b.qd ? b.fq - b.On + b.y - b.sf : 0, b.options.Wo ? b.On : 0) : g; d = b.x + f.Ca; e = b.y + g.Ca; if (0 < b.x && 0 < d || b.x < b.ke && d < b.ke) f = { Ca: 0, time: 0 }; if (b.y > b.sf && e > b.sf || b.y < b.qd && e < b.qd) g = { Ca: 0, time: 0 } } f.Ca || g.Ca ? (c = pf.max(pf.max(f.time, g.time), 10), b.options.Au && (f = d - b.Lw, g = e - b.Mw, pf.abs(f) < b.options.nz && pf.abs(g) < b.options.nz ? b.scrollTo(b.Lw, b.Mw, 200) : (f = b.PJ(d, e), d = f.x, e = f.y, c = pf.max(f.time, c))), b.scrollTo(pf.round(d), pf.round(e), c)) : b.options.Au ? (f = d - b.Lw, g = e - b.Mw, pf.abs(f) < b.options.nz && pf.abs(g) < b.options.nz ? b.scrollTo(b.Lw, b.Mw, 200) : (f = b.PJ(b.x, b.y), (f.x != b.x || f.y != b.y) && b.scrollTo(f.x, f.y, f.time))) : b.Ao(200) } else { if (Hf) if (b.nL && b.options.zoom) clearTimeout(b.nL), b.nL = p, b.options.Up && b.options.Up.call(b, a), b.zoom(b.xh, b.yh, 1 == b.scale ? b.options.$W : 1), b.options.Tp && setTimeout(function () { b.options.Tp.call(b, a) }, 200); else if (this.options.ey) { for (d = c.target; 1 != d.nodeType;)d = d.parentNode; e = d.tagName.toLowerCase(); "select" != e && "input" != e && "textarea" != e ? (e = of.createEvent("MouseEvents"), e.initMouseEvent("click", o, o, a.view, 1, c.screenX, c.screenY, c.clientX, c.clientY, a.ctrlKey, a.altKey, a.shiftKey, a.metaKey, 0, p), e.mS = o, d.dispatchEvent(e)) : d.focus() } b.Ao(400) } b.options.UN && b.options.UN.call(b, a) } } }, Ao: function (a) { var b = 0 <= this.x ? 0 : this.x < this.ke ? this.ke : this.x, c = this.y >= this.sf || 0 < this.qd ? this.sf : this.y < this.qd ? this.qd : this.y; if (b == this.x && c == this.y) { if (this.uh && (this.uh = q, this.options.Jy && this.options.Jy.call(this)), this.ti && this.options.hy && ("webkit" == rf && (this.wM.style[Df] = "300ms"), this.wM.style.opacity = "0"), this.Ii && this.options.hy) "webkit" == rf && (this.yP.style[Df] = "300ms"), this.yP.style.opacity = "0" } else this.scrollTo(b, c, a || 0) }, sV: function (a) { var b = this, c, d; if ("wheelDeltaX" in a) c = a.wheelDeltaX / 12, d = a.wheelDeltaY / 12; else if ("wheelDelta" in a) c = d = a.wheelDelta / 12; else if ("detail" in a) c = d = 3 * -a.detail; else return; if ("zoom" == b.options.IP) { if (d = b.scale * Math.pow(2, 1 / 3 * (d ? d / Math.abs(d) : 0)), d < b.options.gl && (d = b.options.gl), d > b.options.yq && (d = b.options.yq), d != b.scale) !b.Az && b.options.Up && b.options.Up.call(b, a), b.Az++, b.zoom(a.pageX, a.pageY, d, 400), setTimeout(function () { b.Az--; !b.Az && b.options.Tp && b.options.Tp.call(b, a) }, 400) } else c = b.x + c, d = b.y + d, 0 < c ? c = 0 : c < b.ke && (c = b.ke), d > b.sf ? d = b.sf : d < b.qd && (d = b.qd), 0 > b.qd && b.scrollTo(c, d, 0) }, oV: function (a) { a.target == this.Nb && (this.ae(Rf), this.fC()) }, fC: function () { var a = this, b = a.x, c = a.y, d = Date.now(), e, f, g; a.im || (a.Hj.length ? (e = a.Hj.shift(), e.x == b && e.y == c && (e.time = 0), a.im = o, a.uh = o, a.options.Hi) ? (a.YJ(e.time), a.Zr(e.x, e.y), a.im = q, e.time ? a.da(Rf) : a.Ao(0)) : (g = function () { var i = Date.now(), j; if (i >= d + e.time) { a.Zr(e.x, e.y); a.im = q; a.options.GZ && a.options.GZ.call(a); a.fC() } else { i = (i - d) / e.time - 1; f = pf.sqrt(1 - i * i); i = (e.x - b) * f + b; j = (e.y - c) * f + c; a.Zr(i, j); if (a.im) a.zC = Sf(g) } }, g()) : a.Ao(400)) }, YJ: function (a) { a += "ms"; this.Nb.style[Af] = a; this.ti && (this.GY.style[Af] = a); this.Ii && (this.M0.style[Af] = a) }, WI: function (a, b, c, d, e) { var b = pf.abs(a) / b, f = b * b / 0.0012; 0 < a && f > c ? (c += e / (6 / (6.0E-4 * (f / b))), b = b * c / f, f = c) : 0 > a && f > d && (d += e / (6 / (6.0E-4 * (f / b))), b = b * d / f, f = d); return { Ca: f * (0 > a ? -1 : 1), time: pf.round(b / 6.0E-4) } }, hk: function (a) { for (var b = -a.offsetLeft, c = -a.offsetTop; a = a.offsetParent;)b -= a.offsetLeft, c -= a.offsetTop; a != this.Nn && (b *= this.scale, c *= this.scale); return { left: b, top: c } }, PJ: function (a, b) { var c, d, e; e = this.Ve.length - 1; c = 0; for (d = this.Ve.length; c < d; c++)if (a >= this.Ve[c]) { e = c; break } e == this.bD && (0 < e && 0 > this.kD) && e--; a = this.Ve[e]; d = (d = pf.abs(a - this.Ve[this.bD])) ? 500 * (pf.abs(this.x - a) / d) : 0; this.bD = e; e = this.vf.length - 1; for (c = 0; c < e; c++)if (b >= this.vf[c]) { e = c; break } e == this.cD && (0 < e && 0 > this.lD) && e--; b = this.vf[e]; c = (c = pf.abs(b - this.vf[this.cD])) ? 500 * (pf.abs(this.y - b) / c) : 0; this.cD = e; e = pf.round(pf.max(d, c)) || 200; return { x: a, y: b, time: e } }, da: function (a, b, c) { (b || this.Nb).addEventListener(a, this, !!c) }, ae: function (a, b, c) { (b || this.Nb).removeEventListener(a, this, !!c) }, hD: ha(2), refresh: function () { var a, b, c, d = 0; b = 0; this.scale < this.options.gl && (this.scale = this.options.gl); this.Tu = this.Nn.clientWidth || 1; this.On = this.Nn.clientHeight || 1; this.sf = -this.options.s0 || 0; this.az = pf.round(this.Nb.offsetWidth * this.scale); this.fq = pf.round((this.Nb.offsetHeight + this.sf) * this.scale); this.ke = this.Tu - this.az; this.qd = this.On - this.fq + this.sf; this.lD = this.kD = 0; this.options.QN && this.options.QN.call(this); this.Cp = this.options.Cp && 0 > this.ke; this.Hn = this.options.Hn && (!this.options.WV && !this.Cp || this.fq > this.On); this.ti = this.Cp && this.options.ti; this.Ii = this.Hn && this.options.Ii && this.fq > this.On; a = this.hk(this.Nn); this.CG = -a.left; this.DG = -a.top; if ("string" == typeof this.options.Au) { this.Ve = []; this.vf = []; c = this.Nb.querySelectorAll(this.options.Au); a = 0; for (b = c.length; a < b; a++)d = this.hk(c[a]), d.left += this.CG, d.top += this.DG, this.Ve[a] = d.left < this.ke ? this.ke : d.left * this.scale, this.vf[a] = d.top < this.qd ? this.qd : d.top * this.scale } else if (this.options.Au) { for (this.Ve = []; d >= this.ke;)this.Ve[b] = d, d -= this.Tu, b++; this.ke % this.Tu && (this.Ve[this.Ve.length] = this.ke - this.Ve[this.Ve.length - 1] + this.Ve[this.Ve.length - 1]); b = d = 0; for (this.vf = []; d >= this.qd;)this.vf[b] = d, d -= this.On, b++; this.qd % this.On && (this.vf[this.vf.length] = this.qd - this.vf[this.vf.length - 1] + this.vf[this.vf.length - 1]) } this.hw("h"); this.hw("v"); this.hl || (this.Nb.style[Af] = "0", this.Ao(400)) }, scrollTo: function (a, b, c, d) { var e = a; this.stop(); e.length || (e = [{ x: a, y: b, time: c, ZZ: d }]); a = 0; for (b = e.length; a < b; a++)e[a].ZZ && (e[a].x = this.x - e[a].x, e[a].y = this.y - e[a].y), this.Hj.push({ x: e[a].x, y: e[a].y, time: e[a].time || 0 }); this.fC() }, disable: function () { this.stop(); this.Ao(0); this.enabled = q; this.ae(Mf, window); this.ae(Pf, window); this.ae(Qf, window) }, enable: function () { this.enabled = o }, stop: function () { this.options.Hi ? this.ae(Rf) : Tf(this.zC); this.Hj = []; this.im = this.uh = q }, zoom: function (a, b, c, d) { var e = c / this.scale; this.options.cl && (this.hl = o, d = d === k ? 200 : d, a = a - this.CG - this.x, b = b - this.DG - this.y, this.x = a - a * e + this.x, this.y = b - b * e + this.y, this.scale = c, this.refresh(), this.x = 0 < this.x ? 0 : this.x < this.ke ? this.ke : this.x, this.y = this.y > this.sf ? this.sf : this.y < this.qd ? this.qd : this.y, this.Nb.style[Af] = d + "ms", this.Nb.style[yf] = "translate(" + this.x + "px," + this.y + "px) scale(" + c + ")" + Uf, this.hl = q) } }; function xf(a) { if ("" === rf) return a; a = a.charAt(0).toUpperCase() + a.substr(1); return rf + a } qf = p; function Wf(a) { this.k = { anchor: cd, offset: new M(0, 0), maxWidth: "100%", imageHeight: 80 }; var a = a || {}, b; for (b in a) this.k[b] = a[b]; this.Vl = new jd(p, { of: "api" }); this.ik = []; this.P = p; this.fg = { height: this.k.imageHeight, width: this.k.imageHeight * Xf }; this.Pc = this.VB = this.nm = this.Xc = p } var Yf = [0, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 5, 5, 5, 6, 6, 7, 8, 8, 8, 9, 10], Zf = "\u5176\u4ed6 \u6b63\u95e8 \u623f\u578b \u8bbe\u65bd \u6b63\u95e8 \u9910\u996e\u8bbe\u65bd \u5176\u4ed6\u8bbe\u65bd \u6b63\u95e8 \u8bbe\u65bd \u89c2\u5f71\u5385 \u5176\u4ed6\u8bbe\u65bd".split(" "); B.hn(function (a) { var b = p; a.addEventListener("position_changed", function () { a.k.visible && a.k.albumsControl === o && (b ? b.Vy(a.Yb()) : (b = new Wf(a.k.albumsControlOptions), b.ra(a))) }); a.addEventListener("albums_visible_changed", function () { a.k.albumsControl === o ? (b ? b.Vy(a.Yb()) : (b = new Wf(a.k.albumsControlOptions), b.ra(a)), b.show()) : b.U() }); a.addEventListener("albums_options_changed", function () { b && b.Gj(a.k.albumsControlOptions) }); a.addEventListener("visible_changed", function () { b && (a.EE() ? a.k.albumsControl === o && (b.C.style.visibility = "visible") : b.C.style.visibility = "hidden") }) }); var Xf = 1.8; J() && (Xf = 1); x.extend(Wf.prototype, { Gj: function (a) { for (var b in a) this.k[b] = a[b]; a = this.k.imageHeight + "px"; this.qc(this.k.anchor); this.C.style.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px"; this.C.style.height = a; this.nk.style.height = a; this.ai.style.height = a; this.fg = { height: this.k.imageHeight, width: this.k.imageHeight * Xf }; this.mk.style.height = this.fg.height - 6 + "px"; this.mk.style.width = this.fg.width - 6 + "px"; this.Vy(this.P.Yb(), o) }, ra: function (a) { this.P = a; this.Hs(); this.QQ(); this.UY(); this.Vy(a.Yb()) }, Hs: function () { var a = this.k.imageHeight + "px"; this.C = H("div"); var b = this.C.style; b.cssText = "background:rgb(37,37,37);background:rgba(37,37,37,0.9);"; b.position = "absolute"; b.zIndex = "2000"; b.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px"; b.padding = "8px 0"; b.visibility = "hidden"; b.height = a; this.nk = H("div"); b = this.nk.style; b.position = "absolute"; b.overflow = "hidden"; b.width = "100%"; b.height = a; this.ai = H("div"); b = this.ai.style; b.height = a; this.nk.appendChild(this.ai); this.C.appendChild(this.nk); this.P.C.appendChild(this.C); this.mk = H("div", { "class": "pano_photo_item_seleted" }); this.mk.style.height = this.fg.height - 6 + "px"; this.mk.style.width = this.fg.width - 6 + "px"; this.qc(this.k.anchor) }, lI: function (a) { for (var b = this.ik, c = b.length - 1; 0 <= c; c--)if (b[c].panoId == a) return c; return -1 }, Vy: function (a, b) { if (b || !this.ik[this.Xc] || !(this.ik[this.Xc].panoId == a && 3 !== this.ik[this.Xc].recoType)) { var c = this, d = this.lI(a); !b && -1 !== d && this.ik[d] && 3 !== this.ik[d].recoType ? this.jq(d) : this.mY(function (a) { for (var b = {}, d, i, j = q, l = [], m = 0, n = a.length; m < n; m++)d = a[m].catlog, i = a[m].floor, k !== d && ("" === d && k !== i ? (j = o, b[i] || (b[i] = []), b[i].push(a[m])) : (b[Yf[d]] || (b[Yf[d]] = []), b[Yf[d]].push(a[m]))); for (var s in b) j ? l.push({ data: s + "F", index: s }) : l.push({ data: Zf[s], index: s }); c.CH = b; c.Vi = l; c.Rl(a); 0 == a.length ? c.U() : c.show() }) } }, GW: function () { if (!this.Si) { var a = this.aY(this.Vi), b = H("div"); b.style.cssText = ["width:" + 134 * this.Vi.length + "px;", "overflow:hidden;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;"].join(""); b.innerHTML = a; a = H("div"); a.appendChild(b); a.style.cssText = "position:absolute;top:-25px;background:rgb(37,37,37);background:rgba(37,37,37,0.9);border-bottom:1px solid #4e596a;width:100%;line-height:25px;height:25px;overflow:scroll;outline:0"; new Vf(a, { Wo: q, Dy: o, ti: q, Ii: q, Hn: q, jF: o, fx: o, ey: o }); this.C.appendChild(a); for (var c = this, d = b.getElementsByTagName("span"), e = 0, f = d.length; e < f; e++)b = d[e], x.M(b, "click", function () { if (this.getAttribute("dataindex")) { c.Rl(c.CH[this.getAttribute("dataindex")]); for (var a = 0, b = d.length; a < b; a++)d[a].style.color = "#FFFFFF"; this.style.color = "#3383FF" } }); this.Si = a } }, DW: function () { if (this.Si) a = this.UL(this.Vi), this.fR.innerHTML = a; else { var a = this.UL(this.Vi), b = H("ul"), c = this; b.style.cssText = "list-style: none;padding:0px;margin:0px;display:block;width:60px;position:absolute;top:7px"; b.innerHTML = a; x.M(b, "click", function (a) { if (a = (a.srcElement || a.target).getAttribute("dataindex")) { c.Rl(c.CH[a]); for (var d = b.getElementsByTagName("li"), e = 0, f = d.length; e < f; e++)d[e].childNodes[0].getAttribute("dataindex") === a ? x.K.Ta(d[e], "pano_catlogLiActive") : x.K.Tb(d[e], "pano_catlogLiActive") } }); var a = H("div"), d = H("a"), e = H("span"), f = H("a"), g = H("span"), i = ["background:url(" + I.pa + "panorama/catlog_icon.png) no-repeat;", "display:block;width:10px;height:7px;margin:0 auto;"].join(""); e.style.cssText = i + "background-position:-18px 0;"; d.style.cssText = "background:#1C1C1C;display:block;position:absolute;width:58px;"; g.style.cssText = i + "background-position:0 0;"; f.style.cssText = "background:#1C1C1C;display:block;position:absolute;width:58px;"; f.style.top = this.k.imageHeight - 7 + "px"; a.style.cssText = "position:absolute;top:0px;left:0px;width:60px;"; d.appendChild(e); f.appendChild(g); x.M(d, "mouseover", function () { var a = parseInt(b.style.top, 10); 7 !== a && (e.style.backgroundPosition = "-27px 0"); new yb({ Hc: 60, hc: zb.bt, duration: 300, va: function (c) { b.style.top = a + (7 - a) * c + "px" } }) }); x.M(d, "mouseout", function () { e.style.backgroundPosition = "-18px 0" }); x.M(f, "mouseover", function () { var a = parseInt(b.style.top, 10), d = c.k.imageHeight - 14; if (!(parseInt(b.offsetHeight, 10) < d)) { var e = d - parseInt(b.offsetHeight, 10) + 7; e !== a && (g.style.backgroundPosition = "-9px 0"); new yb({ Hc: 60, hc: zb.bt, duration: 300, va: function (c) { b.style.top = a + (e - a) * c + "px" } }) } }); x.M(f, "mouseout", function () { g.style.backgroundPosition = "0 0" }); a.appendChild(d); a.appendChild(f); d = H("div"); d.style.cssText = ["position:absolute;z-index:2001;left:20px;", "height:" + this.k.imageHeight + "px;", "width:62px;overflow:hidden;background:rgb(37,37,37);background:rgba(37,37,37,0.9);"].join(""); d.appendChild(b); d.appendChild(a); this.Si = d; this.fR = b; this.C.appendChild(d) } }, EW: function () { if (this.Vi && !(0 >= this.Vi.length)) { var a = H("div"); a.innerHTML = this.DA; a.style.cssText = "position:absolute;background:#252525"; this.C.appendChild(a); this.gt = a; this.Pc.gg.style.left = this.fg.width + 8 + "px"; this.Si && (this.Si.style.left = parseInt(this.Si.style.left, 10) + this.fg.width + 8 + "px"); var b = this; x.M(a, "click", function () { b.P.rc(b.oX) }) } }, Rl: function (a) { this.ik = a; this.k.showCatalog && (0 < this.Vi.length ? ($a() ? this.DW() : this.GW(), this.Pc.offsetLeft = 60) : (this.gt && (this.C.removeChild(this.gt), this.gt = p, this.Pc.gg.style.left = "0px"), this.Si && (this.C.removeChild(this.Si), this.Si = p), this.Pc.offsetLeft = 0)); var b = this.VX(a); $a() && (this.Vi && 0 < this.Vi.length && this.k.showExit && this.DA) && (this.Pc.offsetLeft += this.fg.width + 8, this.gt ? this.gt.innerHTML = this.DA : this.EW()); this.ai.innerHTML = b; this.ai.style.width = (this.fg.width + 8) * a.length + 8 + "px"; a = this.C.offsetWidth; b = this.ai.offsetWidth; this.Pc.nt && (b += this.Pc.nt()); b < a - 2 * this.Pc.Mi - this.Pc.offsetLeft ? this.C.style.width = b + this.Pc.offsetLeft + "px" : (this.C.style.width = isNaN(Number(this.k.maxWidth)) === o ? this.k.maxWidth : this.k.maxWidth + "px", b < this.C.offsetWidth - 2 * this.Pc.Mi - this.Pc.offsetLeft && (this.C.style.width = b + this.Pc.offsetLeft + "px")); this.Pc.refresh(); this.VB = this.ai.children; this.ai.appendChild(this.mk); this.mk.style.left = "-100000px"; a = this.lI(this.P.Yb(), this.d2); -1 !== a && this.jq(a) }, aY: function (a) { for (var b = "", c, d = 0, e = a.length; d < e; d++)c = '<div style="color:white;opacity:0.5;margin:0 35px;float:left;text-align: center"><span  dataIndex="' + a[d].index + '">' + a[d].data + "</span></div>", b += c; return b }, UL: function (a) { for (var b = "", c, d = 0, e = a.length; d < e; d++)c = '<li class="pano_catlogLi"><span style="display:block;width:100%;" dataIndex="' + a[d].index + '">' + a[d].data + "</span></li>", b += c; return b }, VX: function (a) { for (var b, c, d, e, f = [], g = this.fg.height, i = this.fg.width, j = 0; j < a.length; j++)b = a[j], recoType = b.recoType, d = b.panoId, e = b.name, c = b.heading, b = b.pitch, c = nf.fM(d, c, b, 198, 108), b = '<a href="javascript:void(0);" class="pano_photo_item" data-index="' + j + '"><img style="width:' + (i - 2) + "px;height:" + (g - 2) + 'px;" data-index="' + j + '" name="' + e + '" src="' + c + '" alt="' + e + '"/><span class="pano_photo_decs" data-index="' + j + '" style="width:' + i + "px;font-size:" + Math.floor(g / 6) + "px; line-height:" + Math.floor(g / 6) + 'px;"><em class="pano_poi_' + recoType + '"></em>' + e + "</span></a>", 3 === recoType ? $a() ? (this.DA = b, this.oX = d, a.splice(j, 1), j--) : (b = '<a href="javascript:void(0);" class="pano_photo_item" data-index="' + j + '"><img style="width:' + (i - 2) + "px;height:" + (g - 2) + 'px;" data-index="' + j + '" name="' + e + '" src="' + c + '" alt="' + e + '"/><div style="background:rgba(37,37,37,0.5);position:absolute;top:0px;left:0px;width:100%;height:100%;text-align: center;line-height:' + this.k.imageHeight + 'px;" data-index="' + j + '"><img src="' + I.pa + 'panorama/photoexit.png" style="border:none;vertical-align:middle;" data-index="' + j + '" alt=""/></div></a>', f.push(b)) : f.push(b); return f.join("") }, mY: function (a) { var b = this, c = this.P.Yb(); c && this.Vl.ay(c, function (d) { b.P.Yb() === c && a(d) }) }, qc: function (a) { if (!bb(a) || isNaN(a) || a < ad || 3 < a) a = this.defaultAnchor; var b = this.C, c = this.k.offset.width, d = this.k.offset.height; b.style.left = b.style.top = b.style.right = b.style.bottom = "auto"; switch (a) { case ad: b.style.top = d + "px"; b.style.left = c + "px"; break; case bd: b.style.top = d + "px"; b.style.right = c + "px"; break; case cd: b.style.bottom = d + "px"; b.style.left = c + "px"; break; case 3: b.style.bottom = d + "px", b.style.right = c + "px" } }, QQ: function () { this.OQ() }, OQ: function () { var a = this; x.M(this.C, "touchstart", function (a) { a.stopPropagation() }); x.M(this.nk, "click", function (b) { if ((b = (b.srcElement || b.target).getAttribute("data-index")) && b != a.Xc) a.jq(b), a.P.rc(a.ik[b].panoId) }); x.M(this.ai, "mouseover", function (b) { b = (b.srcElement || b.target).getAttribute("data-index"); b !== p && a.UK(b, o) }); this.P.addEventListener("size_changed", function () { isNaN(Number(a.k.maxWidth)) && a.Gj({ maxWidth: a.k.maxWidth }) }) }, jq: function (a) { this.mk.style.left = this.VB[a].offsetLeft + 8 + "px"; this.mk.setAttribute("data-index", this.VB[a].getAttribute("data-index")); this.Xc = a; this.UK(a) }, UK: function (a, b) { var c = this.fg.width + 8, d = 0; this.Pc.nt && (d = this.Pc.nt() / 2); var e = this.nk.offsetWidth - 2 * d, f = this.ai.offsetLeft || this.Pc.x, f = f - d, g = -a * c; g > f && this.Pc.scrollTo(g + d); c = g - c; f -= e; c < f && (!b || b && 8 < g - f) && this.Pc.scrollTo(c + e + d) }, UY: function () { this.Pc = J() ? new Vf(this.nk, { Wo: q, Dy: o, ti: q, Ii: q, Hn: q, jF: o, fx: o, ey: o }) : new $f(this.nk) }, U: function () { this.C.style.visibility = "hidden" }, show: function () { this.C.style.visibility = "visible" } }); function $f(a) { this.C = a; this.Xg = a.children[0]; this.ls = p; this.Mi = 20; this.offsetLeft = 0; this.ra() } $f.prototype = { ra: function () { this.Xg.style.position = "relative"; this.refresh(); this.Hs(); this.lm() }, refresh: function () { this.wo = this.C.offsetWidth - this.nt(); this.tB = -(this.Xg.offsetWidth - this.wo - this.Mi); this.Tv = this.Mi + this.offsetLeft; this.Xg.style.left = this.Tv + "px"; this.Xg.children[0] && (this.ls = this.Xg.children[0].offsetWidth); this.gg && (this.gg.children[0].style.marginTop = this.es.children[0].style.marginTop = this.gg.offsetHeight / 2 - this.gg.children[0].offsetHeight / 2 + "px") }, nt: function () { return 2 * this.Mi }, Hs: function () { this.jw = H("div"); this.jw.innerHTML = '<a class="pano_photo_arrow_l" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="\u4e0a\u4e00\u9875"><span class="pano_arrow_l"></span></a><a class="pano_photo_arrow_r" style="background:rgb(37,37,37);background:rgba(37,37,37,0.9);" href="javascript:void(0)" title="\u4e0b\u4e00\u9875"><span class="pano_arrow_r"></span></a>'; this.gg = this.jw.children[0]; this.es = this.jw.children[1]; this.C.appendChild(this.jw); this.gg.children[0].style.marginTop = this.es.children[0].style.marginTop = this.gg.offsetHeight / 2 - this.gg.children[0].offsetHeight / 2 + "px" }, lm: function () { var a = this; x.M(this.gg, "click", function () { a.scrollTo(a.Xg.offsetLeft + a.wo) }); x.M(this.es, "click", function () { a.scrollTo(a.Xg.offsetLeft - a.wo) }) }, pV: function () { x.K.Tb(this.gg, "pano_arrow_disable"); x.K.Tb(this.es, "pano_arrow_disable"); var a = this.Xg.offsetLeft; a >= this.Tv && x.K.Ta(this.gg, "pano_arrow_disable"); a - this.wo <= this.tB && x.K.Ta(this.es, "pano_arrow_disable") }, scrollTo: function (a) { a = a < this.Xg.offsetLeft ? Math.ceil((a - this.Mi - this.wo) / this.ls) * this.ls + this.wo + this.Mi - 8 : Math.ceil((a - this.Mi) / this.ls) * this.ls + this.Mi; a < this.tB ? a = this.tB : a > this.Tv && (a = this.Tv); var b = this.Xg.offsetLeft, c = this; new yb({ Hc: 60, hc: zb.bt, duration: 300, va: function (d) { c.Xg.style.left = b + (a - b) * d + "px" }, finish: function () { c.pV() } }) } }; B.Map = Na; B.Hotspot = ob; B.MapType = ce; B.Point = Q; B.Pixel = S; B.Size = M; B.Bounds = lb; B.TileLayer = Pd; B.Projection = od; B.MercatorProjection = T; B.PerspectiveProjection = nb; B.Copyright = function (a, b, c) { this.id = a; this.$a = b; this.content = c }; B.Overlay = rd; B.Label = Cd; B.GroundOverlay = Dd; B.PointCollection = Hd; B.Marker = W; B.Icon = yd; B.IconSequence = Ad; B.Symbol = zd; B.Polyline = Ld; B.Polygon = Kd; B.InfoWindow = Bd; B.Circle = Md; B.Control = $c; B.NavigationControl = pb; B.GeolocationControl = dd; B.OverviewMapControl = rb; B.CopyrightControl = ed; B.ScaleControl = qb; B.MapTypeControl = sb; B.CityListControl = fd; B.PanoramaControl = hd; B.TrafficLayer = Zd; B.CustomLayer = tb; B.ContextMenu = kd; B.MenuItem = nd; B.LocalSearch = hb; B.TransitRoute = De; B.DrivingRoute = Ge; B.WalkingRoute = He; B.Autocomplete = We; B.RouteSearch = Qe; B.Geocoder = Re; B.LocalCity = Te; B.Geolocation = Geolocation; B.Convertor = qd; B.BusLineSearch = Ve; B.Boundary = Ue; B.VectorCloudLayer = Xd; B.VectorTrafficLayer = Yd; B.Panorama = Qa; B.PanoramaLabel = bf; B.PanoramaService = jd; B.PanoramaCoverageLayer = id; B.PanoramaFlashInterface = lf; function U(a, b) { for (var c in b) a[c] = b[c] } U(window, { BMap: B, _jsload2: function (a, b) { ja.qz.dZ && ja.qz.set(a, b); L.fW(a, b) }, BMAP_API_VERSION: "2.0" }); var ag = Na.prototype; U(ag, { getBounds: ag.Kd, getCenter: ag.pc, getMapType: ag.oa, getSize: ag.vb, setSize: ag.Ce, getViewport: ag.Dt, getZoom: ag.ga, centerAndZoom: ag.Gd, panTo: ag.Bi, panBy: ag.Ag, setCenter: ag.Xf, setCurrentCity: ag.YF, setMapType: ag.Gg, setViewport: ag.Eh, setZoom: ag.Oc, highResolutionEnabled: ag.jy, zoomTo: ag.Jg, zoomIn: ag.EG, zoomOut: ag.FG, addHotspot: ag.Qw, removeHotspot: ag.a_, clearHotspots: ag.pm, checkResize: ag.iW, addControl: ag.Po, removeControl: ag.kO, getContainer: ag.Ga, addContextMenu: ag.Oo, removeContextMenu: ag.Zp, addOverlay: ag.Ka, removeOverlay: ag.Ub, clearOverlays: ag.RK, openInfoWindow: ag.Mb, closeInfoWindow: ag.Wc, pointToOverlayPixel: ag.We, overlayPixelToPoint: ag.XN, getInfoWindow: ag.mh, getOverlays: ag.Yx, getPanes: function () { return { floatPane: this.Zd.YD, markerMouseTarget: this.Zd.mF, floatShadow: this.Zd.ML, labelPane: this.Zd.eF, markerPane: this.Zd.rN, markerShadow: this.Zd.sN, mapPane: this.Zd.Vt, vertexPane: this.Zd.CP } }, addTileLayer: ag.ah, removeTileLayer: ag.Bh, pixelToPoint: ag.Bg, pointToPixel: ag.Xp, setFeatureStyle: ag.iq, selectBaseElement: ag.b5, setMapStyle: ag.pu, enable3DBuilding: ag.gp, disable3DBuilding: ag.UW, getPanorama: ag.Im, setBrowserContextmenu: ag.A_ }); var cg = ce.prototype; U(cg, { getTileLayer: cg.xY, getMinZoom: cg.rp, getMaxZoom: cg.Hm, getProjection: cg.Lm, getTextColor: cg.Om, getTips: cg.Ct }); U(window, { BMAP_NORMAL_MAP: Oa, BMAP_PERSPECTIVE_MAP: Ra, BMAP_SATELLITE_MAP: Xa, BMAP_HYBRID_MAP: Ta }); var dg = T.prototype; U(dg, { lngLatToPoint: dg.xy, pointToLngLat: dg.Fj }); var eg = nb.prototype; U(eg, { lngLatToPoint: eg.xy, pointToLngLat: eg.Fj }); var fg = lb.prototype; U(fg, { equals: fg.ab, containsPoint: fg.mx, containsBounds: fg.tW, intersects: fg.Mt, extend: fg.extend, getCenter: fg.pc, isEmpty: fg.Cj, getSouthWest: fg.xe, getNorthEast: fg.pf, toSpan: fg.sG }); var gg = rd.prototype; U(gg, { isVisible: gg.vg, show: gg.show, hide: gg.U }); rd.getZIndex = rd.Qm; var hg = mb.prototype; U(hg, { openInfoWindow: hg.Mb, closeInfoWindow: hg.Wc, enableMassClear: hg.sj, disableMassClear: hg.WW, show: hg.show, hide: hg.U, getMap: hg.Tx, addContextMenu: hg.Oo, removeContextMenu: hg.Zp }); var ig = W.prototype; U(ig, { setIcon: ig.Vb, getIcon: ig.qp, setPosition: ig.ta, getPosition: ig.ia, setOffset: ig.Ye, getOffset: ig.Qf, getLabel: ig.qE, setLabel: ig.xn, setTitle: ig.Dc, setTop: ig.Fi, enableDragging: ig.Gb, disableDragging: ig.nD, setZIndex: ig.uu, getMap: ig.Tx, setAnimation: ig.wn, setShadow: ig.hz, hide: ig.U, setRotation: ig.ez, getRotation: ig.jM }); U(window, { BMAP_ANIMATION_DROP: 1, BMAP_ANIMATION_BOUNCE: 2 }); var jg = Cd.prototype; U(jg, { setStyle: jg.bd, setStyles: jg.Ei, setContent: jg.ad, setPosition: jg.ta, getPosition: jg.ia, setOffset: jg.Ye, getOffset: jg.Qf, setTitle: jg.Dc, setZIndex: jg.uu, getMap: jg.Tx, getContent: jg.Dk }); var kg = yd.prototype; U(kg, { setImageUrl: kg.AO, setSize: kg.Ce, setAnchor: kg.qc, setImageOffset: kg.ou, setImageSize: kg.G_, setInfoWindowAnchor: kg.J_, setPrintImageUrl: kg.T_ }); var lg = Bd.prototype; U(lg, { redraw: lg.le, setTitle: lg.Dc, setContent: lg.ad, getContent: lg.Dk, getPosition: lg.ia, enableMaximize: lg.gh, disableMaximize: lg.Bx, isOpen: lg.Va, setMaxContent: lg.qu, maximize: lg.By, enableAutoPan: lg.ct }); var mg = wd.prototype; U(mg, { getPath: mg.ve, setPath: mg.me, setPositionAt: mg.zn, getStrokeColor: mg.sY, setStrokeWeight: mg.nq, getStrokeWeight: mg.mM, setStrokeOpacity: mg.lq, getStrokeOpacity: mg.tY, setFillOpacity: mg.nu, getFillOpacity: mg.QX, setStrokeStyle: mg.mq, getStrokeStyle: mg.lM, getFillColor: mg.PX, getBounds: mg.Kd, enableEditing: mg.mf, disableEditing: mg.VW, getEditing: mg.MX }); var ng = Md.prototype; U(ng, { setCenter: ng.Xf, getCenter: ng.pc, getRadius: ng.hM, setRadius: ng.wf }); var og = Kd.prototype; U(og, { getPath: og.ve, setPath: og.me, setPositionAt: og.zn }); var pg = ob.prototype; U(pg, { getPosition: pg.ia, setPosition: pg.ta, getText: pg.AE, setText: pg.tu }); Q.prototype.equals = Q.prototype.ab; S.prototype.equals = S.prototype.ab; M.prototype.equals = M.prototype.ab; U(window, { BMAP_ANCHOR_TOP_LEFT: ad, BMAP_ANCHOR_TOP_RIGHT: bd, BMAP_ANCHOR_BOTTOM_LEFT: cd, BMAP_ANCHOR_BOTTOM_RIGHT: 3 }); var qg = $c.prototype; U(qg, { setAnchor: qg.qc, getAnchor: qg.dE, setOffset: qg.Ye, getOffset: qg.Qf, show: qg.show, hide: qg.U, isVisible: qg.vg, toString: qg.toString }); var rg = pb.prototype; U(rg, { getType: rg.Ap, setType: rg.An }); U(window, { BMAP_NAVIGATION_CONTROL_LARGE: 0, BMAP_NAVIGATION_CONTROL_SMALL: 1, BMAP_NAVIGATION_CONTROL_PAN: 2, BMAP_NAVIGATION_CONTROL_ZOOM: 3 }); var sg = rb.prototype; U(sg, { changeView: sg.se, setSize: sg.Ce, getSize: sg.vb }); var tg = qb.prototype; U(tg, { getUnit: tg.BY, setUnit: tg.fG }); U(window, { BMAP_UNIT_METRIC: "metric", BMAP_UNIT_IMPERIAL: "us" }); var ug = ed.prototype; U(ug, { addCopyright: ug.Pw, removeCopyright: ug.JF, getCopyright: ug.Em, getCopyrightCollection: ug.kE }); U(window, { BMAP_MAPTYPE_CONTROL_HORIZONTAL: gd, BMAP_MAPTYPE_CONTROL_DROPDOWN: 1, BMAP_MAPTYPE_CONTROL_MAP: 2 }); var vg = Pd.prototype; U(vg, { getMapType: vg.oa, getCopyright: vg.Em, isTransparentPng: vg.St }); var wg = kd.prototype; U(wg, { addItem: wg.Rw, addSeparator: wg.vC, removeSeparator: wg.LF }); var xg = nd.prototype; U(xg, { setText: xg.tu }); var yg = Y.prototype; U(yg, { getStatus: yg.Mm, setSearchCompleteCallback: yg.dG, getPageCapacity: yg.qf, setPageCapacity: yg.kq, setLocation: yg.yn, disableFirstResultSelection: yg.oD, enableFirstResultSelection: yg.ND, gotoPage: yg.Rm, searchNearby: yg.gq, searchInBounds: yg.vn, search: yg.search }); U(window, { BMAP_STATUS_SUCCESS: 0, BMAP_STATUS_CITY_LIST: 1, BMAP_STATUS_UNKNOWN_LOCATION: 2, BMAP_STATUS_UNKNOWN_ROUTE: 3, BMAP_STATUS_INVALID_KEY: 4, BMAP_STATUS_INVALID_REQUEST: 5, BMAP_STATUS_PERMISSION_DENIED: 6, BMAP_STATUS_SERVICE_UNAVAILABLE: 7, BMAP_STATUS_TIMEOUT: 8 }); U(window, { BMAP_POI_TYPE_NORMAL: 0, BMAP_POI_TYPE_BUSSTOP: 1, BMAP_POI_TYPE_BUSLINE: 2, BMAP_POI_TYPE_SUBSTOP: 3, BMAP_POI_TYPE_SUBLINE: 4 }); U(window, { BMAP_TRANSIT_POLICY_LEAST_TIME: 0, BMAP_TRANSIT_POLICY_LEAST_TRANSFER: 2, BMAP_TRANSIT_POLICY_LEAST_WALKING: 3, BMAP_TRANSIT_POLICY_AVOID_SUBWAYS: 4, BMAP_LINE_TYPE_BUS: 0, BMAP_LINE_TYPE_SUBWAY: 1, BMAP_LINE_TYPE_FERRY: 2 }); var zg = Ce.prototype; U(zg, { clearResults: zg.Qe }); Ee = De.prototype; U(Ee, { setPolicy: Ee.su, toString: Ee.toString, setPageCapacity: Ee.kq }); U(window, { BMAP_DRIVING_POLICY_LEAST_TIME: 0, BMAP_DRIVING_POLICY_LEAST_DISTANCE: 1, BMAP_DRIVING_POLICY_AVOID_HIGHWAYS: 2 }); U(window, { BMAP_MODE_DRIVING: "driving", BMAP_MODE_TRANSIT: "transit", BMAP_MODE_WALKING: "walking", BMAP_MODE_NAVIGATION: "navigation" }); var Ag = Qe.prototype; U(Ag, { routeCall: Ag.vO }); U(window, { BMAP_HIGHLIGHT_STEP: 1, BMAP_HIGHLIGHT_ROUTE: 2 }); U(window, { BMAP_ROUTE_TYPE_DRIVING: oe, BMAP_ROUTE_TYPE_WALKING: ne }); U(window, { BMAP_ROUTE_STATUS_NORMAL: pe, BMAP_ROUTE_STATUS_EMPTY: 1, BMAP_ROUTE_STATUS_ADDRESS: 2 }); var Bg = Ge.prototype; U(Bg, { setPolicy: Bg.su }); var Cg = We.prototype; U(Cg, { show: Cg.show, hide: Cg.U, setTypes: Cg.eG, setLocation: Cg.yn, search: Cg.search, setInputValue: Cg.bz }); U(tb.prototype, {}); var Dg = Ue.prototype; U(Dg, { get: Dg.get }); U(id.prototype, {}); U(ib.prototype, {}); U(window, { BMAP_POINT_DENSITY_HIGH: 200, BMAP_POINT_DENSITY_MEDIUM: be, BMAP_POINT_DENSITY_LOW: 50 }); U(window, { BMAP_POINT_SHAPE_STAR: 1, BMAP_POINT_SHAPE_WATERDROP: 2, BMAP_POINT_SHAPE_CIRCLE: Ed, BMAP_POINT_SHAPE_SQUARE: 4, BMAP_POINT_SHAPE_RHOMBUS: 5 }); U(window, { BMAP_POINT_SIZE_TINY: 1, BMAP_POINT_SIZE_SMALLER: 2, BMAP_POINT_SIZE_SMALL: 3, BMAP_POINT_SIZE_NORMAL: Fd, BMAP_POINT_SIZE_BIG: 5, BMAP_POINT_SIZE_BIGGER: 6, BMAP_POINT_SIZE_HUGE: 7 }); U(window, { BMap_Symbol_SHAPE_CAMERA: 11, BMap_Symbol_SHAPE_WARNING: 12, BMap_Symbol_SHAPE_SMILE: 13, BMap_Symbol_SHAPE_CLOCK: 14, BMap_Symbol_SHAPE_POINT: 9, BMap_Symbol_SHAPE_PLANE: 10, BMap_Symbol_SHAPE_CIRCLE: 1, BMap_Symbol_SHAPE_RECTANGLE: 2, BMap_Symbol_SHAPE_RHOMBUS: 3, BMap_Symbol_SHAPE_STAR: 4, BMap_Symbol_SHAPE_BACKWARD_CLOSED_ARROW: 5, BMap_Symbol_SHAPE_FORWARD_CLOSED_ARROW: 6, BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW: 7, BMap_Symbol_SHAPE_FORWARD_OPEN_ARROW: 8 }); U(window, { BMAP_CONTEXT_MENU_ICON_ZOOMIN: ld, BMAP_CONTEXT_MENU_ICON_ZOOMOUT: md }); U(window, { BMAP_SYS_DRAWER: La, BMAP_SVG_DRAWER: 1, BMAP_VML_DRAWER: 2, BMAP_CANVAS_DRAWER: 3, BMAP_SVG_DRAWER_FIRST: 4 }); B.Vw(); B.R0(); })()